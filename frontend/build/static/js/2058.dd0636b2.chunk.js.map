{"version":3,"file":"static/js/2058.dd0636b2.chunk.js","mappings":"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","sources":["components/ChatBotIcon/ping.js","components/ChatBotIcon/ChatBotIcon.jsx","Pages/Footer.jsx","Pages/TestHomeHeader.jsx","Pages/Logout/Logout.jsx"],"sourcesContent":["const createPingSound = () => {\r\n  // Simple WAV file data URL with a short beep\r\n  // This is a minimal WAV file containing a 440Hz tone for about 200ms\r\n  const wavData = \"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmgfCdKR2/LVdiMFl5qQ0NJhJwAVZrXn6UoMCtmr5uW5bhoFl6mc0dVmDAOJmdR+UD0hD2K76dVrHwgXirLe2HIqBTyDyfHchzIFC0G25+mxWhAJYKHV7b1qLwU0g8rx34k1BTGByvHciEAHGGy88tyWPgUmfMs+4YlEBTqByvHci0EGH3LB9deWP\";\r\n  \r\n  return wavData;\r\n};\r\n\r\n// Export the ping sound\r\nconst beepUrl = createPingSound();\r\nexport default beepUrl;\r\n","import React, { useEffect, useRef, useState, useMemo, useCallback } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport API from \"../../helpers/API\";\r\nimport { useSocket } from \"../../Context/SocketContext\";\r\nimport { useAuth } from \"../../Context/AuthContext\";\r\nimport { logWithIcon } from \"../../utils/consoleIcons\";\r\nimport \"./ChatBotIcon.css\";\r\nimport beepUrl from \"./ping\";\r\nimport FavIconLogo from \"./FaviIcon-Logo.png\";\r\nimport Modal from 'react-modal';\r\n\r\nModal.setAppElement('#root');\r\n\r\n// Use environment variable or fallback to default\r\nconst STORAGE_USER_KEY = process.env.REACT_APP_CHAT_STORAGE_USER_KEY || \"chat_widget_userinfo_v1\";\r\nconst STORAGE_MESSAGES_PREFIX = process.env.REACT_APP_CHAT_STORAGE_MESSAGES_PREFIX || \"chat_widget_messages_v1_\";\r\nconst STORAGE_INPUT_KEY = process.env.REACT_APP_CHAT_INPUT_KEY || \"chat_widget_input_text\";\r\n\r\nfunction timeAgo(ts) {\r\n  if (!ts) return \"\";\r\n  const d = new Date(ts);\r\n  const diff = Math.floor((Date.now() - d.getTime()) / 1000);\r\n  if (diff < 10) return \"just now\";\r\n  if (diff < 60) return `${diff}s`;\r\n  if (diff < 3600) return `${Math.floor(diff / 60)}m`;\r\n  if (diff < 86400) return `${Math.floor(diff / 3600)}h`;\r\n  return d.toLocaleDateString();\r\n}\r\n\r\nconst defaultAvatar =\r\n  \"https://img.freepik.com/premium-vector/account-icon-user-icon-vector-graphics_292645-552.jpg?w=300\";\r\n\r\nconst getProfileImageSrc = (userPhoto, isGuest = false) => {\r\n  if (isGuest) return defaultAvatar;\r\n  if (!userPhoto) return \"\";\r\n  const isUploadPath =\r\n    typeof userPhoto === \"string\" &&\r\n    userPhoto.startsWith(\"/uploads/userAvatars/\");\r\n  return isUploadPath\r\n    ? process.env.REACT_APP_API_URL + userPhoto\r\n    : userPhoto;\r\n};\r\n\r\nasync function fetchBusinessHours() {\r\n  try {\r\n    const res = await API.get(`/api/v1/businessHours/checkBusinessHoursStatus`);\r\n    if (res.data.success) {\r\n      return res.data.data;\r\n    }\r\n  } catch (err) {\r\n    logWithIcon.error(\"Failed to fetch business hours\", err);\r\n  }\r\n  return null;\r\n}\r\n\r\nconst ChatBotIcon = () => {\r\n  const { socket, isConnected } = useSocket();\r\n  const [auth] = useAuth();\r\n  const userFromAuth = auth?.user;\r\n\r\n  const [input, setInput] = useState(\"\");\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [session, setSession] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [businessInfo, setBusinessInfo] = useState(null);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [showGuestForm, setShowGuestForm] = useState(false);\r\n  const [isSubmittingGuest, setIsSubmittingGuest] = useState(false);\r\n  const [guestFormSubmitted, setGuestFormSubmitted] = useState(false);\r\n  const [guestFormErrors, setGuestFormErrors] = useState({});\r\n  const [defaultMessagesLoaded, setDefaultMessagesLoaded] = useState(false);\r\n  const [hasUserSentMessage, setHasUserSentMessage] = useState(false);\r\n  \r\n  const [pendingMessages, setPendingMessages] = useState(new Set());\r\n  \r\n  const [guestInfo, setGuestInfo] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    phone: ''\r\n  });\r\n\r\n  const audioRef = useRef(null);\r\n  const messagesEndRef = useRef(null);\r\n\r\n  // FIXED: Proper user form submission check\r\n  const userFormSubmitted = useMemo(() => {\r\n    if (userFromAuth) {\r\n      logWithIcon.success('User is authenticated:', userFromAuth.email);\r\n      return true;\r\n    }\r\n    \r\n    logWithIcon.active('Guest form submission status:', guestFormSubmitted);\r\n    return guestFormSubmitted;\r\n  }, [userFromAuth, guestFormSubmitted]);\r\n\r\n  // FIXED: Simplified guest form trigger logic\r\n  const shouldShowGuestForm = useMemo(() => {\r\n    const result = !userFromAuth && !guestFormSubmitted;\r\n    logWithIcon.guest('Should show guest form:', {\r\n      userFromAuth: !!userFromAuth,\r\n      guestFormSubmitted,\r\n      result\r\n    });\r\n    return result;\r\n  }, [userFromAuth, guestFormSubmitted]);\r\n\r\n  const storageKey = useMemo(\r\n    () => STORAGE_MESSAGES_PREFIX + (session?._id || session?.id || \"guest\"),\r\n    [session]\r\n  );\r\n\r\n  // FIXED: Add proper modal reset function\r\n  const resetGuestForm = useCallback(() => {\r\n    setShowGuestForm(false);\r\n    setGuestFormErrors({});\r\n    setIsSubmittingGuest(false);\r\n    // Don't reset guestInfo data as user might want to retry\r\n  }, []);\r\n\r\n  // FIXED: Add proper form cancellation that clears everything\r\n  const cancelGuestForm = useCallback(() => {\r\n    setShowGuestForm(false);\r\n    setGuestFormErrors({});\r\n    setIsSubmittingGuest(false);\r\n    setGuestFormSubmitted(false);\r\n    \r\n    // Clear any pending state\r\n    setHasUserSentMessage(false);\r\n    \r\n    // Remove the last user message if it was added before form submission\r\n    setMessages(prev => {\r\n      const lastMessage = prev[prev.length - 1];\r\n      if (lastMessage && lastMessage.from === 'user' && !guestFormSubmitted) {\r\n        return prev.slice(0, -1);\r\n      }\r\n      return prev;\r\n    });\r\n    \r\n    // Clear localStorage guest info\r\n    try {\r\n      localStorage.removeItem(STORAGE_USER_KEY);\r\n    } catch (error) {\r\n      console.warn(\"Failed to clear guest info from localStorage:\", error);\r\n    }\r\n    \r\n    // Reset guest info\r\n    setGuestInfo({\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      phone: ''\r\n    });\r\n    \r\n    console.log('Guest form cancelled and state reset');\r\n  }, [guestFormSubmitted]);\r\n\r\n  // FIXED: Enhanced modal overlay click handler\r\n  const handleModalOverlayClick = useCallback((e) => {\r\n    // Only close if clicking directly on the overlay (not on modal content)\r\n    if (e.target === e.currentTarget && !isSubmittingGuest) {\r\n      resetGuestForm();\r\n    }\r\n  }, [isSubmittingGuest, resetGuestForm]);\r\n\r\n  // FIXED: Enhanced ESC key handler\r\n  useEffect(() => {\r\n    const handleEscKey = (e) => {\r\n      if (e.key === 'Escape' && showGuestForm && !isSubmittingGuest) {\r\n        resetGuestForm();\r\n      }\r\n    };\r\n\r\n    if (showGuestForm) {\r\n      document.addEventListener('keydown', handleEscKey);\r\n      return () => document.removeEventListener('keydown', handleEscKey);\r\n    }\r\n  }, [showGuestForm, isSubmittingGuest, resetGuestForm]);\r\n\r\n  // Load persisted input text on mount\r\n  useEffect(() => {\r\n    try {\r\n      const savedInput = localStorage.getItem(STORAGE_INPUT_KEY);\r\n      if (savedInput && savedInput.trim()) {\r\n        setInput(savedInput);\r\n      }\r\n    } catch (error) {\r\n      console.warn(\"Failed to load input from localStorage:\", error);\r\n    }\r\n  }, []);\r\n\r\n  // FIXED: Only persist input when chat is open and user is typing\r\n  useEffect(() => {\r\n    if (!isOpen) return; // Don't persist when chat is closed\r\n    \r\n    const timeoutId = setTimeout(() => {\r\n      try {\r\n        if (input && input.trim()) {\r\n          localStorage.setItem(STORAGE_INPUT_KEY, input);\r\n        } else if (!input) {\r\n          localStorage.removeItem(STORAGE_INPUT_KEY);\r\n        }\r\n      } catch (error) {\r\n        console.warn(\"Failed to save input to localStorage:\", error);\r\n      }\r\n    }, 300);\r\n\r\n    return () => clearTimeout(timeoutId);\r\n  }, [input, isOpen]);\r\n\r\n  /** --- Load persisted guest + messages on mount --- **/\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem(STORAGE_USER_KEY);\r\n      if (raw) {\r\n        const u = JSON.parse(raw);\r\n        setGuestInfo({\r\n          firstName: u.firstName || \"\",\r\n          lastName: u.lastName || \"\",\r\n          email: u.email || \"\",\r\n          phone: u.phone || \"\"\r\n        });\r\n        \r\n        const hasRequiredInfo = Boolean(u.firstName && u.email && u.firstName.trim() && u.email.trim());\r\n        setGuestFormSubmitted(hasRequiredInfo);\r\n        console.log('Loaded guest info from storage:', u, 'Form submitted:', hasRequiredInfo);\r\n      }\r\n    } catch (error) {\r\n      console.warn(\"Failed to load guest info from localStorage:\", error);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem(storageKey);\r\n      if (raw) {\r\n        const loadedMessages = JSON.parse(raw);\r\n        setMessages(loadedMessages);\r\n        // Check if user has sent any messages from loaded history\r\n        const userMessageExists = loadedMessages.some(msg => msg.from === \"user\");\r\n        if (userMessageExists) {\r\n          setHasUserSentMessage(true);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.warn(\"Failed to load messages from localStorage:\", error);\r\n    }\r\n  }, [storageKey]);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem(storageKey, JSON.stringify(messages));\r\n    } catch (error) {\r\n      console.warn(\"Failed to save messages to localStorage:\", error);\r\n    }\r\n  }, [messages, storageKey]);\r\n\r\n  /** --- Scroll to bottom on new messages when open --- **/\r\n  useEffect(() => {\r\n    if (isOpen && messagesEndRef.current) {\r\n      messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n  }, [messages, isOpen]);\r\n\r\n  /** --- Prepare notification sound --- **/\r\n  useEffect(() => {\r\n    if (beepUrl) audioRef.current = new Audio(beepUrl);\r\n  }, []);\r\n\r\n  /** --- Socket listeners --- **/\r\n  const normalizeMessage = useCallback(\r\n    (msg) => {\r\n      if (!msg) return null;\r\n      const id = msg._id || msg.id || `m_${Date.now()}_${Math.random()}`;\r\n      const text = msg.message || msg.text || \"\";\r\n      const ts = msg.createdAt || msg.timestamp || Date.now();\r\n      const from =\r\n        msg.senderType === \"user\"\r\n          ? \"user\"\r\n          : msg.senderType === \"agent\"\r\n          ? \"agent\"\r\n          : msg.senderType === \"bot\"\r\n          ? \"bot\"\r\n          : msg.from || \"bot\";\r\n\r\n      const avatar =\r\n        msg.metadata?.senderAvatar ||\r\n        (from === \"agent\"\r\n          ? session?.agent?.photo || FavIconLogo\r\n          : from === \"user\"\r\n          ? getProfileImageSrc(userFromAuth?.photo, !userFromAuth)\r\n          : FavIconLogo);\r\n\r\n      return {\r\n        id,\r\n        from,\r\n        text,\r\n        timestamp: ts,\r\n        avatar,\r\n        quickReplies: msg.metadata?.quickReplies || msg.quickReplies || [],\r\n      };\r\n    },\r\n    [session, userFromAuth]\r\n  );\r\n\r\n  const handleIncomingMessage = useCallback(\r\n    (rawMsg) => {\r\n      const msg = normalizeMessage(rawMsg);\r\n      if (!msg) return;\r\n\r\n      setMessages((prevMessages) => {\r\n        const messageExists = prevMessages.some(existingMsg => \r\n          existingMsg.id === msg.id || \r\n          (existingMsg.text === msg.text && \r\n           existingMsg.from === msg.from && \r\n           Math.abs(existingMsg.timestamp - msg.timestamp) < 1000)\r\n        );\r\n\r\n        if (messageExists) {\r\n          console.log('Duplicate message detected, skipping:', msg);\r\n          return prevMessages;\r\n        }\r\n\r\n        if (msg.from === 'user') {\r\n          setPendingMessages(prev => {\r\n            const newPending = new Set(prev);\r\n            for (const pendingId of prev) {\r\n              if (pendingId.includes(msg.text.substring(0, 10))) {\r\n                newPending.delete(pendingId);\r\n              }\r\n            }\r\n            return newPending;\r\n          });\r\n        }\r\n\r\n        return [...prevMessages, msg];\r\n      });\r\n\r\n      if (!isOpen) {\r\n        setUnreadCount((n) => n + 1);\r\n        try {\r\n          audioRef.current && audioRef.current.play().catch(() => {});\r\n        } catch {}\r\n      }\r\n    },\r\n    [normalizeMessage, isOpen]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    const onSessionCreated = (payloadRaw) => {\r\n      console.log('Session created event received:', payloadRaw);\r\n      const payload = payloadRaw?.body?.data || payloadRaw;\r\n      const sess = payload?.session || payload || null;\r\n      if (sess) {\r\n        setSession(sess);\r\n        console.log('Session set:', sess);\r\n        if (payload.businessHours) setBusinessInfo(payload.businessHours);\r\n      }\r\n      if (payload?.welcomeMessage) {\r\n        handleIncomingMessage(payload.welcomeMessage);\r\n      }\r\n    };\r\n\r\n    const onMessageNew = (msg) => handleIncomingMessage(msg);\r\n    const onMessageStatus = ({ messageId, status }) =>\r\n      setMessages((prev) =>\r\n        prev.map((m) => (m.id === messageId ? { ...m, status } : m))\r\n      );\r\n\r\n    socket.on(\"session:created\", onSessionCreated);\r\n    socket.on(\"message:new\", onMessageNew);\r\n    socket.on(\"message:status\", onMessageStatus);\r\n\r\n    return () => {\r\n      socket.off(\"session:created\", onSessionCreated);\r\n      socket.off(\"message:new\", onMessageNew);\r\n      socket.off(\"message:status\", onMessageStatus);\r\n    };\r\n  }, [socket, handleIncomingMessage]);\r\n\r\n  /** --- Create a new session --- **/\r\n  const createSession = useCallback(async () => {\r\n    if (!socket || !socket.connected || session) {\r\n      console.log('Cannot create session:', {\r\n        hasSocket: !!socket,\r\n        isConnected: socket?.connected,\r\n        hasSession: !!session\r\n      });\r\n      return;\r\n    }\r\n\r\n    let sessionData;\r\n    const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n\r\n    if (userFromAuth) {\r\n      console.log('Creating session for authenticated user:', userFromAuth.email);\r\n      sessionData = {\r\n        entryPoint: \"widget\",\r\n        selectedOption: \"general_inquiry\",\r\n        timezone,\r\n        firstName: userFromAuth.firstname || userFromAuth.firstName,\r\n        lastName: userFromAuth.lastname || userFromAuth.lastName,\r\n        email: userFromAuth.email,\r\n        phone: userFromAuth.phone || '',\r\n        metadata: {\r\n          authenticatedUser: true,\r\n          userId: userFromAuth._id || userFromAuth.id\r\n        }\r\n      };\r\n    } else {\r\n      console.log('Creating session for guest user:', guestInfo);\r\n      const { firstName, lastName, email, phone } = guestInfo;\r\n      \r\n      try {\r\n        localStorage.setItem(\r\n          STORAGE_USER_KEY,\r\n          JSON.stringify({ firstName, lastName, email, phone })\r\n        );\r\n      } catch (error) {\r\n        console.warn(\"Failed to save guest info to localStorage:\", error);\r\n      }\r\n\r\n      sessionData = {\r\n        entryPoint: \"widget\",\r\n        selectedOption: \"general_inquiry\",\r\n        timezone,\r\n        firstName,\r\n        lastName,\r\n        email,\r\n        phone,\r\n        guestEmail: email,\r\n        metadata: {\r\n          guestFirstName: firstName,\r\n          guestLastName: lastName,\r\n          guestPhone: phone\r\n        }\r\n      };\r\n    }\r\n\r\n    console.log('Emitting session:create with data:', sessionData);\r\n\r\n    socket.emit(\"session:create\", sessionData, (err, result) => {\r\n      if (err) {\r\n        console.error(\"session:create err\", err);\r\n        return;\r\n      }\r\n      console.log('Session creation response:', result);\r\n      const data = result?.body?.data || result;\r\n      const sess = data?.session || data || null;\r\n      if (sess) {\r\n        setSession(sess);\r\n        if (data.welcomeMessage) handleIncomingMessage(data.welcomeMessage);\r\n        if (data.businessHours) setBusinessInfo(data.businessHours);\r\n      }\r\n    });\r\n  }, [\r\n    socket,\r\n    session,\r\n    userFromAuth,\r\n    guestInfo,\r\n    handleIncomingMessage\r\n  ]);\r\n\r\n  // FIXED: Enhanced form validation with better error handling\r\n  const validateGuestForm = useCallback(() => {\r\n    const errors = {};\r\n    \r\n    if (!guestInfo.firstName.trim()) {\r\n      errors.firstName = 'First name is required';\r\n    } else if (guestInfo.firstName.trim().length < 2) {\r\n      errors.firstName = 'First name must be at least 2 characters';\r\n    }\r\n    \r\n    if (!guestInfo.email.trim()) {\r\n      errors.email = 'Email is required';\r\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(guestInfo.email.trim())) {\r\n      errors.email = 'Please enter a valid email address';\r\n    }\r\n    \r\n    if (guestInfo.phone && guestInfo.phone.trim()) {\r\n      // More flexible phone validation\r\n      const phoneRegex = /^[\\d\\s+\\-()\\.]+$/;\r\n      if (!phoneRegex.test(guestInfo.phone)) {\r\n        errors.phone = 'Please enter a valid phone number';\r\n      }\r\n    }\r\n    \r\n    return errors;\r\n  }, [guestInfo]);\r\n\r\n  // FIXED: Enhanced guest form change handler with real-time validation clearing\r\n  const handleGuestFormChange = useCallback((e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    setGuestInfo(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    \r\n    // Clear specific field error when user starts typing\r\n    if (guestFormErrors[name]) {\r\n      setGuestFormErrors(prev => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors[name];\r\n        return newErrors;\r\n      });\r\n    }\r\n    \r\n    // Clear submit error when user makes changes\r\n    if (guestFormErrors.submit) {\r\n      setGuestFormErrors(prev => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors.submit;\r\n        return newErrors;\r\n      });\r\n    }\r\n  }, [guestFormErrors]);\r\n\r\n  // FIXED: Enhanced submit function with better error handling\r\n  const submitGuestForm = useCallback(async () => {\r\n    const errors = validateGuestForm();\r\n    \r\n    if (Object.keys(errors).length > 0) {\r\n      setGuestFormErrors(errors);\r\n      return;\r\n    }\r\n\r\n    setIsSubmittingGuest(true);\r\n    setGuestFormErrors({}); // Clear any previous errors\r\n    \r\n    try {\r\n      const response = await API.post('/api/v1/guestUsers/create-guest-user', {\r\n        firstName: guestInfo.firstName.trim(),\r\n        lastName: guestInfo.lastName.trim(),\r\n        email: guestInfo.email.trim(),\r\n        phone: guestInfo.phone.trim()\r\n      });\r\n      \r\n      if (response.data.success) {\r\n        const { firstName, lastName, email, phone } = response.data.data;\r\n        \r\n        // Update guest info with server response\r\n        setGuestInfo({ firstName, lastName, email, phone });\r\n        setGuestFormSubmitted(true);\r\n        setShowGuestForm(false);\r\n        setGuestFormErrors({});\r\n        \r\n        // Persist to localStorage\r\n        try {\r\n          localStorage.setItem(STORAGE_USER_KEY, JSON.stringify({\r\n            firstName,\r\n            lastName,\r\n            email,\r\n            phone\r\n          }));\r\n        } catch (error) {\r\n          console.warn(\"Failed to save guest info to localStorage:\", error);\r\n        }\r\n        \r\n        // Create session and send pending message\r\n        console.log('Guest form submitted, creating session...');\r\n        if (socket && socket.connected && !session) {\r\n          await createSession();\r\n        }\r\n        \r\n        // Send the last user message after form submission\r\n        const lastUserMessage = messages[messages.length - 1];\r\n        if (lastUserMessage && lastUserMessage.from === 'user') {\r\n          console.log('Sending guest user message to server after form submission...');\r\n          // Small delay to ensure session is created\r\n          setTimeout(() => {\r\n            if (socket && socket.connected && session) {\r\n              socket.emit(\"message:send\", {\r\n                sessionId: session?._id || session?.id,\r\n                message: lastUserMessage.text,\r\n                messageType: \"text\",\r\n              });\r\n            }\r\n          }, 1000);\r\n        }\r\n        \r\n        logWithIcon.success('Guest user created and session initialized');\r\n      } else {\r\n        throw new Error(response.data.message || 'Failed to create guest user');\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error saving guest user:\", error);\r\n      setGuestFormErrors({\r\n        submit: error.response?.data?.message || \r\n                 error.message || \r\n                 'Failed to save guest information. Please try again.'\r\n      });\r\n    } finally {\r\n      setIsSubmittingGuest(false);\r\n    }\r\n  }, [guestInfo, validateGuestForm, socket, session, messages, createSession]);\r\n\r\n  /** --- FIXED: Send message with immediate guest form trigger --- **/\r\n  const sendMessage = useCallback(() => {\r\n    if (!input.trim()) return;\r\n    \r\n    const text = input.trim();\r\n    const messageId = `local_${Date.now()}_${Math.random()}`;\r\n    \r\n    // Clear input immediately\r\n    setInput(\"\");\r\n    try {\r\n      localStorage.removeItem(STORAGE_INPUT_KEY);\r\n    } catch (error) {\r\n      console.warn(\"Failed to clear input from localStorage:\", error);\r\n    }\r\n    \r\n    // Add message locally for immediate feedback\r\n    const userMessage = {\r\n      id: messageId,\r\n      from: \"user\",\r\n      text,\r\n      timestamp: Date.now(),\r\n      avatar: userFromAuth\r\n        ? getProfileImageSrc(userFromAuth?.photo)\r\n        : defaultAvatar,\r\n    };\r\n    \r\n    setMessages(prev => [...prev, userMessage]);\r\n    setHasUserSentMessage(true);\r\n    \r\n    // FIXED: For guests, show form immediately after first message\r\n    if (!userFromAuth && !guestFormSubmitted) {\r\n      console.log('Guest user sent first message, triggering form...', {\r\n        userFromAuth: !!userFromAuth,\r\n        guestFormSubmitted,\r\n        hasUserSentMessage: true\r\n      });\r\n      // Use immediate state update instead of setTimeout for more reliable triggering\r\n      setShowGuestForm(true);\r\n      return; // Don't send to server yet, wait for guest info\r\n    }\r\n    \r\n    // Send via socket if user is authenticated or guest info is already collected\r\n    if (socket && socket.connected && session) {\r\n      socket.emit(\"message:send\", {\r\n        sessionId: session?._id || session?.id,\r\n        message: text,\r\n        messageType: \"text\",\r\n      });\r\n    }\r\n  }, [input, session, socket, userFromAuth, guestFormSubmitted]);\r\n    \r\n  const handleQuickReply = useCallback(\r\n    (option) => {\r\n      const value = option.value || option.text || option;\r\n      const text = option.text || value;\r\n      const messageId = `local_qr_${Date.now()}_${Math.random()}`;\r\n      \r\n      // Add message locally for immediate feedback\r\n      const userMessage = {\r\n        id: messageId,\r\n        from: \"user\",\r\n        text,\r\n        timestamp: Date.now(),\r\n        avatar: userFromAuth\r\n          ? getProfileImageSrc(userFromAuth?.photo)\r\n          : defaultAvatar,\r\n      };\r\n      \r\n      setMessages(prev => [...prev, userMessage]);\r\n      setHasUserSentMessage(true);\r\n      \r\n      // FIXED: For guests, show form immediately after quick reply\r\n      if (!userFromAuth && !guestFormSubmitted) {\r\n        console.log('Guest user selected option, triggering form...', {\r\n          userFromAuth: !!userFromAuth,\r\n          guestFormSubmitted,\r\n          hasUserSentMessage: true\r\n        });\r\n        // Use immediate state update instead of setTimeout\r\n        setShowGuestForm(true);\r\n        return; // Don't send to server yet, wait for guest info\r\n      }\r\n      \r\n      // Send via socket if user is authenticated or guest info is collected\r\n      if (socket && socket.connected && session) {\r\n        socket.emit(\"message:send\", {\r\n          sessionId: session._id || session.id,\r\n          message: value,\r\n          messageType: \"option_selection\",\r\n        });\r\n      }\r\n    },\r\n    [session, socket, userFromAuth, guestFormSubmitted]\r\n  );\r\n\r\n  const renderMessage = (m, index) => {\r\n    const isUser = m.from === \"user\";\r\n    return (\r\n      <div key={`${m.id}-${index}`} className={`chat-row ${isUser ? \"user\" : \"agent-or-bot\"}`}>\r\n        {!isUser && (\r\n          <img className=\"msg-avatar\" src={m.avatar} alt={m.from} />\r\n        )}\r\n        <div className=\"msg-body\">\r\n          <div className={`msg-text ${isUser ? \"user-bubble\" : \"\"}`}>\r\n            {m.text}\r\n          </div>\r\n          {m.quickReplies?.length > 0 && (\r\n            <div className=\"message-quick-replies\">\r\n              {m.quickReplies.map((qr, i) => (\r\n                <button\r\n                  key={`${m.id}-qr-${i}`}\r\n                  className=\"quick-reply-btn\"\r\n                  onClick={() => handleQuickReply(qr)}\r\n                >\r\n                  {qr.text || qr}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n          <div className=\"msg-meta\">\r\n            <span className=\"msg-time\">{timeAgo(m.timestamp)}</span>\r\n          </div>\r\n        </div>\r\n        {isUser && (\r\n          <img\r\n            className=\"msg-avatar\"\r\n            src={m.avatar}\r\n            alt=\"You\"\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  /** --- FIXED: Initialize chat session --- **/\r\n  const initializeChatSession = useCallback(async () => {\r\n    console.log('Initializing chat session...', {\r\n      hasSession: !!session,\r\n      hasSocket: !!socket,\r\n      isConnected: socket?.connected,\r\n      userFormSubmitted,\r\n      defaultMessagesLoaded\r\n    });\r\n    \r\n    // Load default messages only once\r\n    if (messages.length === 0 && !defaultMessagesLoaded) {\r\n      setDefaultMessagesLoaded(true);\r\n      \r\n      const biz = await fetchBusinessHours();\r\n      setBusinessInfo(biz);\r\n      \r\n      if (biz && !biz.isOpen && biz.outsideHoursMessage) {\r\n        setMessages([\r\n          {\r\n            id: \"outside-hours\",\r\n            from: \"bot\",\r\n            text: biz.outsideHoursMessage,\r\n            timestamp: Date.now(),\r\n            avatar: FavIconLogo,\r\n            quickReplies: biz.outsideHoursOptions || [],\r\n          },\r\n        ]);\r\n      } else {\r\n        setMessages([\r\n          {\r\n            id: \"welcome-fallback\",\r\n            from: \"bot\",\r\n            text: \"How can I be of service to you?\",\r\n            timestamp: Date.now(),\r\n            avatar: FavIconLogo,\r\n            quickReplies: [\r\n              { text: \"What is your service?\", value: \"service_info\" },\r\n              { text: \"Why should I choose you?\", value: \"why_choose_us\" },\r\n              { text: \"How do I get started?\", value: \"getting_started\" },\r\n              { text: \"Search Jobs\", value: \"search_job\" },\r\n              { text: \"Partnership Info\", value: \"partner_pspl\" },\r\n              { text: \"Application Help\", value: \"application_issue\" },\r\n              { text: \"Talk to Agent\", value: \"live_agent\" },\r\n            ],\r\n          },\r\n        ]);\r\n      }\r\n    }\r\n    \r\n    // FIXED: Create session for authenticated users immediately, for guests only after form submission\r\n    if (!session && socket && socket.connected) {\r\n      if (userFromAuth) {\r\n        // Authenticated users can create session immediately\r\n        console.log('Creating session for authenticated user...');\r\n        await createSession();\r\n      } else if (guestFormSubmitted) {\r\n        // Guest users only after form submission\r\n        console.log('Creating session for guest user after form submission...');\r\n        await createSession();\r\n      }\r\n    }\r\n  }, [session, socket, userFormSubmitted, defaultMessagesLoaded, messages.length, createSession, userFromAuth, guestFormSubmitted]);\r\n\r\n  const handleHeaderClick = () => {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  /** --- FIXED: Toggle Chat with proper initialization --- **/\r\n  const handleToggle = async () => {\r\n    const next = !isOpen;\r\n    setIsOpen(next);\r\n    \r\n    if (next) {\r\n      setUnreadCount(0);\r\n      \r\n      console.log('Debug - handleToggle:', {\r\n        userFromAuth: !!userFromAuth,\r\n        guestFormSubmitted,\r\n        userFormSubmitted,\r\n        hasUserSentMessage\r\n      });\r\n      \r\n      // Always initialize chat when opening - guest form will show after first message if needed\r\n      await initializeChatSession();\r\n    }\r\n  };\r\n\r\n  // FIXED: Trigger guest form when it should show\r\n  useEffect(() => {\r\n    if (!userFromAuth && !guestFormSubmitted && hasUserSentMessage && !showGuestForm) {\r\n      console.log('Triggering guest form - conditions met');\r\n      setShowGuestForm(true);\r\n    }\r\n  }, [userFromAuth, guestFormSubmitted, hasUserSentMessage, showGuestForm]);\r\n\r\n  return (\r\n    <div className=\"chatbot-wrapper\">\r\n      <button\r\n        className={`chatbot-toggle ${isOpen ? \"open\" : \"\"}`}\r\n        onClick={handleToggle}\r\n      >\r\n        <div className=\"chat-toggle-inner\">\r\n          {!isOpen && <i className=\"fas fa-comment-dots fa-1x\"></i>}\r\n        </div>\r\n        {unreadCount > 0 && <div className=\"unread-badge\">{unreadCount}</div>}\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <div className=\"chatbot-box\">\r\n          <div className=\"chatbot-header\" onClick={handleHeaderClick} style={{ cursor: 'pointer' }}>\r\n            <div className=\"chat-header-left\">\r\n              <button\r\n                className=\"chat-close-btn\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setIsOpen(false);\r\n                }}\r\n              >\r\n                <i className=\"fas fa-chevron-down\"></i>\r\n              </button>\r\n              <div className=\"chat-avatar\">\r\n                <Link to=\"/\" onClick={(e) => e.stopPropagation()}>\r\n                  <img src={FavIconLogo} alt=\"ProsoftSynergies\" />\r\n                </Link>\r\n              </div>\r\n              <div>\r\n                <div className=\"chat-title\">\r\n                  {userFromAuth \r\n                    ? `Chat Assistant - ${userFromAuth.firstname || 'User'}`\r\n                    : userFormSubmitted \r\n                      ? `Chat Assistant - ${guestInfo.firstName}`\r\n                      : 'Chat Assistant'\r\n                  }\r\n                </div>\r\n                <div className=\"chat-sub\">\r\n                  {businessInfo\r\n                    ? businessInfo.isOpen\r\n                        ? \"We're online now\"\r\n                        : \"Outside business hours\"\r\n                    : isConnected\r\n                        ? \"Connected\"\r\n                        : \"Connecting...\"}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"chatbot-messages\">\r\n            {messages.map(renderMessage)}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n\r\n          <div className=\"chatbot-input\">\r\n            <input\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              placeholder=\"Type a message...\"\r\n              onKeyDown={(e) => {\r\n                if (e.key === 'Enter') {\r\n                  sendMessage();\r\n                }\r\n              }}\r\n              disabled={false} // Always enabled to allow first message\r\n            />\r\n            <button\r\n              onClick={sendMessage}\r\n              className=\"send-btn\"\r\n              disabled={false} // Always enabled to allow first message\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* FIXED: Guest Form Modal with proper event handling and styling */}\r\n      {showGuestForm && (\r\n        <div \r\n          className={`modal-overlay ${isSubmittingGuest ? 'submitting' : ''}`}\r\n          onClick={handleModalOverlayClick}\r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            zIndex: 9999,\r\n            padding: '1rem',\r\n            backdropFilter: 'blur(4px)'\r\n          }}\r\n        >\r\n          <div \r\n            className=\"modal-container\" \r\n            onClick={(e) => e.stopPropagation()}\r\n            style={{\r\n              backgroundColor: 'white',\r\n              borderRadius: '16px',\r\n              maxWidth: '480px',\r\n              width: '100%',\r\n              maxHeight: '90vh',\r\n              overflow: 'hidden',\r\n              boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',\r\n              position: 'relative',\r\n              animation: 'modalSlideIn 0.3s ease-out'\r\n            }}\r\n          >\r\n            {/* Enhanced Header */}\r\n            <div className=\"modal-header\" style={{\r\n              padding: '2rem 2rem 1rem',\r\n              textAlign: 'center',\r\n              background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\r\n              borderBottom: '1px solid #e2e8f0',\r\n              position: 'relative'\r\n            }}>\r\n              {/* Close button in top-right corner */}\r\n              <button\r\n                onClick={resetGuestForm}\r\n                disabled={isSubmittingGuest}\r\n                style={{\r\n                  position: 'absolute',\r\n                  top: '1rem',\r\n                  right: '1rem',\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  fontSize: '1.25rem',\r\n                  color: '#64748b',\r\n                  cursor: isSubmittingGuest ? 'not-allowed' : 'pointer',\r\n                  width: '32px',\r\n                  height: '32px',\r\n                  borderRadius: '50%',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  transition: 'all 0.2s ease',\r\n                  opacity: isSubmittingGuest ? 0.5 : 1\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  if (!isSubmittingGuest) {\r\n                    e.target.style.backgroundColor = '#f1f5f9';\r\n                    e.target.style.color = '#374151';\r\n                  }\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  if (!isSubmittingGuest) {\r\n                    e.target.style.backgroundColor = 'transparent';\r\n                    e.target.style.color = '#64748b';\r\n                  }\r\n                }}\r\n              >\r\n                <i className=\"fas fa-times\" onClick={cancelGuestForm}></i>\r\n              </button>\r\n\r\n              <div className=\"modal-header-content\">\r\n                <div className=\"modal-icon\" style={{\r\n                  width: '48px',\r\n                  height: '48px',\r\n                  backgroundColor: '#3b82f6',\r\n                  borderRadius: '12px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  margin: '0 auto 1rem',\r\n                  color: 'white',\r\n                  fontSize: '1.5rem'\r\n                }}>\r\n                  <i className=\"fas fa-user-plus\"></i>\r\n                </div>\r\n                <h2 className=\"modal-title\" style={{\r\n                  fontSize: '1.5rem',\r\n                  fontWeight: '700',\r\n                  color: '#1e293b',\r\n                  margin: '0 0 0.5rem'\r\n                }}>\r\n                  Let's get started!\r\n                </h2>\r\n                <p className=\"modal-subtitle\" style={{\r\n                  color: '#64748b',\r\n                  fontSize: '0.95rem',\r\n                  lineHeight: '1.5',\r\n                  margin: 0\r\n                }}>\r\n                  Help us provide you with personalized assistance by sharing a few details.\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Enhanced Form Body */}\r\n            <div className=\"modal-body\" style={{\r\n              padding: '1.5rem 2rem',\r\n              maxHeight: '400px',\r\n              overflowY: 'auto'\r\n            }}>\r\n              {guestFormErrors.submit && (\r\n                <div className=\"submit-error\" style={{\r\n                  backgroundColor: '#fef2f2',\r\n                  border: '1px solid #fecaca',\r\n                  borderRadius: '8px',\r\n                  padding: '0.75rem',\r\n                  marginBottom: '1rem',\r\n                  color: '#dc2626',\r\n                  fontSize: '0.875rem',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '0.5rem'\r\n                }}>\r\n                  <i className=\"fas fa-exclamation-triangle\"></i>\r\n                  <div>\r\n                    <strong>Unable to proceed:</strong> {guestFormErrors.submit}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"form-group\" style={{ marginBottom: '1rem' }}>\r\n                <label className=\"form-label\" style={{\r\n                  display: 'block',\r\n                  fontSize: '0.875rem',\r\n                  fontWeight: '600',\r\n                  color: '#374151',\r\n                  marginBottom: '0.5rem'\r\n                }}>\r\n                  First Name <span className=\"required\" style={{ color: '#dc2626' }}>*</span>\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"firstName\"\r\n                  value={guestInfo.firstName}\r\n                  onChange={handleGuestFormChange}\r\n                  disabled={isSubmittingGuest}\r\n                  className={`form-input ${\r\n                    guestFormErrors.firstName ? 'error' : \r\n                    guestInfo.firstName.trim() ? 'success' : ''\r\n                  }`}\r\n                  placeholder=\"Enter your first name\"\r\n                  autoComplete=\"given-name\"\r\n                  required\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.75rem',\r\n                    border: `2px solid ${\r\n                      guestFormErrors.firstName ? '#dc2626' :\r\n                      guestInfo.firstName.trim() ? '#10b981' : '#d1d5db'\r\n                    }`,\r\n                    borderRadius: '8px',\r\n                    fontSize: '0.95rem',\r\n                    transition: 'border-color 0.2s, box-shadow 0.2s',\r\n                    outline: 'none',\r\n                    opacity: isSubmittingGuest ? 0.7 : 1\r\n                  }}\r\n                  onFocus={(e) => {\r\n                    if (!guestFormErrors.firstName) {\r\n                      e.target.style.borderColor = '#3b82f6';\r\n                      e.target.style.boxShadow = '0 0 0 3px rgba(59, 130, 246, 0.1)';\r\n                    }\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    e.target.style.borderColor = guestFormErrors.firstName ? '#dc2626' :\r\n                      guestInfo.firstName.trim() ? '#10b981' : '#d1d5db';\r\n                    e.target.style.boxShadow = 'none';\r\n                  }}\r\n                />\r\n                {guestFormErrors.firstName && (\r\n                  <div className=\"error-message\" style={{\r\n                    color: '#dc2626',\r\n                    fontSize: '0.8rem',\r\n                    marginTop: '0.25rem',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.25rem'\r\n                  }}>\r\n                    <i className=\"fas fa-exclamation-circle\" style={{ fontSize: '0.75rem' }}></i>\r\n                    {guestFormErrors.firstName}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\" style={{ marginBottom: '1rem' }}>\r\n                <label className=\"form-label\" style={{\r\n                  display: 'block',\r\n                  fontSize: '0.875rem',\r\n                  fontWeight: '600',\r\n                  color: '#374151',\r\n                  marginBottom: '0.5rem'\r\n                }}>\r\n                  Last Name\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"lastName\"\r\n                  value={guestInfo.lastName}\r\n                  onChange={handleGuestFormChange}\r\n                  disabled={isSubmittingGuest}\r\n                  className={`form-input ${\r\n                    guestInfo.lastName.trim() ? 'success' : ''\r\n                  }`}\r\n                  placeholder=\"Enter your last name\"\r\n                  autoComplete=\"family-name\"\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.75rem',\r\n                    border: `2px solid ${\r\n                      guestInfo.lastName.trim() ? '#10b981' : '#d1d5db'\r\n                    }`,\r\n                    borderRadius: '8px',\r\n                    fontSize: '0.95rem',\r\n                    transition: 'border-color 0.2s, box-shadow 0.2s',\r\n                    outline: 'none',\r\n                    opacity: isSubmittingGuest ? 0.7 : 1\r\n                  }}\r\n                  onFocus={(e) => {\r\n                    e.target.style.borderColor = '#3b82f6';\r\n                    e.target.style.boxShadow = '0 0 0 3px rgba(59, 130, 246, 0.1)';\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    e.target.style.borderColor = guestInfo.lastName.trim() ? '#10b981' : '#d1d5db';\r\n                    e.target.style.boxShadow = 'none';\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\" style={{ marginBottom: '1rem' }}>\r\n                <label className=\"form-label\" style={{\r\n                  display: 'block',\r\n                  fontSize: '0.875rem',\r\n                  fontWeight: '600',\r\n                  color: '#374151',\r\n                  marginBottom: '0.5rem'\r\n                }}>\r\n                  Email Address <span className=\"required\" style={{ color: '#dc2626' }}>*</span>\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  value={guestInfo.email}\r\n                  onChange={handleGuestFormChange}\r\n                  disabled={isSubmittingGuest}\r\n                  className={`form-input ${\r\n                    guestFormErrors.email ? 'error' : \r\n                    guestInfo.email.trim() && /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(guestInfo.email) ? 'success' : ''\r\n                  }`}\r\n                  placeholder=\"your.email@example.com\"\r\n                  autoComplete=\"email\"\r\n                  required\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.75rem',\r\n                    border: `2px solid ${\r\n                      guestFormErrors.email ? '#dc2626' :\r\n                      guestInfo.email.trim() && /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(guestInfo.email) ? '#10b981' : '#d1d5db'\r\n                    }`,\r\n                    borderRadius: '8px',\r\n                    fontSize: '0.95rem',\r\n                    transition: 'border-color 0.2s, box-shadow 0.2s',\r\n                    outline: 'none',\r\n                    opacity: isSubmittingGuest ? 0.7 : 1\r\n                  }}\r\n                  onFocus={(e) => {\r\n                    if (!guestFormErrors.email) {\r\n                      e.target.style.borderColor = '#3b82f6';\r\n                      e.target.style.boxShadow = '0 0 0 3px rgba(59, 130, 246, 0.1)';\r\n                    }\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    e.target.style.borderColor = guestFormErrors.email ? '#dc2626' :\r\n                      guestInfo.email.trim() && /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(guestInfo.email) ? '#10b981' : '#d1d5db';\r\n                    e.target.style.boxShadow = 'none';\r\n                  }}\r\n                />\r\n                {guestFormErrors.email && (\r\n                  <div className=\"error-message\" style={{\r\n                    color: '#dc2626',\r\n                    fontSize: '0.8rem',\r\n                    marginTop: '0.25rem',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.25rem'\r\n                  }}>\r\n                    <i className=\"fas fa-exclamation-circle\" style={{ fontSize: '0.75rem' }}></i>\r\n                    {guestFormErrors.email}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\" style={{ marginBottom: '0' }}>\r\n                <label className=\"form-label\" style={{\r\n                  display: 'block',\r\n                  fontSize: '0.875rem',\r\n                  fontWeight: '600',\r\n                  color: '#374151',\r\n                  marginBottom: '0.5rem'\r\n                }}>\r\n                  Phone Number\r\n                </label>\r\n                <input\r\n                  type=\"tel\"\r\n                  name=\"phone\"\r\n                  value={guestInfo.phone}\r\n                  onChange={handleGuestFormChange}\r\n                  disabled={isSubmittingGuest}\r\n                  className={`form-input ${\r\n                    guestFormErrors.phone ? 'error' : \r\n                    guestInfo.phone.trim() ? 'success' : ''\r\n                  }`}\r\n                  placeholder=\"+1 (555) 123-4567\"\r\n                  autoComplete=\"tel\"\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '0.75rem',\r\n                    border: `2px solid ${\r\n                      guestFormErrors.phone ? '#dc2626' :\r\n                      guestInfo.phone.trim() ? '#10b981' : '#d1d5db'\r\n                    }`,\r\n                    borderRadius: '8px',\r\n                    fontSize: '0.95rem',\r\n                    transition: 'border-color 0.2s, box-shadow 0.2s',\r\n                    outline: 'none',\r\n                    opacity: isSubmittingGuest ? 0.7 : 1\r\n                  }}\r\n                  onFocus={(e) => {\r\n                    if (!guestFormErrors.phone) {\r\n                      e.target.style.borderColor = '#3b82f6';\r\n                      e.target.style.boxShadow = '0 0 0 3px rgba(59, 130, 246, 0.1)';\r\n                    }\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    e.target.style.borderColor = guestFormErrors.phone ? '#dc2626' :\r\n                      guestInfo.phone.trim() ? '#10b981' : '#d1d5db';\r\n                    e.target.style.boxShadow = 'none';\r\n                  }}\r\n                />\r\n                {guestFormErrors.phone && (\r\n                  <div className=\"error-message\" style={{\r\n                    color: '#dc2626',\r\n                    fontSize: '0.8rem',\r\n                    marginTop: '0.25rem',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.25rem'\r\n                  }}>\r\n                    <i className=\"fas fa-exclamation-circle\" style={{ fontSize: '0.75rem' }}></i>\r\n                    {guestFormErrors.phone}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* FIXED: Enhanced Actions with proper styling and handlers */}\r\n            <div className=\"modal-actions\" style={{ \r\n              display: 'flex',\r\n              gap: '0.75rem',\r\n              justifyContent: 'flex-end',\r\n              padding: '1.5rem 2rem 2rem',\r\n              backgroundColor: '#ffffff',\r\n              borderTop: '1px solid #f1f3f4',\r\n              flexShrink: 0,\r\n              position: 'relative',\r\n              zIndex: 10\r\n            }}>\r\n              <button \r\n                type=\"button\"\r\n                onClick={cancelGuestForm} // FIXED: Use proper cancel handler\r\n                disabled={isSubmittingGuest}\r\n                className=\"btn btn-secondary\"\r\n                style={{ \r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  gap: '0.5rem',\r\n                  padding: '0.875rem 1.5rem',\r\n                  borderRadius: '12px',\r\n                  fontSize: '0.95rem',\r\n                  fontWeight: '600',\r\n                  cursor: isSubmittingGuest ? 'not-allowed' : 'pointer',\r\n                  backgroundColor: '#f8fafc',\r\n                  color: '#64748b',\r\n                  border: '2px solid #e2e8f0',\r\n                  minHeight: '44px',\r\n                  minWidth: '100px',\r\n                  transition: 'all 0.2s ease',\r\n                  opacity: isSubmittingGuest ? 0.5 : 1\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  if (!isSubmittingGuest) {\r\n                    e.target.style.backgroundColor = '#f1f5f9';\r\n                    e.target.style.borderColor = '#cbd5e1';\r\n                    e.target.style.transform = 'translateY(-1px)';\r\n                  }\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  if (!isSubmittingGuest) {\r\n                    e.target.style.backgroundColor = '#f8fafc';\r\n                    e.target.style.borderColor = '#e2e8f0';\r\n                    e.target.style.transform = 'translateY(0)';\r\n                  }\r\n                }}\r\n              >\r\n                <i className=\"fas fa-times\"></i>\r\n                <span>Cancel</span>\r\n              </button>\r\n              <button \r\n                type=\"button\"\r\n                onClick={submitGuestForm}\r\n                disabled={isSubmittingGuest}\r\n                className={`btn btn-primary ${isSubmittingGuest ? 'btn-loading' : ''}`}\r\n                style={{ \r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  gap: '0.5rem',\r\n                  padding: '0.875rem 1.5rem',\r\n                  borderRadius: '12px',\r\n                  fontSize: '0.95rem',\r\n                  fontWeight: '600',\r\n                  cursor: isSubmittingGuest ? 'not-allowed' : 'pointer',\r\n                  background: isSubmittingGuest \r\n                    ? 'linear-gradient(135deg, #64748b 0%, #94a3b8 100%)' \r\n                    : 'linear-gradient(135deg, #0b6ea9 0%, #1e88e5 100%)',\r\n                  color: 'white',\r\n                  border: '2px solid transparent',\r\n                  minHeight: '44px',\r\n                  minWidth: '120px',\r\n                  transition: 'all 0.2s ease',\r\n                  opacity: isSubmittingGuest ? 0.8 : 1,\r\n                  boxShadow: isSubmittingGuest ? 'none' : '0 4px 12px rgba(59, 130, 246, 0.15)'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  if (!isSubmittingGuest) {\r\n                    e.target.style.transform = 'translateY(-1px)';\r\n                    e.target.style.boxShadow = '0 6px 16px rgba(59, 130, 246, 0.25)';\r\n                  }\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  if (!isSubmittingGuest) {\r\n                    e.target.style.transform = 'translateY(0)';\r\n                    e.target.style.boxShadow = '0 4px 12px rgba(59, 130, 246, 0.15)';\r\n                  }\r\n                }}\r\n              >\r\n                {isSubmittingGuest ? (\r\n                  <>\r\n                    <i className=\"fas fa-spinner fa-spin\"></i>\r\n                    <span>Submitting...</span>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <i className=\"fas fa-arrow-right\"></i>\r\n                    <span>Continue Chat</span>\r\n                  </>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* FIXED: Add CSS for modal animations */}\r\n      <style jsx>{`\r\n        @keyframes modalSlideIn {\r\n          from {\r\n            opacity: 0;\r\n            transform: scale(0.95) translateY(-10px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: scale(1) translateY(0);\r\n          }\r\n        }\r\n\r\n        .modal-overlay {\r\n          backdrop-filter: blur(4px);\r\n          -webkit-backdrop-filter: blur(4px);\r\n        }\r\n\r\n        .modal-container {\r\n          animation: modalSlideIn 0.3s ease-out;\r\n        }\r\n\r\n        .form-input:focus {\r\n          border-color: #3b82f6 !important;\r\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;\r\n        }\r\n\r\n        .form-input.error:focus {\r\n          border-color: #dc2626 !important;\r\n          box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1) !important;\r\n        }\r\n\r\n        .btn:active {\r\n          transform: translateY(0) !important;\r\n        }\r\n\r\n        .btn:disabled {\r\n          cursor: not-allowed !important;\r\n          transform: none !important;\r\n        }\r\n\r\n        .submit-error {\r\n          animation: errorSlideIn 0.3s ease-out;\r\n        }\r\n\r\n        @keyframes errorSlideIn {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(-10px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatBotIcon;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate, useLocation, useParams } from 'react-router-dom';\r\nimport API from \"../helpers/API\";\r\nimport { useAuth } from \"../Context/AuthContext\";\r\nimport { LogoutNavbarLink } from './Logout/LogoutNavbar';\r\nimport { LogoutLink } from './Logout/Logout';\r\nimport ChatBotIcon from '../components/ChatBotIcon/ChatBotIcon';\r\nimport { FaLinkedin, FaFacebook, FaWhatsapp } from 'react-icons/fa';\r\nimport { BsTwitterX } from \"react-icons/bs\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport './Footer.css';\r\n\r\nconst Footer = () => {\r\n    const currentDay = new Date();\r\n    const currentYear = currentDay.getFullYear();\r\n\r\n    // ***************************************\r\n    const [auth, setAuth] = useAuth();\r\n    const [user, setUser] = useState({});\r\n    const params = useParams();\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const notifyErr = (msg) =>\r\n      toast.error(msg, {\r\n        position: \"top-center\",\r\n        autoClose: 20000,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        theme: \"light\"\r\n      });\r\n    const notifySucc = (msg) =>\r\n      toast.success(msg, {\r\n        position: \"top-center\",\r\n        autoClose: 20000,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        theme: \"light\"\r\n      });\r\n\r\n    const fetchRegUserById = async () => {\r\n      try {\r\n        const { data } = await API.get(`/users/fetchRegUserById/${params._id}`);\r\n        setUser(data.user);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    // initial Registered User Details\r\n    useEffect(() => {\r\n      if (params?._id) fetchRegUserById();\r\n    }, [params?._id]);\r\n\r\n    const handleLogout = () => {\r\n      setAuth({ ...auth, user: null, token: \"\" });\r\n      localStorage.removeItem(\"userAuthDetails\");\r\n      notifySucc(\"You have Logged Out Successfully!!!\");\r\n      navigate(location.state || \"/Login\");\r\n    };\r\n\r\n    //assigning location variable\r\n    const location = useLocation();\r\n  return (\r\n    <>\r\n    <footer className=\"footer\">\r\n      <div className=\"footer-container\">\r\n        <div className=\"footer-columns\">\r\n          <div className=\"footer-column\">\r\n            <h3>INDUSTRIES & RECRUITMENT SOLUTIONS</h3>\r\n            <ul>\r\n              <li><Link to=\"/Information-Technology-Recruitment\">Information Technology Recruitment</Link></li>\r\n              <li><Link to=\"/Government-Ministry-Recruitment\">Government Ministry Recruitment</Link></li>\r\n              <li><Link to=\"/Healthcare-&-Medical-Recruitment\">Healthcare & Medical Recruitment</Link></li>\r\n              <li><Link to=\"/Manufacturing-Recruitment\">Manufacturing Recruitment</Link></li>\r\n              <li><Link to=\"/Admin-&-Office-Support-Recruitment\">Administration & Office Support Recruitment</Link></li>\r\n              <li><Link to=\"/Transport-&-Logistics-Recruitment\">Transport & Logistics Recruitment</Link></li>\r\n              <li><Link to=\"/Construction-&-Infrastructure-Recruitment\">Construction and Infrastructure Recruitment</Link></li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"footer-column\">\r\n            <h3>EDUCATION SOLUTIONS</h3>\r\n            <ul>\r\n              <li><Link to=\"/Education-Recruitment\">Education Recruitment</Link></li>\r\n              {/* <li><Link to=\"/#\">Register</Link></li> */}\r\n              {/* ******************************************* */}\r\n              {!auth.user ? (\r\n              <>\r\n                <li><Link to=\"/Register\">Register</Link></li>\r\n              </>\r\n              ) : (\r\n              <>\r\n                {auth.user?.role === 1 ? (\r\n                  <>\r\n                  <li>\r\n                    <Link to=\"/Admin/Dashboard\" onClick={() => {window.location.href = \"/Admin/Dashboard\";}}>\r\n                      Admin Dashboard\r\n                    </Link>\r\n                  </li>                  \r\n                  </>\r\n                  ) : (\r\n                  <>\r\n                  {auth.user?.role === 2 ? (\r\n                      <>\r\n                        <li>\r\n                          <Link to=\"/Employer/Employer-Dashboard\" onClick={() => {window.location.href = \"/Employer/Employer-Dashboard\";}}>\r\n                            Employer Dashboard\r\n                          </Link>\r\n                        </li>  \r\n                      </>\r\n                      ) : (\r\n                      <>\r\n                        <li>\r\n                          <Link to=\"/Applicant-Profile-Dashboard\" onClick={() => {window.location.href = \"/Applicant-Profile-Dashboard\";}}>\r\n                            Applicant Dashboard\r\n                          </Link>\r\n                        </li>  \r\n                      </>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </>\r\n              )}  \r\n              {/* ******************************************* */}\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"footer-column\">\r\n            <h3>FOR JOB SEEKERS</h3>\r\n            <ul>\r\n              <li><Link to=\"/Search-Jobs\">Search Jobs</Link></li>\r\n              {/* <li><Link to=\"/#\">Resume Upload</Link></li> */}\r\n              <li>\r\n                  {!auth.user ? (\r\n                    <>\r\n                      <Link to=\"/Login\">Resume Upload</Link> \r\n                    </>\r\n                    ) : (\r\n                    <>\r\n                      {(() => {\r\n                        const userRole = auth.user?.role;\r\n                        let linkPath = \"/PSPL-Access-Denied\";\r\n\r\n                        if (userRole === 0) {\r\n                          linkPath = `/Applicant-Resume-Upload/${auth?.user?.userId}`;\r\n                        } else if (userRole === 1) {\r\n                          linkPath = \"/PSPL-Access-Denied\";\r\n                        } else if (userRole === 2) {\r\n                          linkPath = \"/PSPL-Access-Denied\";\r\n                        }\r\n                        return (\r\n                          <Link to={linkPath}>Resume Upload</Link> \r\n                        );\r\n                      })()}\r\n                    </>\r\n                    )}\r\n                </li>\r\n              {/* <li><Link to=\"/#\">Login</Link></li> */}\r\n              {/* ******************************************* */}\r\n              {!auth.user ? (\r\n              <>\r\n                <li><Link to=\"/#\">Login</Link></li>\r\n              </>\r\n              ) : (\r\n              <>\r\n                {auth.user?.role === 1 ? (\r\n                  <>\r\n                  <li>\r\n                    <LogoutLink onClick={() => {window.location.href = \"/Login\";}}>\r\n                      Logout\r\n                    </LogoutLink>\r\n                  </li>                  \r\n                  </>\r\n                  ) : (\r\n                  <>\r\n                  {auth.user?.role === 2 ? (\r\n                      <>\r\n                        <li>\r\n                          <LogoutLink onClick={() => {window.location.href = \"/Login\";}}>\r\n                            Logout\r\n                          </LogoutLink>\r\n                        </li>  \r\n                      </>\r\n                      ) : (\r\n                      <>\r\n                        <li>\r\n                          <LogoutLink onClick={() => {window.location.href = \"/Login\";}}>\r\n                            Logout\r\n                          </LogoutLink>\r\n                        </li>  \r\n                      </>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </>\r\n              )}  \r\n              {/* ******************************************* */}\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"footer-column\">\r\n            <h3>HEALTH SOLUTIONS</h3>\r\n            <ul>\r\n              <li><Link to=\"/Behavioral-Health-Solutions\">Behavioral Health</Link></li>\r\n              <li><Link to=\"/Health-Billing-&-Collections-Solutions\">Heath & Billing Collections</Link></li>\r\n              <li><Link to=\"#\">HealthCare Mergers & Acquisitions</Link></li>\r\n              <li>\r\n                <Link to=\"/Behavioral-Health-Credentialing-&-Contracting\">Behavioral Health Credentialing & Contracting</Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"footer-column\">\r\n            <h3>ABOUT US</h3>\r\n            <ul>\r\n              <li><Link to=\"/About-Us\">About Us</Link></li>\r\n              <li><Link to=\"/Who-We-Are\">Who We're </Link></li>\r\n              <li><Link to=\"/Our-Locations\">Locations</Link></li>\r\n              <li><Link to=\"/ThinkBeyond-Privacy-Policy\">Privacy Policy</Link></li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"footer-bottom\">\r\n          <div className=\"social-section\">\r\n            <p>Follow Us</p>\r\n            <div className=\"social-icons\">\r\n              <Link to=\"https://www.instagram.com/the_thinkbeyond_solutions/\" aria-label=\"LinkedIn\" target='_blank'><FaLinkedin /></Link>\r\n              <Link to=\"https://www.facebook.com/thethinkbeyondsolutions\" aria-label=\"Facebook\" target='_blank'><FaFacebook /></Link>\r\n              <Link to=\"https://x.com/thethinkbeyond8\" aria-label=\"X-Twitter\" target='_blank'><BsTwitterX /></Link>\r\n              <Link to=\"https://wa.me/4169008153\" aria-label=\"X-WhatsApp\" target='_blank'><FaWhatsapp /></Link>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bottom-links\">\r\n            <Link to=\"/ProsoftSynergies-Privacy-Policy\">Privacy Policy</Link>\r\n            <span className=\"divider\">|</span>\r\n            <a href=\"#\">Accessibility</a>\r\n          </div>\r\n          <div>\r\n            <p className=\"bottom-links pt-5\"> Copyright  {currentYear} <Link to=\"/\" className='ms-2 me-3'>ProsoftSynergies.</Link> All Right Reserved{\" \"}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n       <ChatBotIcon />\r\n    </footer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate, useLocation, useParams } from 'react-router-dom';\r\nimport API from \"../helpers/API\";\r\nimport { useAuth } from \"../Context/AuthContext\";\r\nimport { LogoutNavbarLink } from './Logout/LogoutNavbar';\r\n\r\nimport './assets/vendors/mdi/css/materialdesignicons.min.css';\r\nimport './assets/vendors/font-awesome/css/font-awesome.min.css';\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport './Header.css';\r\nimport Logo from './PSPL-Logo.png';\r\n\r\n// Role constants\r\nconst ROLE_JOBSEEKER = 0;\r\nconst ROLE_ADMIN = 1;\r\nconst ROLE_EMPLOYER = 2;\r\nconst ROLE_SUPERADMIN = 3;\r\n\r\nconst TestHomeHeader = () => {\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const [activeDropdown, setActiveDropdown] = useState(null);\r\n  const [isSticky, setIsSticky] = useState(false);\r\n\r\n  const [auth] = useAuth();\r\n  const [user, setUser] = useState({});\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setIsSticky(window.scrollY > 40);\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  const toggleMobileMenu = () => {\r\n    setMobileMenuOpen(!mobileMenuOpen);\r\n    setActiveDropdown(null);\r\n  };\r\n\r\n  const toggleDropdown = (index, e) => {\r\n    if (window.innerWidth <= 768) {\r\n      e.preventDefault();\r\n      setActiveDropdown(activeDropdown === index ? null : index);\r\n    }\r\n  };\r\n\r\n  const handleLinkClick = () => {\r\n    if (window.innerWidth <= 768 && mobileMenuOpen) {\r\n      setMobileMenuOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e) => {\r\n      if (\r\n        !e.target.closest('.nav-links') &&\r\n        !e.target.closest('.menu-toggle') &&\r\n        !e.target.closest('.cta-buttons') &&\r\n        window.innerWidth > 768\r\n      ) {\r\n        setActiveDropdown(null);\r\n      }\r\n    };\r\n\r\n    const handleResize = () => {\r\n      if (window.innerWidth > 768) {\r\n        setMobileMenuOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('click', handleClickOutside);\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    return () => {\r\n      document.removeEventListener('click', handleClickOutside);\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, []);\r\n\r\n  const notifyErr = (msg) =>\r\n    toast.error(msg, {\r\n      position: \"top-center\",\r\n      autoClose: 20000,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      theme: \"light\",\r\n    });\r\n\r\n  const notifySucc = (msg) =>\r\n    toast.success(msg, {\r\n      position: \"top-center\",\r\n      autoClose: 20000,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      theme: \"light\",\r\n    });\r\n\r\n  const fetchRegUserById = async () => {\r\n    try {\r\n      const { data } = await API.get(`/users/fetchRegUserById/${params._id}`);\r\n      setUser(data.user || {}); // Fixed: Ensure user is always an object\r\n    } catch (error) {\r\n      console.log(error);\r\n      setUser({}); // Fixed: Set empty object on error\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (params?._id) fetchRegUserById();\r\n  }, [params?._id]);\r\n\r\n  // Helper function to safely check photo path\r\n  const getProfileImageSrc = (userPhoto) => {\r\n    if (!userPhoto) return ''; // Return empty string if no photo\r\n    \r\n    // Safely check if photo starts with specific path\r\n    const isUploadPath = typeof userPhoto === 'string' && userPhoto.startsWith('/uploads/userAvatars/');\r\n    return isUploadPath ? process.env.REACT_APP_API_URL + userPhoto : userPhoto;\r\n  };\r\n\r\n  // Helper function to safely get user name\r\n  const getUserDisplayName = (userObj) => {\r\n    const firstName = userObj?.firstname || userObj?.first_name || '';\r\n    const lastName = userObj?.lastname || userObj?.last_name || '';\r\n    return `${firstName} ${lastName}`.trim();\r\n  };\r\n\r\n  // Admin menu items\r\n  const renderAdminMenuItems = () => (\r\n    <>\r\n      <li>\r\n        <Link to=\"/Admin/Dashboard\" onClick={() => { window.location.href = \"/Admin/Dashboard\"; }}>\r\n          <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Jobs\" onClick={() => { window.location.href = \"/Admin/Manage-Jobs\"; }}>\r\n          <i className=\"mdi mdi-briefcase me-2 text-success menu-icon\"></i>Manage Jobs\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Sectors\" onClick={() => { window.location.href = \"/Admin/Manage-Sectors\"; }}>\r\n          <i className=\"mdi mdi-format-list-bulleted-type me-2 text-success menu-icon\"></i>Job Sectors\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Qualifications\" onClick={() => { window.location.href = \"/Admin/Manage-Qualifications\"; }}>\r\n          <i className=\"mdi mdi-school menu-icon me-2 text-success\"></i> Job Qualifications\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Work-Experiences\" onClick={() => { window.location.href = \"/Admin/Manage-Work-Experiences\"; }}>\r\n          <i className=\"mdi mdi-checkbox-multiple-marked menu-icon me-2 text-success\"></i> Job Experiences\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Work-Modes\" onClick={() => { window.location.href = \"/Admin/Manage-Work-Modes\"; }}>\r\n          <i className=\"mdi mdi-account-convert me-2 text-success\"></i> Work Modes\r\n        </Link>\r\n      </li>\r\n    </>\r\n  );\r\n\r\n  // Super Admin Menu Items\r\n  const renderSuperAdminMenuItems = () => (\r\n    <>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Dashboard\" onClick={() => { window.location.href = \"/Super-Admin/Dashboard\"; }}>\r\n          <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Jobs\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Jobs\"; }}>\r\n          <i className=\"mdi mdi-briefcase me-2 text-success menu-icon\"></i>Manage Jobs\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Sectors\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Sectors\"; }}>\r\n          <i className=\"mdi mdi-format-list-bulleted-type me-2 text-success menu-icon\"></i>Job Sectors\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Qualifications\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Qualifications\"; }}>\r\n          <i className=\"mdi mdi-school menu-icon me-2 text-success\"></i> Job Qualifications\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Work-Experiences\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Work-Experiences\"; }}>\r\n          <i className=\"mdi mdi-checkbox-multiple-marked menu-icon me-2 text-success\"></i> Job Experiences\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Work-Modes\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Work-Modes\"; }}>\r\n          <i className=\"mdi mdi-account-convert me-2 text-success\"></i> Work Modes\r\n        </Link>\r\n      </li>\r\n    </>\r\n  );\r\n\r\n  const renderLogoutItem = () => (\r\n    <li>\r\n      <LogoutNavbarLink onClick={() => { window.location.href = \"/Login\"; }}>\r\n        <i className=\"mdi mdi-logout me-2 text-success\"></i>\r\n        Logout\r\n      </LogoutNavbarLink>\r\n    </li>\r\n  );\r\n\r\n  return (\r\n    <header className={isSticky ? 'sticky' : ''}>\r\n      <div className=\"top-bar\">\r\n        <Link to=\"mailto:hrpspl@prosoftsynergies.com\" target=\"_blank\" className=\"login-btn info-link\">\r\n          <span className=\"contact-text\" style={{ color: \"#03294f\" }}>Email Us</span>\r\n          <i className='fas fa-envelope ms-1 fa-2x' style={{ color: \"#03294f\" }}></i>\r\n        </Link>\r\n        <Link to=\"https://wa.me/+15129617007\" className=\"login-btn phone-link\" target=\"_blank\">\r\n          <span className=\"contact-text\" style={{ color: \"#03294f\" }}>Let's Connect On WhatsApp</span>\r\n          <i className='fab fa-whatsapp ms-1 fa-2x' style={{ color: \"#03294f\" }}></i>\r\n        </Link>\r\n      </div>\r\n      <nav className={`main-nav ${isSticky ? 'sticky' : ''}`}>\r\n        <div className=\"PSPL-Logo logo\">\r\n          <Link to=\"/\"><img src={Logo} alt='ProsoftSynergies' /></Link>\r\n        </div>\r\n\r\n        <div\r\n          className={`menu-toggle ${mobileMenuOpen ? 'active' : ''}`}\r\n          onClick={toggleMobileMenu}\r\n          aria-label=\"Toggle navigation menu\"\r\n        >\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n\r\n        <ul className={`nav-links ${mobileMenuOpen ? 'active' : ''}`}>\r\n          <li className={activeDropdown === 0 ? 'active' : ''}>\r\n            <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(0, e)}>\r\n              FOR BUSINESSES\r\n            </Link>\r\n            <div className=\"mega-menu wide\">\r\n              <div className=\"mega-menu-column\">\r\n                <h3>Industries & Recruitment Solutions</h3>\r\n                <ul>\r\n                  <li><Link to=\"/Information-Technology-Recruitment\" onClick={handleLinkClick}>Information Technology Recruitment</Link></li>\r\n                  <li><Link to=\"/Government-Ministry-Recruitment\" onClick={handleLinkClick}>Government Ministry Recruitment</Link></li>\r\n                  <li><Link to=\"/Healthcare-&-Medical-Recruitment\" onClick={handleLinkClick}>Healthcare & Medical Recruitment</Link></li>\r\n                  <li><Link to=\"/Manufacturing-Recruitment\" onClick={handleLinkClick}>Manufacturing Recruitment</Link></li>\r\n                  <li><Link to=\"/Admin-&-Office-Support-Recruitment\" onClick={handleLinkClick}>Administration & Office Support Recruitment</Link></li>\r\n                  <li><Link to=\"/Transport-&-Logistics-Recruitment\" onClick={handleLinkClick}>Transport & Logistics Recruitment</Link></li>\r\n                  <li><Link to=\"/Construction-&-Infrastructure-Recruitment\" onClick={handleLinkClick}>Construction and Infrastructure Recruitment</Link></li>\r\n                </ul>\r\n              </div>\r\n              <div className=\"mega-menu-column\">\r\n                <h3>Education Recruitment & Solutions</h3>\r\n                <ul>\r\n                  <li><Link to=\"/Education-Recruitment\" onClick={handleLinkClick}>Education Recruitment</Link></li>\r\n                </ul>\r\n              </div>\r\n              <div className=\"mega-menu-column\">\r\n                <h3>Health Solutions</h3>\r\n                <ul>\r\n                  <li><Link to=\"/Behavioral-Health-Solutions\" onClick={handleLinkClick}>Behavioral Health</Link></li>\r\n                  <li><Link to=\"/Health-Billing-&-Collections-Solutions\" onClick={handleLinkClick}>Health & Billing Collections</Link></li>\r\n                  <li><Link to=\"#\" onClick={handleLinkClick}>HealthCare Mergers & Acquisitions</Link></li>\r\n                  <li><Link to=\"#\" onClick={handleLinkClick}>Behavioral Health Credentialing & Contracting</Link></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </li>\r\n          <li className={activeDropdown === 1 ? 'active' : ''}>\r\n            <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(1, e)}>\r\n              JOB SEEKERS\r\n            </Link>\r\n            <div className=\"mega-menu\">\r\n              <h3>Career Opportunities</h3>\r\n              <ul>\r\n                <li><Link to=\"/Search-Jobs\" onClick={handleLinkClick}>Search Jobs</Link></li>\r\n                <li>\r\n                  {!auth.user ? (\r\n                    <Link to=\"/Login\" onClick={handleLinkClick}>Resume Upload</Link>\r\n                  ) : (() => {\r\n                    let linkPath = \"/PSPL-Access-Denied\";\r\n                    if (auth.user?.role === ROLE_JOBSEEKER) {\r\n                      linkPath = `/Applicant-Resume-Upload/${auth?.user?.userId}`;\r\n                    } else if (\r\n                      auth.user?.role === ROLE_ADMIN ||\r\n                      auth.user?.role === ROLE_EMPLOYER ||\r\n                      auth.user?.role === ROLE_SUPERADMIN\r\n                    ) {\r\n                      linkPath = \"/PSPL-Access-Denied\";\r\n                    }\r\n                    return <Link to={linkPath} onClick={handleLinkClick}>Resume Upload</Link>;\r\n                  })()}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </li>\r\n          <li className={activeDropdown === 2 ? 'active' : ''}>\r\n            <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(2, e)}>\r\n              EMPLOYERS\r\n            </Link>\r\n            <div className=\"mega-menu\">\r\n              <h3>ProsoftSynergies Solutions</h3>\r\n              <ul>\r\n                <li><Link to=\"/Permanent-Hiring-Solutions\" onClick={handleLinkClick}>Permanent Hiring Solutions</Link></li>\r\n                <li><Link to=\"/Tailored-Solutions-For-Employers\" onClick={handleLinkClick}>Tailored Solutions For Employers</Link></li>\r\n                <li><Link to=\"/Fluid-Workforce-Solutions\" onClick={handleLinkClick}>Fluid Workforce Solutions</Link></li>\r\n              </ul>\r\n            </div>\r\n          </li>\r\n          <li className={activeDropdown === 3 ? 'active' : ''}>\r\n            <Link to=\"/About-Us\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(3, e)}>\r\n              ABOUT US\r\n            </Link>\r\n            <div className=\"mega-menu\">\r\n              <h3>Our Company</h3>\r\n              <ul>\r\n                <li><Link to=\"/About-Us\" onClick={handleLinkClick}>About Us</Link></li>\r\n                <li><Link to=\"/Who-We-Are\" onClick={handleLinkClick}>Who We're</Link></li>\r\n                <li><Link to=\"/Our-Locations\" onClick={handleLinkClick}>Locations</Link></li>\r\n              </ul>\r\n            </div>\r\n          </li>\r\n          <li><Link to=\"/Contact-Us\" onClick={handleLinkClick}>CONTACT US</Link></li>\r\n\r\n          {/* Role-Based Mobile Menus */}\r\n          {auth.user && (\r\n            <>\r\n              {auth.user?.role === ROLE_ADMIN && (\r\n                <li className=\"mobile-more-menu\">\r\n                  <li className={activeDropdown === 4 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\r\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                      {getUserDisplayName(auth.user)}\r\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\r\n                    </Link>\r\n                    <div className=\"mega-menu\">\r\n                      <h3>Admin Quick Access</h3>\r\n                      <ul>\r\n                        {renderAdminMenuItems()}\r\n                        {renderLogoutItem()}\r\n                      </ul>\r\n                    </div>\r\n                  </li>\r\n                </li>\r\n              )}\r\n\r\n              {auth.user?.role === ROLE_SUPERADMIN && (\r\n                <li className=\"mobile-more-menu\">\r\n                  <li className={activeDropdown === 5 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\r\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(5, e)}>\r\n                      {getUserDisplayName(auth.user)}\r\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\r\n                    </Link>\r\n                    <div className=\"mega-menu\">\r\n                      <h3>Super Admin Quick Access</h3>\r\n                      <ul>\r\n                        {renderSuperAdminMenuItems()}\r\n                        {renderLogoutItem()}\r\n                      </ul>\r\n                    </div>\r\n                  </li>\r\n                </li>\r\n              )}\r\n\r\n              {auth.user?.role === ROLE_EMPLOYER && (\r\n                <li className=\"mobile-more-menu\">\r\n                  <li className={activeDropdown === 4 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\r\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                      <img\r\n                        className=\"profile-image me-2\"\r\n                        src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\r\n                        alt={getUserDisplayName(auth.user)}\r\n                        aria-label=\"User profile photo\"\r\n                        role=\"button\"\r\n                        style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\r\n                      />\r\n                      {getUserDisplayName(auth.user)}\r\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\r\n                    </Link>\r\n                    <div className=\"mega-menu\">\r\n                      <h3>Employer Quick Access</h3>\r\n                      <ul>\r\n                        <li>\r\n                          <Link to=\"#\" onClick={handleLinkClick}>\r\n                            <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n                          </Link>\r\n                        </li>\r\n                        <li><Link to=\"#\" onClick={handleLinkClick}>Account</Link></li>\r\n                        {renderLogoutItem()}\r\n                      </ul>\r\n                    </div>\r\n                  </li>\r\n                </li>\r\n              )}\r\n\r\n              {(auth.user?.role !== ROLE_ADMIN && auth.user?.role !== ROLE_SUPERADMIN && auth.user?.role !== ROLE_EMPLOYER) && (\r\n                <li className=\"mobile-more-menu\">\r\n                  <li className={activeDropdown === 4 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\r\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                      <img\r\n                        className=\"profile-image me-2\"\r\n                        src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\r\n                        alt={getUserDisplayName(auth.user)}\r\n                        aria-label=\"User profile photo\"\r\n                        role=\"button\"\r\n                        style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\r\n                      />\r\n                      {getUserDisplayName(auth.user)}\r\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\r\n                    </Link>\r\n                    <div className=\"mega-menu\">\r\n                      <h3>Job Seeker Quick Access</h3>\r\n                      <ul>\r\n                        <li>\r\n                          <Link to=\"/Applicant-Profile-Dashboard\" onClick={() => { window.location.href = \"/Applicant-Profile-Dashboard\"; }}>\r\n                            <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n                          </Link>\r\n                        </li>\r\n                        <li>\r\n                          <Link to={`/Applicant/Profile/${auth?.user?.userId}`} onClick={() => { window.location.href = `/Applicant/Profile/${auth?.user?.userId}`; }}>\r\n                            <i className=\"mdi mdi-account-key menu-icon me-2 text-success\"></i> Account\r\n                          </Link>\r\n                        </li>\r\n                        {renderLogoutItem()}\r\n                      </ul>\r\n                    </div>\r\n                  </li>\r\n                </li>\r\n              )}\r\n            </>\r\n          )}\r\n        </ul>\r\n\r\n        <div className=\"cta-buttons\">\r\n          {!auth.user ? (\r\n            <>\r\n              <Link to=\"/Login\" className=\"cta-btn hPostJob-btn\">Post Job</Link>\r\n              <Link to=\"/Login\" className=\"cta-btn hLogin-btn\">Login</Link>\r\n            </>\r\n          ) : (\r\n            <>\r\n              {auth.user?.role === ROLE_ADMIN && (\r\n                <>\r\n                  <Link to=\"/Admin/Add-Job\" className=\"cta-btn hPostJob-btn\" onClick={() => { window.location.href = \"/Admin/Add-Job\"; }}>Post Job</Link>\r\n                  <div className=\"cta-dropdown\">\r\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\r\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                        <i className='mdi mdi-account-check me-2 text-primary' style={{ fontSize: \"30px\" }}></i>\r\n                        {getUserDisplayName(auth.user)}\r\n                      </Link>\r\n                      <div className=\"mega-menu\">\r\n                        <h3>Admin Quick Access</h3>\r\n                        <ul>\r\n                          {renderAdminMenuItems()}\r\n                          {renderLogoutItem()}\r\n                        </ul>\r\n                      </div>\r\n                    </li>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {auth.user?.role === ROLE_SUPERADMIN && (\r\n                <>\r\n                  <Link to=\"/Super-Admin/Add-Job\" className=\"cta-btn hPostJob-btn\" onClick={() => { window.location.href = \"/Super-Admin/Add-Job\"; }}>Post Job</Link>\r\n                  <div className=\"cta-dropdown\">\r\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\r\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                        <i className='mdi mdi-account-check me-2 text-primary' style={{ fontSize: \"30px\" }}></i>\r\n                        {getUserDisplayName(auth.user)}\r\n                      </Link>\r\n                      <div className=\"mega-menu\">\r\n                        <h3>Super Admin Quick Access</h3>\r\n                        <ul>\r\n                          {renderSuperAdminMenuItems()}\r\n                          {renderLogoutItem()}\r\n                        </ul>\r\n                      </div>\r\n                    </li>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {auth.user?.role === ROLE_EMPLOYER && (\r\n                <>\r\n                  <Link to=\"#\" className=\"cta-btn hPostJob-btn\">Post Job</Link>\r\n                  <div className=\"cta-dropdown\">\r\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\r\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                        <img\r\n                          className=\"profile-image me-2\"\r\n                          src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\r\n                          alt={getUserDisplayName(auth.user)}\r\n                          aria-label=\"User profile photo\"\r\n                          role=\"button\"\r\n                          style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\r\n                        />\r\n                        {getUserDisplayName(auth.user)}\r\n                      </Link>\r\n                      <div className=\"mega-menu\">\r\n                        <h3>Employer Quick Access</h3>\r\n                        <ul>\r\n                          <li>\r\n                            <Link to=\"#\" onClick={handleLinkClick}>\r\n                              <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n                            </Link>\r\n                          </li>\r\n                          <li><Link to=\"#\" onClick={handleLinkClick}>Account</Link></li>\r\n                          {renderLogoutItem()}\r\n                        </ul>\r\n                      </div>\r\n                    </li>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {(auth.user?.role !== ROLE_ADMIN && auth.user?.role !== ROLE_SUPERADMIN && auth.user?.role !== ROLE_EMPLOYER) && (\r\n                <>\r\n                  <Link to=\"/Search-Jobs\" className=\"cta-btn hPostJob-btn\">Find A Job</Link>\r\n                  <div className=\"cta-dropdown\">\r\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\r\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                        <img\r\n                          className=\"profile-image me-2\"\r\n                          src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\r\n                          alt={getUserDisplayName(auth.user)}\r\n                          aria-label=\"User profile photo\"\r\n                          role=\"button\"\r\n                          style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\r\n                        />\r\n                        {getUserDisplayName(auth.user)}\r\n                      </Link>\r\n                      <div className=\"mega-menu\">\r\n                        <h3>Job Seeker Quick Access</h3>\r\n                        <ul>\r\n                          <li>\r\n                            <Link to=\"/Applicant-Profile-Dashboard\" onClick={() => { window.location.href = \"/Applicant-Profile-Dashboard\"; }}>\r\n                              <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n                            </Link>\r\n                          </li>\r\n                          <li>\r\n                            <Link to={`/Applicant/Profile/${auth?.user?.userId}`} onClick={() => { window.location.href = `/Applicant/Profile/${auth?.user?.userId}`; }}>\r\n                              <i className=\"mdi mdi-account-key menu-icon me-2 text-success\"></i> Account\r\n                            </Link>\r\n                          </li>\r\n                          {renderLogoutItem()}\r\n                        </ul>\r\n                      </div>\r\n                    </li>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default TestHomeHeader;\r\n","import React from \"react\";\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useAuth } from \"../../Context/AuthContext\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n// Toast configuration constants\r\nconst TOAST_CONFIG = {\r\n  position: \"top-center\",\r\n  autoClose: 5000,\r\n  closeOnClick: true,\r\n  pauseOnHover: true,\r\n  theme: \"light\"\r\n};\r\n\r\n/**\r\n * Custom hook to handle logout logic\r\n * @returns {Object} Object containing handleLogout function\r\n */\r\nexport const useLogout = () => {\r\n  const [auth, setAuth] = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n \r\n  const notifyError = (msg) => toast.error(msg, TOAST_CONFIG);\r\n  const notifySuccess = (msg) => toast.success(msg, TOAST_CONFIG);\r\n \r\n  const handleLogout = () => {\r\n    try {\r\n      setAuth({ ...auth, user: null, token: \"\" });\r\n      localStorage.removeItem(\"userAuthDetails\");\r\n      notifySuccess(\"You have Logged Out Successfully!\");\r\n      navigate(location.state || \"/Login\");\r\n      \r\n      // Consider using navigate with a refresh parameter instead of manual reload\r\n      // This avoids potential memory leaks or incomplete navigation\r\n      window.location.reload();\r\n    } catch (error) {\r\n      console.error(\"Logout error:\", error);\r\n      notifyError(\"Something went wrong during logout!\");\r\n    }\r\n  };\r\n \r\n  return { handleLogout };\r\n};\r\n\r\n/**\r\n * Logout Button Component - can be used as a standalone component\r\n * @param {Object} props - Component props\r\n * @param {string} props.className - Optional CSS class\r\n * @param {React.ReactNode} props.children - Optional custom content\r\n */\r\nconst LogoutButton = ({ className, children }) => {\r\n  const { handleLogout } = useLogout();  \r\n \r\n  return (\r\n    <button\r\n      onClick={handleLogout}\r\n      className={className || \"logout-button\"}\r\n      type=\"button\" // Explicitly define button type for better accessibility\r\n    >\r\n      {children || (\r\n        <>          \r\n         <span className=\"menu-title\">Logout</span>\r\n         <i className=\"mdi mdi-logout menu-icon\"></i>\r\n        </>\r\n      )}\r\n    </button>\r\n  );\r\n};\r\n\r\n/**\r\n * Logout Link Component - for use within navigation that requires <Link>\r\n * @param {Object} props - Component props\r\n * @param {string} props.className - Optional CSS class\r\n * @param {string} props.to - Optional target path (unused)\r\n * @param {React.ReactNode} props.children - Optional custom content\r\n */\r\nconst LogoutLink = ({ className, to = \"/Test-Login\", children }) => {\r\n  const { handleLogout } = useLogout();\r\n \r\n  return (\r\n    <Link\r\n      to=\"#\"\r\n      className={className || \"menu-title\"}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        handleLogout();\r\n      }}\r\n    >\r\n      {children || (\r\n        <>\r\n          <span className=\"menu-title\">Logout</span>\r\n          <i className=\"mdi mdi-logout menu-icon\"></i>\r\n        </>\r\n      )}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport { LogoutButton, LogoutLink };\r\nexport default LogoutLink;"],"names":["Modal","STORAGE_USER_KEY","process","STORAGE_INPUT_KEY","REACT_APP_CHAT_INPUT_KEY","timeAgo","ts","d","Date","diff","Math","floor","now","getTime","toLocaleDateString","defaultAvatar","getProfileImageSrc","userPhoto","arguments","length","undefined","startsWith","ChatBotIcon","socket","isConnected","useSocket","auth","useAuth","userFromAuth","user","input","setInput","useState","isOpen","setIsOpen","session","setSession","messages","setMessages","businessInfo","setBusinessInfo","unreadCount","setUnreadCount","showGuestForm","setShowGuestForm","isSubmittingGuest","setIsSubmittingGuest","guestFormSubmitted","setGuestFormSubmitted","guestFormErrors","setGuestFormErrors","defaultMessagesLoaded","setDefaultMessagesLoaded","hasUserSentMessage","setHasUserSentMessage","pendingMessages","setPendingMessages","Set","guestInfo","setGuestInfo","firstName","lastName","email","phone","audioRef","useRef","messagesEndRef","userFormSubmitted","useMemo","logWithIcon","success","active","storageKey","result","guest","_id","id","resetGuestForm","useCallback","cancelGuestForm","prev","lastMessage","from","slice","localStorage","removeItem","error","console","warn","log","handleModalOverlayClick","e","target","currentTarget","useEffect","handleEscKey","key","document","addEventListener","removeEventListener","savedInput","getItem","trim","timeoutId","setTimeout","setItem","clearTimeout","raw","u","JSON","parse","hasRequiredInfo","Boolean","loadedMessages","some","msg","stringify","current","scrollIntoView","behavior","beepUrl","Audio","normalizeMessage","_msg$metadata","_session$agent","_msg$metadata2","random","text","message","createdAt","timestamp","senderType","avatar","metadata","senderAvatar","agent","photo","FavIconLogo","quickReplies","handleIncomingMessage","rawMsg","prevMessages","existingMsg","abs","newPending","pendingId","includes","substring","delete","n","play","catch","onSessionCreated","payloadRaw","_payloadRaw$body","payload","body","data","sess","businessHours","welcomeMessage","onMessageNew","onMessageStatus","_ref","messageId","status","map","m","on","off","createSession","async","connected","hasSocket","hasSession","sessionData","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","entryPoint","selectedOption","firstname","lastname","authenticatedUser","userId","guestEmail","guestFirstName","guestLastName","guestPhone","emit","err","_result$body","validateGuestForm","errors","test","handleGuestFormChange","name","value","newErrors","submit","submitGuestForm","Object","keys","response","API","post","Error","lastUserMessage","sessionId","messageType","_error$response","_error$response$data","sendMessage","userMessage","handleQuickReply","option","initializeChatSession","biz","res","get","fetchBusinessHours","outsideHoursMessage","outsideHoursOptions","_jsxs","className","children","onClick","next","_jsx","handleHeaderClick","style","cursor","stopPropagation","Link","to","src","alt","renderMessage","index","_m$quickReplies","isUser","qr","i","ref","onChange","placeholder","onKeyDown","disabled","position","top","left","right","bottom","backgroundColor","display","alignItems","justifyContent","zIndex","padding","backdropFilter","borderRadius","maxWidth","width","maxHeight","overflow","boxShadow","animation","textAlign","background","borderBottom","border","fontSize","color","height","transition","opacity","onMouseEnter","onMouseLeave","margin","fontWeight","lineHeight","overflowY","marginBottom","gap","type","autoComplete","required","outline","onFocus","borderColor","onBlur","marginTop","borderTop","flexShrink","minHeight","minWidth","transform","_Fragment","jsx","Footer","_auth$user","_auth$user2","_auth$user5","_auth$user6","currentYear","getFullYear","setAuth","setUser","params","useParams","useNavigate","fetchRegUserById","useLocation","role","window","location","href","_auth$user3","userRole","linkPath","_auth$user4","LogoutLink","FaLinkedin","FaFacebook","BsTwitterX","FaWhatsapp","TestHomeHeader","_auth$user7","_auth$user8","_auth$user9","_auth$user0","_auth$user1","_auth$user10","_auth$user11","_auth$user12","_auth$user14","_auth$user15","_auth$user16","_auth$user17","_auth$user18","_auth$user19","_auth$user20","_auth$user21","_auth$user22","mobileMenuOpen","setMobileMenuOpen","activeDropdown","setActiveDropdown","isSticky","setIsSticky","handleScroll","scrollY","toggleDropdown","innerWidth","preventDefault","handleLinkClick","handleClickOutside","closest","handleResize","getUserDisplayName","userObj","first_name","last_name","renderAdminMenuItems","renderSuperAdminMenuItems","renderLogoutItem","LogoutNavbarLink","Logo","toggleMobileMenu","_auth$user13","_auth$user23","TOAST_CONFIG","autoClose","closeOnClick","pauseOnHover","theme","useLogout","navigate","handleLogout","token","toast","state","reload","notifyError","_ref2"],"sourceRoot":""}