{"version":3,"file":"static/js/5005.efce2c54.chunk.js","mappings":"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","sources":["Pages/ApplyJobApplications/ApplyJobApplicationModal.jsx","Pages/JobSearchInterface.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport \"./ApplyJobApplicationModal.css\";\r\nimport API from \"../../helpers/API\";\r\nimport { useAuth } from \"../../Context/AuthContext\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst ApplyJobApplicationModal = ({ isOpen, onClose, jobData, onApplicationSuccess }) => {\r\n  const [auth] = useAuth();\r\n  const [salaries, setSalaries] = useState([]);\r\n  const [salary, setSalary] = useState(\"\");\r\n  const [rate, setRate] = useState(\"\");\r\n  const [resumeFile, setResumeFile] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [jobDetails, setJobDetails] = useState(null);\r\n  const [applicationMethod, setApplicationMethod] = useState(null); // \"resume\" or \"email\"\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [uploadSuccess, setUploadSuccess] = useState(false);\r\n  const fileInputRef = useRef(null);\r\n\r\n  const params = useParams();\r\n  const [resume, setResume] = useState(null);\r\n  const [jobMatrix, setJobMatrix] = useState(null);\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(false);\r\n  const [job, setJob] = useState(null);\r\n\r\n  // Functions for toast notifications\r\n  const notifySucc = (message) => {\r\n    toast.success(message, {\r\n      position: \"top-center\",\r\n      autoClose: 5000,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      theme: \"light\"\r\n    });\r\n  };\r\n\r\n  const notifyErr = (message) => {\r\n    toast.error(message, {\r\n      position: \"top-center\",\r\n      autoClose: 5000,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      theme: \"light\"\r\n    });\r\n  };\r\n\r\n  const fetchJob = async () => {\r\n    try {\r\n      const { data } = await API.get(`/api/v1/job/viewJob/${params.slug}`);\r\n      setJob(data.job);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchSalaries();\r\n  }, []);\r\n\r\n  // Use jobData from props if available\r\n  useEffect(() => {\r\n    if (jobData) {\r\n      setJobDetails(jobData);\r\n    }\r\n  }, [jobData]);\r\n\r\n  useEffect(() => {\r\n    if (params?.slug) fetchJob();\r\n  }, [params?.slug]);\r\n\r\n  // Fetch job details when modal opens if jobData is not provided\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      fetchSalaries();      \r\n      // Only fetch job details if not already provided via props\r\n      if (!jobData && params?.slug) {\r\n        fetchJobDetails(params.slug);\r\n      }\r\n    }\r\n  }, [isOpen, params?.slug, jobData]);\r\n\r\n  const fetchJobDetails = async (slug) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await API.get(`/api/v1/job/viewJob/${slug}`);\r\n      setJobDetails(response.data.job);\r\n    } catch (error) {\r\n      console.error(\"Error fetching job details:\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchSalaries = async () => {\r\n    try {\r\n      const { data } = await API.get(\"/api/v1/salary/fetchSalaries\");\r\n      if (data?.success) {\r\n        setSalaries(data?.salary);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      notifyErr(\"Failed to retrieve salary types\");\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file && file.size <= 5 * 1024 * 1024) { // 5MB max\r\n      setResumeFile(file);\r\n      setResume(file);\r\n      uploadResume(file);\r\n    } else if (file) {\r\n      notifyErr(\"File size must be less than 5MB\");\r\n      setResumeFile(null);\r\n    }\r\n  };\r\n\r\n  const uploadResume = async (file) => {\r\n    setIsLoading(true);\r\n    setUploadProgress(0);\r\n    setUploadSuccess(false);\r\n    \r\n    // Simulate upload progress\r\n    const simulateUpload = () => {\r\n      let progress = 0;\r\n      const interval = setInterval(() => {\r\n        progress += Math.floor(Math.random() * 15) + 5;\r\n        if (progress >= 100) {\r\n          progress = 100;\r\n          clearInterval(interval);\r\n          setUploadProgress(100);\r\n          setUploadSuccess(true);\r\n          setIsLoading(false);\r\n          notifySucc(\"Resume uploaded successfully!\");\r\n        } else {\r\n          setUploadProgress(progress);\r\n        }\r\n      }, 300);\r\n    };\r\n    \r\n    // Start the simulated upload\r\n    simulateUpload();\r\n  };\r\n\r\n  const handleDragOver = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    e.currentTarget.classList.add(\"drag-over\");\r\n  };\r\n\r\n  const handleDragLeave = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    e.currentTarget.classList.remove(\"drag-over\");\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    e.currentTarget.classList.remove(\"drag-over\");\r\n    \r\n    const file = e.dataTransfer.files[0];\r\n    if (file) {\r\n      if (file.size <= 5 * 1024 * 1024) { // 5MB max\r\n        const allowedTypes = [\".doc\", \".docx\", \".pdf\"];\r\n        const fileExtension = \".\" + file.name.split('.').pop().toLowerCase();\r\n        \r\n        if (allowedTypes.includes(fileExtension)) {\r\n          setResumeFile(file);\r\n          setResume(file);\r\n          uploadResume(file);\r\n        } else {\r\n          notifyErr(\"Only DOC, DOCX or PDF files are supported\");\r\n        }\r\n      } else {\r\n        notifyErr(\"File size must be less than 5MB\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleUploadClick = () => {\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.click();\r\n    }\r\n  };\r\n\r\n  const validateStep1 = () => {\r\n    let isValid = true;\r\n    \r\n    if (!resumeFile) {\r\n      notifyErr(\"Resume is required\");\r\n      isValid = false;\r\n    }\r\n    \r\n    if (!salary) {\r\n      notifyErr(\"Salary expectation is required\");\r\n      isValid = false;\r\n    }\r\n    \r\n    return isValid;\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (currentStep === 1) {\r\n      if (validateStep1()) {\r\n        setCurrentStep(2);\r\n      }\r\n    } else if (currentStep === 2) {\r\n      handleSubmitJobApplicationForm();\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setCurrentStep(1);\r\n  };\r\n\r\n  const startApplication = () => {\r\n    if (resumeFile && uploadSuccess) {\r\n      setApplicationMethod(\"resume\");\r\n      setCurrentStep(1);\r\n    } else {\r\n      notifyErr(\"Please upload your resume to continue\");\r\n    }\r\n  };\r\n\r\n  // Reset form function to clear all form state\r\n  const resetForm = () => {\r\n    setSalary(\"\");\r\n    setRate(\"\");\r\n    setResumeFile(null);\r\n    setResume(null);\r\n    setCurrentStep(1);\r\n    setApplicationMethod(null);\r\n    setUploadProgress(0);\r\n    setUploadSuccess(false);\r\n  };\r\n\r\n  const handleSubmitJobApplicationForm = async (e) => {\r\n    if (e) e.preventDefault();\r\n    setIsLoading(true);\r\n  \r\n    const formData = new FormData();\r\n    formData.append(\"resume\", resume);\r\n    formData.append(\"jobMatrix\", jobMatrix);\r\n    formData.append(\"salary\", salary);\r\n    formData.append(\"rate\", rate);\r\n  \r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      }\r\n    };\r\n    \r\n    // Get job slug from jobDetails or params\r\n    const jobSlug = jobDetails?.slug || params?.slug;\r\n    \r\n    if (!jobSlug) {\r\n      notifyErr(\"Failed to Fetch This JOB ID Details. Check Your Code Logic & try again.\");\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n  \r\n    try {\r\n      setLoading(true);\r\n      const response = await API.post(\r\n        `/api/v1/apply/jobapplication/${jobSlug}`,\r\n        formData,\r\n        config\r\n      );\r\n      \r\n      // Single success notification\r\n      notifySucc(response.data.message);\r\n      \r\n      // Update parent component if callback exists\r\n      if (onApplicationSuccess && jobData?._id) {\r\n        onApplicationSuccess(jobData._id);\r\n      }\r\n      \r\n      // Reset form state\r\n      resetForm();\r\n      \r\n      // Close modal\r\n      onClose();\r\n    } catch (error) {\r\n      console.log(error.response?.data);\r\n      notifyErr(error.response?.data?.message || \"An error occurred while submitting application\");\r\n    } finally {\r\n      setLoading(false);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle click outside to close modal\r\n  const handleOutsideClick = (e) => {\r\n    if (e.target.className === \"modal-overlay\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  // Clean up when modal closes\r\n  useEffect(() => {\r\n    if (!isOpen) {\r\n      resetForm();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={handleOutsideClick}>\r\n      <div className=\"modal-container\">\r\n        <div className=\"modal-header\">\r\n          <h2>Apply to {jobDetails?.title || \"Job\"}</h2>\r\n          <button className=\"close-button\" onClick={onClose}>×</button>\r\n        </div>\r\n        \r\n        <div className=\"modal-content\">\r\n          <div className=\"job-info\">\r\n            <h3>{jobDetails?.title}</h3>\r\n            <div className=\"job-location\">\r\n              <i className=\"fas fa-map-marker-alt\"></i> \r\n              {jobDetails?.country?.countryName}, {jobDetails?.province?.provinceName || \"\"}\r\n              {jobDetails?.workMode?.workModeName && (\r\n                <span className=\"job-tag\">{jobDetails.workMode.workModeName}</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Application Process */}\r\n          <div className=\"application-steps\">\r\n            {/* Progress indicator */}\r\n            {applicationMethod && (\r\n              <div className=\"steps-indicator\">\r\n                <div className={`step ${currentStep >= 1 ? \"active\" : \"\"}`}>1</div>\r\n                <div className=\"step-line\"></div>\r\n                <div className={`step ${currentStep >= 2 ? \"active\" : \"\"}`}>2</div>\r\n              </div>\r\n            )}\r\n            \r\n            {!applicationMethod && (\r\n              <>\r\n                <p className=\"step-description\">\r\n                  To continue, please start your application process by selecting one of the following options:\r\n                </p>\r\n                <div className=\"application-method-buttons\">\r\n                  <button \r\n                    className={`method-button ${applicationMethod === \"resume\" ? \"active\" : \"\"}`} \r\n                    onClick={() => setApplicationMethod(\"resume\")}\r\n                  >\r\n                    apply with resume\r\n                  </button>\r\n                  <button \r\n                    className={`method-button ${applicationMethod === \"email\" ? \"active\" : \"\"}`} \r\n                    onClick={() => setApplicationMethod(\"email\")}\r\n                  >\r\n                    apply with email\r\n                  </button>\r\n                </div>\r\n                <p className=\"upload-instruction\">Upload your resume to get started!</p>\r\n              </>\r\n            )}\r\n\r\n            {applicationMethod && currentStep === 1 && (\r\n              <div className=\"application-form step-1\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"name\">Full Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"firstname\"\r\n                    name=\"firstname\"\r\n                    value={auth?.user?.firstname}\r\n                    disabled\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"name\">Last Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"lastname\"\r\n                    name=\"lastname\"\r\n                    value={auth?.user?.lastname}\r\n                    disabled\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"email\">Email</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    id=\"email\"\r\n                    name=\"email\"\r\n                    value={auth?.user?.email}\r\n                    disabled\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"phone\">Phone</label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    id=\"phone\"\r\n                    name=\"phone\"\r\n                    value={auth?.user?.phone || \"\"}\r\n                    disabled\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-wrapper\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6 col-sm-6\">\r\n                      <label htmlFor=\"salary\">Salary Expectation:</label>\r\n                      <select\r\n                        className=\"form-control\"\r\n                        value={salary}\r\n                        onChange={(e) => setSalary(e.target.value)}\r\n                      >\r\n                        <option value=\"\">Salary Expectation</option>\r\n                        {salaries.map((s) => (\r\n                          <option key={s._id} value={s._id}>\r\n                            {s.salaryName}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                    <div className=\"col-6 col-sm-6\">\r\n                      <label htmlFor=\"rate\">Rate:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"$\"\r\n                        name=\"rate\"\r\n                        value={rate}\r\n                        onChange={(e) => setRate(e.target.value)}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {applicationMethod && currentStep === 2 && (\r\n              <div className=\"application-form step-2\">\r\n                <div className=\"confirmation-message\">\r\n                  <h4>Application Review</h4>\r\n                  <p>Please review your application details before submitting:</p>\r\n                  <div className=\"review-details\">\r\n                    <div className=\"review-item\">\r\n                      <span className=\"review-label\">Name:</span>\r\n                      <span className=\"review-value\">{auth?.user?.firstname} {auth?.user?.lastname}</span>\r\n                    </div>\r\n                    <div className=\"review-item\">\r\n                      <span className=\"review-label\">Email:</span>\r\n                      <span className=\"review-value\">{auth?.user?.email}</span>\r\n                    </div>\r\n                    <div className=\"review-item\">\r\n                      <span className=\"review-label\">Phone:</span>\r\n                      <span className=\"review-value\">{auth?.user?.phone || \"Not provided\"}</span>\r\n                    </div>\r\n                    <div className=\"review-item\">\r\n                      <span className=\"review-label\">Resume:</span>\r\n                      <span className=\"review-value\">{resumeFile?.name}</span>\r\n                    </div>\r\n                    <div className=\"review-item\">\r\n                      <span className=\"review-label\">Salary Expectation:</span>\r\n                      <span className=\"review-value\">\r\n                        {salaries.find(s => s._id === salary)?.salaryName || \"Not specified\"}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"review-item\">\r\n                      <span className=\"review-label\">Rate:</span>\r\n                      <span className=\"review-value m\">$ {\" \"} {rate || \"Not specified\"}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {uploadProgress > 0 && uploadProgress < 100 && (\r\n              <div className=\"upload-progress-container\">\r\n                <div className=\"upload-progress-label\">Uploading: {uploadProgress}%</div>\r\n                <div className=\"upload-progress-bar\">\r\n                  <div \r\n                    className=\"upload-progress-fill\" \r\n                    style={{ width: `${uploadProgress}%` }}\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {uploadProgress === 100 && uploadSuccess && (\r\n              <div className=\"upload-success\">\r\n                <i className=\"fas fa-check-circle\"></i>\r\n                <span>Resume uploaded successfully!</span>\r\n              </div>\r\n            )}\r\n\r\n            {applicationMethod && (\r\n              <div className=\"modal-actions\">\r\n                {currentStep === 2 && (\r\n                  <button className=\"back-button\" onClick={handleBack} disabled={isLoading}>\r\n                    Back\r\n                  </button>\r\n                )}\r\n                <button \r\n                  className=\"action-button\" \r\n                  onClick={handleNext}\r\n                  disabled={isLoading}\r\n                >\r\n                  {isLoading ? \"Processing...\" : currentStep === 1 ? \"Next\" : \"Submit Application\"}\r\n                </button>\r\n              </div>\r\n            )}\r\n            \r\n            {!applicationMethod && (\r\n              <div className=\"resume-upload-section\">\r\n                <div \r\n                  className={`file-drop-area ${resumeFile ? 'has-file' : ''}`}\r\n                  onDragOver={handleDragOver}\r\n                  onDragLeave={handleDragLeave}\r\n                  onDrop={handleDrop}\r\n                >\r\n                  <i className=\"fas fa-cloud-upload-alt\"></i>\r\n                  <p>{resumeFile ? resumeFile.name : \"Select a file or drag and drop here\"}</p>\r\n                  <p className=\"file-support-text\">Supports DOC, DOCX or PDF, file size no more than 5MB</p>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\".doc,.docx,.pdf\"\r\n                    onChange={handleFileChange}\r\n                    className=\"file-input\"\r\n                    ref={fileInputRef}\r\n                  />\r\n                </div>\r\n                <button className=\"upload-button\" onClick={handleUploadClick}>\r\n                  upload\r\n                </button>\r\n                \r\n                {resumeFile && (\r\n                  <div className=\"selected-file\">\r\n                    <span>Selected: {resumeFile.name}</span>\r\n                    <button \r\n                      className=\"remove-file-btn\"\r\n                      onClick={() => {\r\n                        setResumeFile(null);\r\n                        setResume(null);\r\n                        setUploadSuccess(false);\r\n                        setUploadProgress(0);\r\n                      }}\r\n                    >\r\n                      ×\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n            \r\n            {!applicationMethod && (\r\n              <button \r\n                className={`start-application-button ${resumeFile && uploadSuccess ? 'active' : ''}`}\r\n                disabled={!resumeFile || !uploadSuccess}\r\n                onClick={startApplication}\r\n              >\r\n                start application\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ApplyJobApplicationModal;\r\n","import React, { useEffect, useState, useCallback, useMemo, useRef } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { Link } from \"react-router-dom\";\r\nimport API from \"../helpers/API\";\r\nimport { useAuth } from \"../Context/AuthContext\";\r\nimport ApplyJobApplicationModal from \"./ApplyJobApplications/ApplyJobApplicationModal\";\r\nimport moment from \"moment\";\r\nimport DOMPurify from \"dompurify\";\r\n\r\nimport FavIconLogo from \"./FaviIcon-Logo.png\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport TestHomeHeader from './TestHomeHeader';\r\nimport Footer from './Footer';\r\n\r\nimport './JobSearchInterface.css';\r\nimport { border, fontSize } from \"@mui/system\";\r\nconst { sanitize } = DOMPurify;\r\n\r\nconst Loader = ({ style }) => (\r\n  <div style={{\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    height: \"100vh\",\r\n    width: \"100%\"\r\n  }}>\r\n    <div className=\"spinner-border\" role=\"status\" style={{\r\n      ...style,\r\n      position: \"relative\",\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      overflow: \"hidden\"\r\n    }}>\r\n      <span className=\"sr-only\" style={{\r\n        position: \"absolute\",\r\n        width: \"70%\",\r\n        height: \"70%\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        zIndex: 1\r\n      }}>\r\n        <img \r\n          src={FavIconLogo} \r\n          alt=\"PSPL FavIcon Logo\" \r\n          style={{\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            objectFit: \"contain\",\r\n            borderRadius: \"50%\" \r\n          }}\r\n        />\r\n      </span>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n\r\nconst JobSearchInterface = () => {\r\n\r\n  const canonicalUrl = window.location.href; // Get the current URL\r\n  const jobDetailsRef = useRef(null);\r\n  const jobListRef = useRef(null);\r\n\r\n  // Handle window resize\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setMobileView(window.innerWidth < 768);\r\n      \r\n      // Reset mobile details view when switching from mobile to desktop\r\n      if (window.innerWidth >= 768) {\r\n        setShowMobileDetails(false);\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  // ===============================================\r\n  const JOBS_PER_PAGE = 6;\r\n\r\n  // Authentication\r\n  const [auth, setAuth] = useAuth();\r\n\r\n  // State Variables\r\n  const [state, setState] = useState({\r\n    numJobsInDB: 0,\r\n    totalJobs: 0,\r\n    currentPage: 1,\r\n    jobs: [],\r\n    applied: [],\r\n    loading: false,\r\n    searchTerm: \"\",\r\n    sectors: [],\r\n    selectedSectors: [],\r\n    workModes: [],\r\n    selectedWorkModes: [],\r\n    workExperiences: [],\r\n    selectedWorkExperiences: [], \r\n    countries: [],\r\n    selectedCountries: [],\r\n    jobsNumberPerPage: JOBS_PER_PAGE\r\n  });\r\n\r\n  // Mobile responsiveness state\r\n  const [mobileView, setMobileView] = useState(window.innerWidth < 768);\r\n  const [showMobileDetails, setShowMobileDetails] = useState(false);\r\n  const [selectedJob, setSelectedJob] = useState(null);\r\n\r\n  const notifyErr = (msg) =>\r\n    toast.error(msg, {\r\n      position: \"top-center\",\r\n      autoClose: 20000,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      theme: \"light\"\r\n    });\r\n\r\n  const notifySucc = (msg) =>\r\n    toast.success(msg, {\r\n      position: \"top-center\",\r\n      autoClose: 20000,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      theme: \"light\"\r\n    });\r\n\r\n  // Fetch jobs with pagination and search\r\n  const fetchJobData = useCallback(async () => {\r\n    setState((prev) => ({ ...prev, loading: true }));\r\n    try {\r\n      const response = await API.get(`/api/v1/job/fetchAllJobs`, {\r\n        params: { \r\n          page: state.currentPage, \r\n          search: state.searchTerm,\r\n          limit: JOBS_PER_PAGE\r\n        }\r\n      });\r\n      const { result, totalJobs, numJobsInDB, totalAppliedApplicant } = response.data;\r\n      \r\n      setState((prev) => ({\r\n        ...prev,\r\n        jobs: result,\r\n        totalJobs,\r\n        applied: totalAppliedApplicant,\r\n        numJobsInDB,\r\n        loading: false\r\n      }));\r\n      \r\n      // Set the first job as selected by default when jobs are loaded\r\n      if (result.length > 0 && !selectedJob) {\r\n        setSelectedJob(result[0]);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.log(error);\r\n      notifyErr(error.response?.data?.message || \"Error fetching jobs\");\r\n      setState((prev) => ({ ...prev, loading: false }));\r\n    }\r\n  }, [state.currentPage, state.searchTerm, selectedJob]);\r\n\r\n  // Fetch filter options\r\n  const fetchFilters = useCallback(async () => {\r\n    try {\r\n      const [sectorResponse, workModeResponse, workExperienceResponse, countryResponse] =\r\n        await Promise.all([\r\n          API.get(\"/api/v1/job/sectors\"),\r\n          API.get(\"/api/v1/job/workModes\"),\r\n          API.get(\"/api/v1/job/workExperiences\"),\r\n          API.get(\"/api/v1/job/countries\"),\r\n        ]);\r\n      setState((prev) => ({\r\n        ...prev,\r\n        sectors: sectorResponse.data.result,\r\n        workModes: workModeResponse.data.result,\r\n        workExperiences: workExperienceResponse.data.result,\r\n        countries: countryResponse.data.result\r\n      }));\r\n    } catch (error) {\r\n      console.log(error);\r\n      notifyErr(\"Error fetching filter options\");\r\n    }\r\n  }, []);\r\n\r\n  // Initial data loading\r\n  useEffect(() => {\r\n    fetchFilters();\r\n    fetchJobData();\r\n    \r\n    // Handle window resize for mobile responsiveness\r\n    const handleResize = () => {\r\n      setMobileView(window.innerWidth < 768);\r\n      // Reset mobile details view when switching from mobile to desktop\r\n      if (window.innerWidth >= 768) {\r\n        setShowMobileDetails(false);\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('resize', handleResize);\r\n    // window.scrollTo({ top: 0 });\r\n    \r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, [fetchJobData, fetchFilters]);\r\n\r\n  // Apply filters to jobs\r\n  const filteredJobs = useMemo(() => {\r\n    return state.jobs.filter((job) => {\r\n      const matchesSector =\r\n        state.selectedSectors.length === 0 ||\r\n        state.selectedSectors.includes(job.sector.slug);\r\n      const matchesWorkMode =\r\n        state.selectedWorkModes.length === 0 ||\r\n        state.selectedWorkModes.includes(job.workMode.slug);\r\n      const matchesExperience =\r\n        state.selectedWorkExperiences.length === 0 ||\r\n        state.selectedWorkExperiences.includes(job.workExperience.slug);\r\n      const matchCountries =\r\n        state.selectedCountries.length === 0 ||\r\n        state.selectedCountries.includes(job.country.slug);\r\n      return matchesSector && matchesWorkMode && matchesExperience && matchCountries;\r\n    });\r\n  }, [\r\n    state.jobs,\r\n    state.selectedSectors,\r\n    state.selectedWorkModes,\r\n    state.selectedWorkExperiences,\r\n    state.selectedCountries\r\n  ]);\r\n\r\n  // Event handlers - MODIFIED to scroll job-details to top instead of the whole page\r\n  const handleJobClick = (job) => {\r\n    setSelectedJob(job);\r\n    \r\n    if (mobileView) {\r\n      setShowMobileDetails(true);\r\n    } else {\r\n      // For desktop view, scroll the job-details div into view smoothly\r\n      // Using setTimeout to ensure the details are rendered before scrolling\r\n      setTimeout(() => {\r\n        if (jobDetailsRef.current) {\r\n          // Scroll the job-details section to the top of its container\r\n          jobDetailsRef.current.scrollTop = 0;\r\n        }\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  const handleBackToList = () => {\r\n    setShowMobileDetails(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setState((prev) => ({ ...prev, searchTerm: event.target.value }));\r\n  };\r\n\r\n  const handlePageChange = (newPage) => {\r\n    setState((prev) => ({ ...prev, currentPage: newPage }));    \r\n    // If we change pages and are in mobile view with details showing,\r\n    // go back to the list view\r\n    if (mobileView && showMobileDetails) {\r\n        setShowMobileDetails(false);\r\n    }  \r\n};\r\n\r\nuseEffect(() => {\r\n  if (jobListRef.current) {\r\n      jobListRef.current.scrollTop = 0;\r\n  }\r\n}, [state.currentPage]); // Trigger scroll when currentPage changes\r\n\r\n  const handleSelectChange = (type, value) => {\r\n    if (value === \"all\") {\r\n      setState((prev) => ({ ...prev, [`selected${type}`]: [] }));\r\n    } else {\r\n      setState((prev) => ({\r\n        ...prev,\r\n        [`selected${type}`]: [...prev[`selected${type}`].filter(item => item !== value), value]\r\n      }));\r\n    }\r\n  };\r\n  // Calculate pagination details\r\n  const totalPages = Math.ceil(state.numJobsInDB / JOBS_PER_PAGE);\r\n  const indexOfFirstJob = (state.currentPage - 1) * JOBS_PER_PAGE + 1;\r\n  const indexOfLastJob = Math.min(state.currentPage * JOBS_PER_PAGE, state.totalJobs);\r\n\r\n  // ***********************************************\r\n  // Add this new state for modal\r\n  const [showApplyModal, setShowApplyModal] = useState(false);\r\n\r\n \r\n\r\n  // Function To Update The Selected Job After Application Success\r\n  const handleJobApplicationSuccess = useCallback((jobId) => {\r\n    // Here I will update state.job to mark this job as applied if Job Application is successful.\r\n    setState(prev => ({\r\n      ...prev,\r\n      jobs: prev.jobs.map(job => {\r\n        if (job._id === jobId) {\r\n          // I will now Add the Application to the Job's Application Array []\r\n          const updatedJobStatus = {\r\n            ...job,\r\n            jobApplications: [\r\n              ...(job.jobApplications || []),\r\n              {\r\n                user: auth.user.userId,\r\n                job: jobId,\r\n                applicationDate: new Date()  // Add current date as application date\r\n              }\r\n            ]\r\n          };\r\n          // Now if this is the currently Selected Job, this will Update it\r\n          if (selectedJob && selectedJob._id === jobId) {\r\n            setSelectedJob(updatedJobStatus);\r\n          }\r\n          return updatedJobStatus;\r\n        }\r\n        return job;\r\n      })\r\n    }));\r\n  }, [auth.user, selectedJob]);\r\n\r\n  // Function to handle apply button click\r\n  const handleApplyClick = (job) => {\r\n    setSelectedJob(job);\r\n    setShowApplyModal(true);\r\n  };\r\n  \r\n  return (\r\n    <>\r\n    <Helmet>\r\n        <link rel=\"canonical\" href={canonicalUrl} />\r\n        <title>Search Jobs | ProsoftSynergies</title>\r\n    </Helmet>\r\n    <TestHomeHeader />\r\n    <div className=\"container-fluid job-search-container\">\r\n      <h1 className=\"job-search-title\">Job Search</h1>\r\n      \r\n      <div className=\"job-search-tabs\">\r\n        <button className=\"tab-active\">All ({state.totalJobs})</button>\r\n        {/* <button className=\"tab\">Recommended Jobs</button> */}\r\n        <div className=\"tab-spacer\"></div>\r\n        <button className=\"copilot-button\">\r\n          <svg viewBox=\"0 0 24 24\" className=\"lightning-icon\">\r\n            <path d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n          </svg>\r\n          {/* <span className=\"copilot-text\">copilot</span> */}\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"search-section\">\r\n        <div className=\"search-by\">Search by</div>\r\n        <div className=\"search-inputs\">\r\n          <div className=\"search-field\">\r\n            <input \r\n              type=\"text\" \r\n              placeholder=\"Search by Job Title or Keyword\" \r\n              className=\"search-input\"\r\n              value={state.searchTerm}\r\n              onChange={handleSearch}\r\n            />\r\n            <span className=\"search-icon\">⌕</span>\r\n          </div>\r\n          <div className=\"search-field\">\r\n            {/* <input \r\n              type=\"text\" \r\n              placeholder=\"Country\" \r\n              className=\"search-input\"\r\n              \r\n            /> */}\r\n              <select \r\n                className=\"filter-select\"\r\n                onChange={(e) => handleSelectChange('Countries', e.target.value)}\r\n              >\r\n                <option value=\"all\">Countries</option>\r\n                {state.countries.map(country => (\r\n                  <option key={country._id} value={country.slug}>\r\n                    {country.countryName}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            <span className=\"location-icon\"><i className=\"fas fa-map-marker-alt\"  style={{ color: \"#001524\" }}\r\n                        ></i></span>\r\n          </div>\r\n          <button className=\"search-button\"  onClick={() => fetchJobData()}>\r\n            <span className=\"search-button-icon\"><i className=\"fas fa-search\"></i></span>\r\n            <span className=\"search-button-text\">Search</span>\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"filter-section\">\r\n          <div className=\"filter\">\r\n            <div className=\"filter-label\">Job Sectors</div>\r\n            <select \r\n              className=\"filter-select\"\r\n              onChange={(e) => handleSelectChange('Sectors', e.target.value)}\r\n            >\r\n              <option value=\"all\">All</option>\r\n              {state.sectors.map(sector => (\r\n                <option key={sector._id} value={sector.slug}>\r\n                  {sector.sectorName}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"filter\">\r\n            <div className=\"filter-label\">Job Type Modes</div>\r\n            <select \r\n              className=\"filter-select\"\r\n              onChange={(e) => handleSelectChange('WorkModes', e.target.value)}\r\n            >\r\n              <option value=\"all\">All</option>\r\n              {state.workModes.map(mode => (\r\n                <option key={mode._id} value={mode.slug}>\r\n                  {mode.workModeName}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"filter\">\r\n            <div className=\"filter-label\">Job Experiences</div>\r\n            <select \r\n              className=\"filter-select\"\r\n              onChange={(e) => handleSelectChange('WorkExperiences', e.target.value)}\r\n            >\r\n              <option value=\"all\">All</option>\r\n              {state.workExperiences.map(exp => (\r\n                <option key={exp._id} value={exp.slug}>\r\n                  {exp.workExperienceName}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className={`job-results-container ${mobileView && showMobileDetails ? 'mobile-details-active' : ''}`}>\r\n        <div className={`job-list ${mobileView && showMobileDetails ? 'hidden' : ''}`} ref={jobListRef}>\r\n          {filteredJobs.length === 0 ? (\r\n            <div fallback={<Loader style={{ width: \"100px\", height: \"100px\" }} />}>No jobs found. Try adjusting your search criteria.</div>\r\n          ) : (\r\n            filteredJobs.map(job => (\r\n              <div \r\n                key={job._id} \r\n                className={`job-card ${selectedJob && selectedJob._id === job._id ? 'selected' : ''}`}\r\n                onClick={() => handleJobClick(job)}\r\n              >\r\n                <div className=\"job-tag\">\r\n                  <i className=\"fas fa-business-time\" style={{ color: \"#001524\" }}></i>{\" \"} {job.workMode.workModeName}\r\n                </div>\r\n                <div className=\"job-title\">{job.title}</div>\r\n                <div className=\"job-company\"><i className=\"fas fa-map-marker-alt\"  style={{ color: \"#001524\" }}\r\n                        ></i>{\" \"} {job?.country?.countryName}, {job?.province?.provinceName}</div>                \r\n                <div className=\"job-preview\" dangerouslySetInnerHTML={{ __html: job.description.substring(0, 500) }} />\r\n\r\n                <div className=\"job-footer\">\r\n                  <div className=\"job-date\">\r\n                    <span className=\"calendar-icon\">Posted:</span>\r\n                    {/* {new Date(job.createdAt).toLocaleDateString()} */}\r\n                    <small>                                         \r\n                      {moment\r\n                        .utc(new Date(job.jobPostDate))\r\n                        .local()\r\n                        .startOf(\"seconds\")\r\n                        .fromNow(true)}{\" \"}\r\n                      ago\r\n                    </small>{\" \"}\r\n                  </div>\r\n                  <div className=\"job-id\">Apply Before: {moment(job.expiryDate).format(\"ll\")}</div>\r\n                </div>\r\n                {/* <button className=\"bookmark-button\">🔖</button> */}\r\n                <small><i className=\"fas fa-briefcase\" style={{ color: \"#001524\" }}></i>{\" \"} {job?.sector?.sectorName || null}</small>\r\n              </div>\r\n            ))\r\n          )}\r\n          \r\n          {/* Pagination Controls */}\r\n          {filteredJobs.length > 0 && (\r\n            <div className=\"pagination-container\">\r\n              <div className=\"pagination-results\">\r\n                Found {indexOfFirstJob}-{indexOfLastJob} of {state.totalJobs} jobs\r\n              </div>\r\n              <div className=\"pagination-controls\">\r\n                <button \r\n                  className={`pagination-arrow ${state.currentPage === 1 ? 'disabled' : ''}`}\r\n                  onClick={() => handlePageChange(state.currentPage - 1)}\r\n                  disabled={state.currentPage === 1}\r\n                >\r\n                  <i className=\"fas fa-arrow-left\"></i>\r\n                </button>\r\n                {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {\r\n                  let pageNum = i + 1;\r\n                  if (totalPages > 5 && state.currentPage > 3) {\r\n                    pageNum = state.currentPage + i - 2;\r\n                    if (pageNum > totalPages) return null;\r\n                  }\r\n                  return (\r\n                    <button\r\n                      key={pageNum}\r\n                      onClick={() => handlePageChange(pageNum)}\r\n                      className={`pagination-number ${state.currentPage === pageNum ? 'active' : ''}`}\r\n                    >\r\n                      {pageNum}\r\n                    </button>\r\n                  );\r\n                })}\r\n                <button \r\n                  className={`pagination-arrow ${state.currentPage === totalPages ? 'disabled' : ''}`}\r\n                  onClick={() => handlePageChange(state.currentPage + 1)}\r\n                  disabled={state.currentPage === totalPages}\r\n                >\r\n                  <i className=\"fas fa-arrow-right\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>        \r\n        {selectedJob && (!mobileView || showMobileDetails) && (\r\n          <div className=\"job-details\" ref={jobDetailsRef}>\r\n            {mobileView && (\r\n              <button className=\"back-button\" onClick={handleBackToList}>\r\n                ← Back to job list\r\n              </button>\r\n            )}\r\n            <div className=\"job-details-header\">\r\n              <h2 className=\"job-details-title\">{selectedJob.title}</h2>\r\n              {/* <div className=\"job-details-company\">{selectedJob.company}</div> */}\r\n              <div className=\"job-details-location\">\r\n                <span className=\"location-pin\"><i className=\"fas fa-map-marker-alt\" style={{ color: \"#001524\" }}></i>{\" \"}</span>\r\n                {selectedJob.country.countryName}, {selectedJob?.province?.provinceName}\r\n                <span className={`job-type-tag ${selectedJob.workMode.slug}`}>\r\n                  {selectedJob.workMode.workModeName}\r\n                </span>\r\n                <span className=\"info-icon\"><i className=\"fas fa-business-time\" style={{ color: \"#001524\" }}></i>{\" \"} </span>\r\n              </div>\r\n              \r\n              <div className=\"job-actions\">\r\n                {/* <button className=\"apply-button\">Apply Now</button> */}\r\n                {!auth.user ? (\r\n                  <>\r\n                    <Link to={`/Test-Login`} className=\"apply-button\">\r\n                      Login To Apply\r\n                    </Link>\r\n                  </>\r\n                ) : auth.user?.role === 1 ||\r\n                  auth.user?.role === 2 ? (\r\n                  <>\r\n                    <Link to=\"#\" className=\"apply-button rounded-0 border-0\">Not Allowed</Link>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    {selectedJob.jobApplications?.find(\r\n                      (application) =>\r\n                        application.user ===\r\n                          auth.user.userId &&\r\n                        application.job === selectedJob._id\r\n                    ) ? (\r\n                      <>\r\n                       {selectedJob.jobApplications\r\n                        .filter((application) => application.user === auth.user.userId)\r\n                        .map((application) => (\r\n                          <Link key={application._id} to=\"#\" className=\"appliedText apply-button rounded-0 border-0\">\r\n                            <span>                              \r\n                              {/* Display the application date */}\r\n                              {application.applicationDate && (\r\n                                <span> Applied {\" \"}\r\n                                  {moment\r\n                                  .utc(new Date(application.applicationDate))\r\n                                  .local()\r\n                                  .startOf(\"seconds\")\r\n                                  .fromNow(true)}{\" \"}\r\n                                  ago\r\n                                </span>\r\n                              )}\r\n                            </span>\r\n                          </Link>\r\n                        ))}\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                      {selectedJob.jobApplications.filter((application) => \r\n                         application.user === auth.user.userId).length === 0 && (\r\n                         <Link\r\n                           onClick={() => handleApplyClick(selectedJob)}\r\n                           className=\"apply-button\"\r\n                         >\r\n                           Apply Now\r\n                         </Link>\r\n                       )}\r\n                     </>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"job-meta\">\r\n                <div className=\"job-meta-item\">\r\n                  <span className=\"job-date-icon\">\r\n                    <i className=\"fas fa-calendar-days\" style={{ color: '#900'}}></i>\r\n                  </span>\r\n                  <span className=\"job-date\">\r\n                    Posted:  {moment\r\n                        .utc(new Date(selectedJob.jobPostDate))\r\n                        .local()\r\n                        .startOf(\"seconds\")\r\n                        .fromNow(true)}{\" \"}\r\n                      ago\r\n                  </span>\r\n                </div>\r\n                <div className=\"job-meta-item\">\r\n                  <span className=\"job-contract-icon\"><i className=\"fas fa-briefcase\" style={{ color: \"#001524\" }}></i>{\" \"}</span>\r\n                  <span className=\"job-contract\">Sector:  {selectedJob?.sector?.sectorName || null}</span>\r\n                </div>\r\n                {selectedJob.startDate && (\r\n                  <div className=\"job-meta-item\">\r\n                    <span className=\"job-start\">Apply Before: {moment(selectedJob.expiryDate).format(\"ll\")}</span>\r\n                  </div>\r\n                )}\r\n                {/* <div className=\"job-meta-item\">\r\n                  <span className=\"job-ats-id\">ATS ID #{selectedJob._id.substring(0, 6)}</span>\r\n                </div> */}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"job-description-section active\">\r\n              <h3 className=\"section-title\">Job Description</h3>\r\n              <div className=\"job-full-title\">{selectedJob.title}</div>\r\n              {/* <div className=\"job-full-description\">{selectedJob.description}</div> */}\r\n              <div\r\n                      key={selectedJob.description}\r\n                      className=\"job-full-description\"\r\n                      dangerouslySetInnerHTML={{\r\n                        __html: DOMPurify.sanitize(selectedJob.description) || \"\"\r\n                      }}\r\n                    />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n    {/* Add the modal component */}\r\n    {/* Add the modal component with new onApplicationSuccess prop */}\r\n    {selectedJob && (\r\n      <ApplyJobApplicationModal\r\n        isOpen={showApplyModal}\r\n        onClose={() => setShowApplyModal(false)}\r\n        jobData={selectedJob}  // Pass the selected job data to the modal\r\n        onApplicationSuccess={() => handleJobApplicationSuccess(selectedJob._id)}\r\n      />\r\n    )}\r\n    <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default JobSearchInterface;\r\n"],"names":["_ref","_jobDetails$country","_jobDetails$province","_jobDetails$workMode","_auth$user","_auth$user2","_auth$user3","_auth$user4","_auth$user5","_auth$user6","_auth$user7","_auth$user8","_salaries$find","isOpen","onClose","jobData","onApplicationSuccess","auth","useAuth","salaries","setSalaries","useState","salary","setSalary","rate","setRate","resumeFile","setResumeFile","isLoading","setIsLoading","currentStep","setCurrentStep","jobDetails","setJobDetails","applicationMethod","setApplicationMethod","uploadProgress","setUploadProgress","uploadSuccess","setUploadSuccess","fileInputRef","useRef","params","useParams","resume","setResume","jobMatrix","setJobMatrix","loading","setLoading","useNavigate","job","setJob","notifySucc","message","toast","success","position","autoClose","closeOnClick","pauseOnHover","theme","notifyErr","error","useEffect","fetchSalaries","slug","async","data","API","get","console","log","fetchJob","fetchJobDetails","response","uploadResume","simulateUpload","progress","interval","setInterval","Math","floor","random","clearInterval","resetForm","handleSubmitJobApplicationForm","e","preventDefault","formData","FormData","append","config","headers","jobSlug","post","_id","_error$response","_error$response2","_error$response2$data","_jsx","className","onClick","target","children","_jsxs","title","country","countryName","province","provinceName","workMode","workModeName","_Fragment","htmlFor","type","id","name","value","user","firstname","disabled","lastname","email","phone","onChange","map","s","salaryName","placeholder","find","style","width","handleBack","handleNext","validateStep1","isValid","onDragOver","stopPropagation","currentTarget","classList","add","onDragLeave","remove","onDrop","file","dataTransfer","files","size","allowedTypes","fileExtension","split","pop","toLowerCase","includes","accept","ref","handleUploadClick","current","click","startApplication","sanitize","DOMPurify","Loader","display","justifyContent","alignItems","height","role","overflow","zIndex","src","alt","objectFit","borderRadius","JobSearchInterface","_selectedJob$province","_selectedJob$jobAppli","_selectedJob$sector","canonicalUrl","window","location","href","jobDetailsRef","jobListRef","handleResize","setMobileView","innerWidth","setShowMobileDetails","addEventListener","removeEventListener","setAuth","state","setState","numJobsInDB","totalJobs","currentPage","jobs","applied","searchTerm","sectors","selectedSectors","workModes","selectedWorkModes","workExperiences","selectedWorkExperiences","countries","selectedCountries","jobsNumberPerPage","mobileView","showMobileDetails","selectedJob","setSelectedJob","msg","fetchJobData","useCallback","prev","page","search","limit","result","totalAppliedApplicant","length","_error$response$data","fetchFilters","sectorResponse","workModeResponse","workExperienceResponse","countryResponse","Promise","all","filteredJobs","useMemo","filter","matchesSector","sector","matchesWorkMode","matchesExperience","workExperience","matchCountries","handlePageChange","newPage","scrollTop","handleSelectChange","item","totalPages","ceil","indexOfFirstJob","indexOfLastJob","min","showApplyModal","setShowApplyModal","handleJobApplicationSuccess","jobId","updatedJobStatus","jobApplications","userId","applicationDate","Date","Helmet","rel","TestHomeHeader","viewBox","d","event","color","sectorName","mode","exp","workExperienceName","fallback","_job$country","_job$province","_job$sector","setTimeout","handleJobClick","dangerouslySetInnerHTML","__html","description","substring","moment","jobPostDate","local","startOf","fromNow","expiryDate","format","Array","from","_","i","pageNum","handleBackToList","Link","to","application","startDate","ApplyJobApplicationModal","Footer"],"sourceRoot":""}