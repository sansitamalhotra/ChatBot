{"version":3,"file":"static/js/2058.8f5f12b5.chunk.js","mappings":"mNAAA,MAUA,EAPkB,8X,w4SCQlBA,IAAAA,cAAoB,SAGpB,MAAMC,EAAmBC,0BAEnBC,EAAoBD,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,EAAAA,kBAAAA,wBAAAA,uCAAAA,2BAAAA,gCAAAA,2BAAYE,0BAA4B,yBAElE,SAASC,EAAQC,GACf,IAAKA,EAAI,MAAO,GAChB,MAAMC,EAAI,IAAIC,KAAKF,GACbG,EAAOC,KAAKC,OAAOH,KAAKI,MAAQL,EAAEM,WAAa,KACrD,OAAIJ,EAAO,GAAW,WAClBA,EAAO,GAAW,GAAGA,KACrBA,EAAO,KAAa,GAAGC,KAAKC,MAAMF,EAAO,OACzCA,EAAO,MAAc,GAAGC,KAAKC,MAAMF,EAAO,SACvCF,EAAEO,oBACX,CAEA,MAAMC,EACJ,qGAEIC,EAAqB,SAACC,GAC1B,GAD4CC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAC/B,OAAOH,EACpB,IAAKE,EAAW,MAAO,GAIvB,MAFuB,kBAAdA,GACPA,EAAUI,WAAW,yBAEnBnB,wBAAgCe,EAChCA,CACN,EAcA,MA40BA,EA50BoBK,KAClB,MAAM,OAAEC,EAAM,YAAEC,IAAgBC,EAAAA,EAAAA,MACzBC,IAAQC,EAAAA,EAAAA,KACTC,EAAmB,OAAJF,QAAI,IAAJA,OAAI,EAAJA,EAAMG,MAEpBC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAAQC,IAAaF,EAAAA,EAAAA,WAAS,IAC9BG,EAASC,IAAcJ,EAAAA,EAAAA,UAAS,OAChCK,EAAUC,IAAeN,EAAAA,EAAAA,UAAS,KAClCO,EAAcC,IAAmBR,EAAAA,EAAAA,UAAS,OAC1CS,EAAaC,IAAkBV,EAAAA,EAAAA,UAAS,IACxCW,EAAeC,IAAoBZ,EAAAA,EAAAA,WAAS,IAC5Ca,EAAmBC,IAAwBd,EAAAA,EAAAA,WAAS,IACpDe,EAAoBC,IAAyBhB,EAAAA,EAAAA,WAAS,IACtDiB,EAAiBC,IAAsBlB,EAAAA,EAAAA,UAAS,CAAC,IACjDmB,EAAuBC,IAA4BpB,EAAAA,EAAAA,WAAS,IAG5DqB,EAAiBC,IAAsBtB,EAAAA,EAAAA,UAAS,IAAIuB,MAEpDC,EAAWC,IAAgBzB,EAAAA,EAAAA,UAAS,CACzC0B,UAAW,GACXC,SAAU,GACVC,MAAO,GACPC,MAAO,KAGHC,GAAWC,EAAAA,EAAAA,QAAO,MAClBC,GAAiBD,EAAAA,EAAAA,QAAO,MAGxBE,GAAoBC,EAAAA,EAAAA,SAAQ,IAC5BtC,GACFuC,EAAAA,YAAYC,QAAQ,yBAA0BxC,EAAagC,QACpD,IAGTO,EAAAA,YAAYE,OAAO,gCAAiCtB,GAC7CA,GACN,CAACnB,EAAcmB,IAGZuB,GAAiBJ,EAAAA,EAAAA,SAAQ,KAC7B,MAAMK,GAAU3C,IAAiBqC,EAMjC,OALAE,EAAAA,YAAYK,MAAM,oBAAqB,CACrC5C,eAAgBA,EAChBqC,oBACAM,WAEKA,GACN,CAAC3C,EAAcqC,IAEZQ,GAAaP,EAAAA,EAAAA,SACjB,IA7F4BhE,6BA6FY,OAAPiC,QAAO,IAAPA,OAAO,EAAPA,EAASuC,OAAc,OAAPvC,QAAO,IAAPA,OAAO,EAAPA,EAASwC,KAAM,SAChE,CAACxC,KAIHyC,EAAAA,EAAAA,WAAU,KACR,IACE,MAAMC,EAAaC,aAAaC,QAAQ5E,GACpC0E,GAAcA,EAAWG,QAC3BjD,EAAS8C,EAEb,CAAE,MAAOI,GACPC,QAAQC,KAAK,0CAA2CF,EAC1D,GACC,KAGHL,EAAAA,EAAAA,WAAU,KACR,MAAMQ,EAAYC,WAAW,KAC3B,IACMvD,GAASA,EAAMkD,OACjBF,aAAaQ,QAAQnF,EAAmB2B,GAC9BA,GACVgD,aAAaS,WAAWpF,EAE5B,CAAE,MAAO8E,GACPC,QAAQC,KAAK,wCAAyCF,EACxD,GACC,KAEH,MAAO,IAAMO,aAAaJ,IACzB,CAACtD,KAGJ8C,EAAAA,EAAAA,WAAU,KACR,IACE,MAAMa,EAAMX,aAAaC,QAAQ9E,GACjC,GAAIwF,EAAK,CACP,MAAMC,EAAIC,KAAKC,MAAMH,GACrBhC,EAAa,CACXC,UAAWgC,EAAEhC,WAAa,GAC1BC,SAAU+B,EAAE/B,UAAY,GACxBC,MAAO8B,EAAE9B,OAAS,GAClBC,MAAO6B,EAAE7B,OAAS,KAIpB,MAAMgC,EAAkBC,QAAQJ,EAAEhC,WAAagC,EAAE9B,OAAS8B,EAAEhC,UAAUsB,QAAUU,EAAE9B,MAAMoB,QACxFhC,EAAsB6C,GACtBX,QAAQa,IAAI,kCAAmCL,EAAG,kBAAmBG,EACvE,CACF,CAAE,MAAOZ,GACPC,QAAQC,KAAK,+CAAgDF,EAC/D,GACC,KAEHL,EAAAA,EAAAA,WAAU,KACR,IACE,MAAMa,EAAMX,aAAaC,QAAQN,GAC7BgB,GAAKnD,EAAYqD,KAAKC,MAAMH,GAClC,CAAE,MAAOR,GACPC,QAAQC,KAAK,6CAA8CF,EAC7D,GACC,CAACR,KAEJG,EAAAA,EAAAA,WAAU,KACR,IACEE,aAAaQ,QAAQb,EAAYkB,KAAKK,UAAU3D,GAClD,CAAE,MAAO4C,GACPC,QAAQC,KAAK,2CAA4CF,EAC3D,GACC,CAAC5C,EAAUoC,KAGdG,EAAAA,EAAAA,WAAU,KACJ3C,GAAU+B,EAAeiC,SAC3BjC,EAAeiC,QAAQC,eAAe,CAAEC,SAAU,YAEnD,CAAC9D,EAAUJ,KAGd2C,EAAAA,EAAAA,WAAU,KACJwB,IAAStC,EAASmC,QAAU,IAAII,MAAMD,KACzC,IAGH,MAAME,GAAmBC,EAAAA,EAAAA,aACtBC,IAAS,IAADC,EAAAC,EAAAC,EACP,IAAKH,EAAK,OAAO,KACjB,MAAM7B,EAAK6B,EAAI9B,KAAO8B,EAAI7B,IAAM,KAAKnE,KAAKI,SAASF,KAAKkG,WAClDC,EAAOL,EAAIM,SAAWN,EAAIK,MAAQ,GAClCvG,EAAKkG,EAAIO,WAAaP,EAAIQ,WAAaxG,KAAKI,MAC5CqG,EACe,SAAnBT,EAAIU,WACA,OACmB,UAAnBV,EAAIU,WACJ,QACmB,QAAnBV,EAAIU,WACJ,MACAV,EAAIS,MAAQ,MAUlB,MAAO,CACLtC,KACAsC,OACAJ,OACAG,UAAW1G,EACX6G,QAZY,QAAZV,EAAAD,EAAIY,gBAAQ,IAAAX,OAAA,EAAZA,EAAcY,gBACJ,UAATJ,GACU,OAAP9E,QAAO,IAAPA,GAAc,QAAPuE,EAAPvE,EAASmF,aAAK,IAAAZ,OAAP,EAAPA,EAAgBa,QAASC,EAChB,SAATP,EACAjG,EAA+B,OAAZY,QAAY,IAAZA,OAAY,EAAZA,EAAc2F,OAAQ3F,GACzC4F,GAQJC,cAA0B,QAAZd,EAAAH,EAAIY,gBAAQ,IAAAT,OAAA,EAAZA,EAAcc,eAAgBjB,EAAIiB,cAAgB,KAGpE,CAACtF,EAASP,IAIN8F,GAAwBnB,EAAAA,EAAAA,aAC3BoB,IACC,MAAMnB,EAAMF,EAAiBqB,GAC7B,GAAKnB,IAGLlE,EAAasF,GACWA,EAAaC,KAAKC,GACtCA,EAAYnD,KAAO6B,EAAI7B,IACtBmD,EAAYjB,OAASL,EAAIK,MACzBiB,EAAYb,OAAST,EAAIS,MACzBvG,KAAKqH,IAAID,EAAYd,UAAYR,EAAIQ,WAAa,MAInD9B,QAAQa,IAAI,wCAAyCS,GAC9CoB,IAIQ,SAAbpB,EAAIS,MACN3D,EAAmB0E,IACjB,MAAMC,EAAa,IAAI1E,IAAIyE,GAE3B,IAAK,MAAME,KAAaF,EAClBE,EAAUC,SAAS3B,EAAIK,KAAKuB,UAAU,EAAG,MAC3CH,EAAWI,OAAOH,GAGtB,OAAOD,IAIJ,IAAIL,EAAcpB,KAIV,QAAbA,EAAIS,MAAkBT,EAAIiB,aAAatG,QAKtCc,GAAQ,CACXS,EAAgB4F,GAAMA,EAAI,GAC1B,IACExE,EAASmC,SAAWnC,EAASmC,QAAQsC,OAAOC,MAAM,OACpD,CAAE,MAAO,CACX,GAEF,CAAClC,EAAkBrE,KAGrB2C,EAAAA,EAAAA,WAAU,KACR,IAAKrD,EAAQ,OAEb,MAAMkH,EAAoBC,IAAgB,IAADC,EACvCzD,QAAQa,IAAI,kCAAmC2C,GAC/C,MAAME,GAAoB,OAAVF,QAAU,IAAVA,GAAgB,QAANC,EAAVD,EAAYG,YAAI,IAAAF,OAAN,EAAVA,EAAkBG,OAAQJ,EACpCK,GAAc,OAAPH,QAAO,IAAPA,OAAO,EAAPA,EAASzG,UAAWyG,GAAW,KACxCG,IACF3G,EAAW2G,GACX7D,QAAQa,IAAI,eAAgBgD,GACxBH,EAAQI,eAAexG,EAAgBoG,EAAQI,gBAE1C,OAAPJ,QAAO,IAAPA,GAAAA,EAASK,gBACXvB,EAAsBkB,EAAQK,iBAI5BC,EAAgB1C,GAAQkB,EAAsBlB,GAC9C2C,EAAkBC,IAAA,IAAC,UAAEC,EAAS,OAAEC,GAAQF,EAAA,OAC5C9G,EAAa0F,GACXA,EAAKuB,IAAKC,GAAOA,EAAE7E,KAAO0E,EAAY,IAAKG,EAAGF,UAAWE,KAO7D,OAJAjI,EAAOkI,GAAG,kBAAmBhB,GAC7BlH,EAAOkI,GAAG,cAAeP,GACzB3H,EAAOkI,GAAG,iBAAkBN,GAErB,KACL5H,EAAOmI,IAAI,kBAAmBjB,GAC9BlH,EAAOmI,IAAI,cAAeR,GAC1B3H,EAAOmI,IAAI,iBAAkBP,KAE9B,CAAC5H,EAAQmG,IAGZ,MAAMiC,GAAgBpD,EAAAA,EAAAA,aAAYqD,UAChC,IAAKrI,IAAWA,EAAOsI,WAAa1H,EAMlC,YALA+C,QAAQa,IAAI,yBAA0B,CACpC+D,YAAavI,EACbC,YAAmB,OAAND,QAAM,IAANA,OAAM,EAANA,EAAQsI,UACrBE,aAAc5H,IAKlB,IAAI6H,EACJ,MAAMC,EAAWC,KAAKC,iBAAiBC,kBAAkBC,SAGzD,GAAIzI,EAEFsD,QAAQa,IAAI,2CAA4CnE,EAAagC,OACrEoG,EAAc,CACZM,WAAY,SACZC,eAAgB,kBAChBN,WACAvG,UAAW9B,EAAa4I,WAAa5I,EAAa8B,UAClDC,SAAU/B,EAAa6I,UAAY7I,EAAa+B,SAChDC,MAAOhC,EAAagC,MACpBC,MAAOjC,EAAaiC,OAAS,GAE7BuD,SAAU,CACRsD,mBAAmB,EACnBC,OAAQ/I,EAAa8C,KAAO9C,EAAa+C,SAGxC,CAELO,QAAQa,IAAI,mCAAoCvC,GAChD,MAAM,UAAEE,EAAS,SAAEC,EAAQ,MAAEC,EAAK,MAAEC,GAAUL,EAG9C,IACEsB,aAAaQ,QACXrF,EACA0F,KAAKK,UAAU,CAAEtC,YAAWC,WAAUC,QAAOC,UAEjD,CAAE,MAAOoB,GACPC,QAAQC,KAAK,6CAA8CF,EAC7D,CAEA+E,EAAc,CACZM,WAAY,SACZC,eAAgB,kBAChBN,WACAvG,YACAC,WACAC,QACAC,QACA+G,WAAYhH,EACZwD,SAAU,CACRyD,eAAgBnH,EAChBoH,cAAenH,EACfoH,WAAYlH,GAGlB,CAEAqB,QAAQa,IAAI,qCAAsCiE,GAElDzI,EAAOyJ,KAAK,iBAAkBhB,EAAa,CAACiB,EAAK1G,KAAY,IAAD2G,EAC1D,GAAID,EAEF,YADA/F,QAAQD,MAAM,qBAAsBgG,GAGtC/F,QAAQa,IAAI,6BAA8BxB,GAC1C,MAAMuE,GAAa,OAANvE,QAAM,IAANA,GAAY,QAAN2G,EAAN3G,EAAQsE,YAAI,IAAAqC,OAAN,EAANA,EAAcpC,OAAQvE,EAC7BwE,GAAW,OAAJD,QAAI,IAAJA,OAAI,EAAJA,EAAM3G,UAAW2G,GAAQ,KAClCC,IACF3G,EAAW2G,GACPD,EAAKG,gBAAgBvB,EAAsBoB,EAAKG,gBAChDH,EAAKE,eAAexG,EAAgBsG,EAAKE,mBAGhD,CACDzH,EACAY,EACAP,EACA4B,EACAkE,IAIIyD,GAAc5E,EAAAA,EAAAA,aAAY,KAC9B,IAAKzE,EAAMkD,OAAQ,OAEnB,MAAM6B,EAAO/E,EAAMkD,OACbqE,EAAY,SAAS7I,KAAKI,SAASF,KAAKkG,WAG9CtD,EAAmB0E,GAAQ,IAAIzE,IAAI,IAAIyE,EAAMqB,KAG7CtH,EAAS,IACT,IACE+C,aAAaS,WAAWpF,EAC1B,CAAE,MAAO8E,GACPC,QAAQC,KAAK,2CAA4CF,EAC3D,CAIA,GAAI1D,GAAUA,EAAOsI,UACnBtI,EAAOyJ,KAAK,eAAgB,CAC1BI,WAAkB,OAAPjJ,QAAO,IAAPA,OAAO,EAAPA,EAASuC,OAAc,OAAPvC,QAAO,IAAPA,OAAO,EAAPA,EAASwC,IACpCmC,QAASD,EACTwE,YAAa,aAEV,CAEL,MAAMC,EAAQ,CACZ3G,GAAI0E,EACJpC,KAAM,OACNJ,OACAG,UAAWxG,KAAKI,MAChBuG,OAAQvF,EACJZ,EAA+B,OAAZY,QAAY,IAAZA,OAAY,EAAZA,EAAc2F,OACjCxG,GAENuB,EAAa0F,GAAS,IAAIA,EAAMsD,IAEhChI,EAAmB0E,IACjB,MAAMC,EAAa,IAAI1E,IAAIyE,GAE3B,OADAC,EAAWI,OAAOgB,GACXpB,GAEX,CAGKrG,GAAiBmB,IACpBmC,QAAQa,IAAI,sEACZV,WAAW,KACTzC,GAAiB,IAChB,OAEJ,CAACd,EAAOK,EAASZ,EAAQK,EAAcmB,IAEpCwI,IAAmBhF,EAAAA,EAAAA,aACtBiF,IACC,MAAMC,EAAQD,EAAOC,OAASD,EAAO3E,MAAQ2E,EACvC3E,EAAO2E,EAAO3E,MAAQ4E,EACtBpC,EAAY,YAAY7I,KAAKI,SAASF,KAAKkG,WASjD,GANAtD,EAAmB0E,GAAQ,IAAIzE,IAAI,IAAIyE,EAAMqB,KAMzC9H,GAAUA,EAAOsI,WAAa1H,EAChCZ,EAAOyJ,KAAK,eAAgB,CAC1BI,UAAWjJ,EAAQuC,KAAOvC,EAAQwC,GAClCmC,QAAS2E,EACTJ,YAAa,yBAEV,CAEL,MAAMC,EAAQ,CACZ3G,GAAI0E,EACJpC,KAAM,OACNJ,OACAG,UAAWxG,KAAKI,MAChBuG,OAAQvF,EACJZ,EAA+B,OAAZY,QAAY,IAAZA,OAAY,EAAZA,EAAc2F,OACjCxG,GAENuB,EAAa0F,GAAS,IAAIA,EAAMsD,IAChChI,EAAmB0E,IACjB,MAAMC,EAAa,IAAI1E,IAAIyE,GAE3B,OADAC,EAAWI,OAAOgB,GACXpB,GAEX,GAEF,CAAC9F,EAASZ,EAAQK,IAgEd8J,GAAwB9B,UAU5B,GATA1E,QAAQa,IAAI,+BAAgC,CAC1CgE,aAAc5H,EACd2H,YAAavI,EACbC,YAAmB,OAAND,QAAM,IAANA,OAAM,EAANA,EAAQsI,UACrB5F,oBACAd,0BAIsB,IAApBd,EAASlB,SAAiBgC,EAAuB,CACnDC,GAAyB,GAEzB,MAAMuI,QAnhBZ/B,iBACE,IACE,MAAMgC,QAAYC,EAAAA,EAAIC,IAAI,kDAC1B,GAAIF,EAAI9C,KAAK1E,QACX,OAAOwH,EAAI9C,KAAKA,IAEpB,CAAE,MAAOmC,GACP9G,EAAAA,YAAYc,MAAM,iCAAkCgG,EACtD,CACA,OAAO,IACT,CAygBwBc,GAClBvJ,EAAgBmJ,GAEZA,IAAQA,EAAI1J,QAAU0J,EAAIK,oBAC5B1J,EAAY,CACV,CACEqC,GAAI,gBACJsC,KAAM,MACNJ,KAAM8E,EAAIK,oBACVhF,UAAWxG,KAAKI,MAChBuG,OAAQK,EACRC,aAAckE,EAAIM,qBAAuB,MAI7C3J,EAAY,CACV,CACEqC,GAAI,mBACJsC,KAAM,MACNJ,KAAM,kCACNG,UAAWxG,KAAKI,MAChBuG,OAAQK,EACRC,aAAc,CACZ,CAAEZ,KAAM,wBAAyB4E,MAAO,gBACxC,CAAE5E,KAAM,2BAA4B4E,MAAO,iBAC3C,CAAE5E,KAAM,wBAAyB4E,MAAO,mBACxC,CAAE5E,KAAM,cAAe4E,MAAO,cAC9B,CAAE5E,KAAM,mBAAoB4E,MAAO,gBACnC,CAAE5E,KAAM,mBAAoB4E,MAAO,qBACnC,CAAE5E,KAAM,gBAAiB4E,MAAO,iBAK1C,EAGKtJ,GAAWZ,GAAUA,EAAOsI,WAAa5F,IAC5CiB,QAAQa,IAAI,6BACN4D,MAuCJuC,GAAyBC,IAC7B,MAAM,KAAEC,EAAI,MAAEX,GAAUU,EAAEE,OAC1B5I,EAAa,IACRD,EACH,CAAC4I,GAAOX,IAINxI,EAAgBmJ,IAClBlJ,EAAmB,IACdD,EACH,CAACmJ,GAAO,MAyDd,OACEE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BF,EAAAA,EAAAA,MAAA,UACEC,UAAW,mBAAkBtK,EAAS,OAAS,IAC/CwK,QArGe7C,UACnB,MAAM8C,GAAQzK,EAGd,GAFAC,EAAUwK,GAENA,EAAM,CAWR,GAVAhK,EAAe,GAEfwC,QAAQa,IAAI,wBAAyB,CACnCnE,eAAgBA,EAChB0C,iBACAd,YACAS,sBAIEK,EAKF,OAJAY,QAAQa,IAAI,yBACZnD,GAAiB,cAEX8I,KAKRxG,QAAQa,IAAI,8BACN2F,IACR,GA2E0Bc,SAAA,EAEtBG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,oBAAmBC,UAC9BvK,IAAU0K,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,gCAE1B9J,EAAc,IAAKkK,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,eAAcC,SAAE/J,OAGpDR,IACCqK,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAE1BG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,iBAAiBE,QArHdG,KACxB1K,GAAU,IAoHwD2K,MAAO,CAAEC,OAAQ,WAAYN,UACvFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BG,EAAAA,EAAAA,KAAA,UACEJ,UAAU,iBACVE,QAAUN,IACRA,EAAEY,kBACF7K,GAAU,IACVsK,UAEFG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,2BAEfI,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,cAAaC,UAC1BG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,IAAIR,QAAUN,GAAMA,EAAEY,kBAAkBP,UAC/CG,EAAAA,EAAAA,KAAA,OAAKO,IAAK1F,EAAa2F,IAAI,0BAG/Bb,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,aAAYC,SACxB5K,EACG,oBAAoBA,EAAa4I,WAAa,SAC9CvG,EACE,oBAAoBT,EAAUE,YAC9B,oBAGRiJ,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,WAAUC,SACtBjK,EACGA,EAAaN,OACT,mBACA,yBACJT,EACI,YACA,2BAMhB8K,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC9BnK,EAASkH,IAlRE6D,CAAC5D,EAAG6D,KAAW,IAADC,EAClC,MAAMC,EAAoB,SAAX/D,EAAEvC,KACjB,OACEqF,EAAAA,EAAAA,MAAA,OAA8BC,UAAW,aAAYgB,EAAS,OAAS,gBAAiBf,SAAA,EACpFe,IACAZ,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,aAAaW,IAAK1D,EAAErC,OAAQgG,IAAK3D,EAAEvC,QAEpDqF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUC,SAAA,EACvBG,EAAAA,EAAAA,KAAA,OAAKJ,UAAW,aAAYgB,EAAS,cAAgB,IAAKf,SACvDhD,EAAE3C,QAEU,QAAdyG,EAAA9D,EAAE/B,oBAAY,IAAA6F,OAAA,EAAdA,EAAgBnM,QAAS,IACxBwL,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,wBAAuBC,SACnChD,EAAE/B,aAAa8B,IAAI,CAACiE,EAAIC,KACvBd,EAAAA,EAAAA,KAAA,UAEEJ,UAAU,kBACVE,QAASA,IAAMlB,GAAiBiC,GAAIhB,SAEnCgB,EAAG3G,MAAQ2G,GAJP,GAAGhE,EAAE7E,SAAS8I,SAS3Bd,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,WAAUC,UACvBG,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,WAAUC,SAAEnM,EAAQmJ,EAAExC,kBAGzCuG,IACCZ,EAAAA,EAAAA,KAAA,OACEJ,UAAU,aACVW,IAAK1D,EAAErC,OACPgG,IAAI,UA7BA,GAAG3D,EAAE7E,MAAM0I,QAgRfV,EAAAA,EAAAA,KAAA,OAAKe,IAAK1J,QAGZsI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BG,EAAAA,EAAAA,KAAA,SACElB,MAAO3J,EACP6L,SAAWxB,GAAMpK,EAASoK,EAAEE,OAAOZ,OACnCmC,YAAY,oBACZC,UAAY1B,IACI,UAAVA,EAAE2B,KACJ3C,KAGJ4C,UAAU,KAEZpB,EAAAA,EAAAA,KAAA,UACEF,QAAStB,EACToB,UAAW,YACXwB,UAAU,EAAcvB,SACzB,kBAQPG,EAAAA,EAAAA,KAAC3M,IAAK,CACJiC,OAAQU,EACRqL,eAAgBA,KAAOnL,GAAqBD,GAAiB,GAC7D2J,UAAU,QACV0B,iBAAiB,gBACjBC,2BAA4BrL,EAAkB2J,UAE9CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,kDAEHvJ,EAAgBkL,SACfxB,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,gBAAgBM,MAAO,CAAEuB,MAAO,MAAOC,aAAc,QAAS7B,SAC1EvJ,EAAgBkL,UAIrB7B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBG,EAAAA,EAAAA,KAAA,SAAAH,SAAO,kBACPG,EAAAA,EAAAA,KAAA,SACE2B,KAAK,OACLlC,KAAK,YACLX,MAAOjI,EAAUE,UACjBiK,SAAUzB,GACV6B,SAAUlL,EACV0L,UAAQ,IAETtL,EAAgBS,YACfiJ,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,cAAcM,MAAO,CAAEuB,MAAO,MAAOI,SAAU,UAAWhC,SACvEvJ,EAAgBS,gBAKvB4I,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBG,EAAAA,EAAAA,KAAA,SAAAH,SAAO,eACPG,EAAAA,EAAAA,KAAA,SACE2B,KAAK,OACLlC,KAAK,WACLX,MAAOjI,EAAUG,SACjBgK,SAAUzB,GACV6B,SAAUlL,QAIdyJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBG,EAAAA,EAAAA,KAAA,SAAAH,SAAO,aACPG,EAAAA,EAAAA,KAAA,SACE2B,KAAK,QACLlC,KAAK,QACLX,MAAOjI,EAAUI,MACjB+J,SAAUzB,GACV6B,SAAUlL,EACV0L,UAAQ,IAETtL,EAAgBW,QACf+I,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,cAAcM,MAAO,CAAEuB,MAAO,MAAOI,SAAU,UAAWhC,SACvEvJ,EAAgBW,YAKvB0I,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBG,EAAAA,EAAAA,KAAA,SAAAH,SAAO,WACPG,EAAAA,EAAAA,KAAA,SACE2B,KAAK,MACLlC,KAAK,QACLX,MAAOjI,EAAUK,MACjB8J,SAAUzB,GACV6B,SAAUlL,IAEXI,EAAgBY,QACf8I,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,cAAcM,MAAO,CAAEuB,MAAO,MAAOI,SAAU,UAAWhC,SACvEvJ,EAAgBY,YAKvByI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BG,EAAAA,EAAAA,KAAA,UACEF,QArNY7C,UACtB,MAAM6E,EAjIkBC,MACxB,MAAMD,EAAS,CAAC,EAgBhB,OAdKjL,EAAUE,UAAUsB,SACvByJ,EAAO/K,UAAY,0BAGhBF,EAAUI,MAAMoB,OAET,eAAe2J,KAAKnL,EAAUI,SACxC6K,EAAO7K,MAAQ,8BAFf6K,EAAO7K,MAAQ,oBAKbJ,EAAUK,QAAU,iBAAiB8K,KAAKnL,EAAUK,SACtD4K,EAAO5K,MAAQ,qCAGV4K,GAgHQC,GAEf,GAAIE,OAAOC,KAAKJ,GAAQtN,OAAS,EAC/B+B,EAAmBuL,OADrB,CAKA3L,GAAqB,GAErB,IACE,MAAMgM,QAAiBjD,EAAAA,EAAIkD,KAAK,uCAAwCvL,GAExE,GAAIsL,EAAShG,KAAK1E,QAAS,CACzB,MAAM,UAAEV,EAAS,SAAEC,EAAQ,MAAEC,EAAK,MAAEC,GAAUiL,EAAShG,KAAKA,KAG5DrF,EAAa,CAAEC,YAAWC,WAAUC,QAAOC,UAC3Cb,GAAsB,GACtBJ,GAAiB,GACjBM,EAAmB,CAAC,GAGpB,IACE4B,aAAaQ,QAAQrF,EAAkB0F,KAAKK,UAAU,CACpDtC,YACAC,WACAC,QACAC,UAEJ,CAAE,MAAOoB,GACPC,QAAQC,KAAK,6CAA8CF,EAC7D,CAGAC,QAAQa,IAAI,yEACN2F,KAENvH,EAAAA,YAAYC,QAAQ,0CACtB,CACF,CAAE,MAAOa,GAAQ,IAAD+J,EAAAC,EACd/J,QAAQD,MAAM,2BAA4BA,GAC1C/B,EAAmB,CACjBiL,QAAsB,QAAda,EAAA/J,EAAM6J,gBAAQ,IAAAE,GAAM,QAANC,EAAdD,EAAgBlG,YAAI,IAAAmG,OAAN,EAAdA,EAAsBnI,UAAW,uDAE7C,CAAC,QACChE,GAAqB,EACvB,CAzCA,GAgNUiL,SAAUlL,EAAkB2J,SAE3B3J,EAAoB,gBAAkB,YAEzC8J,EAAAA,EAAAA,KAAA,UACEF,QAASA,IAAM7J,GAAiB,GAChCmL,SAAUlL,EAAkB2J,SAC7B,uB,sCC12Bb,MAgPA,EAhPe0C,KAAO,IAADC,EAAAC,EAAAC,EAAAC,EACjB,MACMC,GADa,IAAI/O,MACQgP,eAGxB9N,EAAM+N,IAAW9N,EAAAA,EAAAA,MACjBE,EAAM6N,IAAW1N,EAAAA,EAAAA,UAAS,CAAC,GAC5B2N,GAASC,EAAAA,EAAAA,MAEEC,EAAAA,EAAAA,OA6BjBjL,EAAAA,EAAAA,WAAU,KACE,OAAN+K,QAAM,IAANA,GAAAA,EAAQjL,KAXWkF,WACvB,IACE,MAAM,KAAEd,SAAe+C,EAAAA,EAAIC,IAAI,2BAA2B6D,EAAOjL,OACjEgL,EAAQ5G,EAAKjH,KACf,CAAE,MAAOoD,GACPC,QAAQa,IAAId,EACd,GAKiB6K,IAChB,CAAO,OAANH,QAAM,IAANA,OAAM,EAANA,EAAQjL,OAUKqL,EAAAA,EAAAA,MACnB,OACEpD,EAAAA,EAAAA,KAAAqD,EAAAA,SAAA,CAAAxD,UACAF,EAAAA,EAAAA,MAAA,UAAQC,UAAU,SAAQC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,wCACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,sCAAqCT,SAAC,0CACnDG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,mCAAkCT,SAAC,uCAChDG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,oCAAmCT,SAAC,wCACjDG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,6BAA4BT,SAAC,iCAC1CG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,sCAAqCT,SAAC,mDACnDG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,qCAAoCT,SAAC,yCAClDG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,6CAA4CT,SAAC,yDAI9DF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,yBACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,yBAAwBT,SAAC,4BAGpC9K,EAAKG,MAKP8K,EAAAA,EAAAA,KAAAqD,EAAAA,SAAA,CAAAxD,SACuB,KAAX,QAAT2C,EAAAzN,EAAKG,YAAI,IAAAsN,OAAA,EAATA,EAAWc,OACVtD,EAAAA,EAAAA,KAAAqD,EAAAA,SAAA,CAAAxD,UACAG,EAAAA,EAAAA,KAAA,MAAAH,UACEG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,mBAAmBR,QAASA,KAAOyD,OAAOC,SAASC,KAAO,oBAAqB5D,SAAC,yBAM3FG,EAAAA,EAAAA,KAAAqD,EAAAA,SAAA,CAAAxD,SACqB,KAAX,QAAT4C,EAAA1N,EAAKG,YAAI,IAAAuN,OAAA,EAATA,EAAWa,OACRtD,EAAAA,EAAAA,KAAAqD,EAAAA,SAAA,CAAAxD,UACEG,EAAAA,EAAAA,KAAA,MAAAH,UACEG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,+BAA+BR,QAASA,KAAOyD,OAAOC,SAASC,KAAO,gCAAiC5D,SAAC,4BAMrHG,EAAAA,EAAAA,KAAAqD,EAAAA,SAAA,CAAAxD,UACEG,EAAAA,EAAAA,KAAA,MAAAH,UACEG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,+BAA+BR,QAASA,KAAOyD,OAAOC,SAASC,KAAO,gCAAiC5D,SAAC,iCA1B7HG,EAAAA,EAAAA,KAAAqD,EAAAA,SAAA,CAAAxD,UACEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,YAAWT,SAAC,wBAuC/BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,qBACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,eAAcT,SAAC,mBAE5BG,EAAAA,EAAAA,KAAA,MAAAH,SACM9K,EAAKG,MAKL8K,EAAAA,EAAAA,KAAAqD,EAAAA,SAAA,CAAAxD,SACG,CAAC6D,IACA,MAAMC,EAAoB,QAAZD,EAAG3O,EAAKG,YAAI,IAAAwO,OAAA,EAATA,EAAWJ,KAC5B,IAAIM,EAAW,sBAEM,IAADC,EAAH,IAAbF,EACFC,EAAW,4BAAgC,OAAJ7O,QAAI,IAAJA,GAAU,QAAN8O,EAAJ9O,EAAMG,YAAI,IAAA2O,OAAN,EAAJA,EAAY7F,UAC7B,IAAb2F,GAEa,IAAbA,KADTC,EAAW,uBAIb,OACE5D,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAIsD,EAAS/D,SAAC,iBAEvB,EAdA,MALHG,EAAAA,EAAAA,KAAAqD,EAAAA,SAAA,CAAAxD,UACEG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,SAAQT,SAAC,sBAwBxB9K,EAAKG,MAKP8K,EAAAA,EAAAA,KAAAqD,EAAAA,SAAA,CAAAxD,SACuB,KAAX,QAAT6C,EAAA3N,EAAKG,YAAI,IAAAwN,OAAA,EAATA,EAAWY,OACVtD,EAAAA,EAAAA,KAAAqD,EAAAA,SAAA,CAAAxD,UACAG,EAAAA,EAAAA,KAAA,MAAAH,UACEG,EAAAA,EAAAA,KAAC8D,EAAAA,GAAU,CAAChE,QAASA,KAAOyD,OAAOC,SAASC,KAAO,UAAW5D,SAAC,gBAMjEG,EAAAA,EAAAA,KAAAqD,EAAAA,SAAA,CAAAxD,UACU,QAAT8C,EAAA5N,EAAKG,YAAI,IAAAyN,GAATA,EAAWW,MACRtD,EAAAA,EAAAA,KAAAqD,EAAAA,SAAA,CAAAxD,UACEG,EAAAA,EAAAA,KAAA,MAAAH,UACEG,EAAAA,EAAAA,KAAC8D,EAAAA,GAAU,CAAChE,QAASA,KAAOyD,OAAOC,SAASC,KAAO,UAAW5D,SAAC,qBAlB3EG,EAAAA,EAAAA,KAAAqD,EAAAA,SAAA,CAAAxD,UACEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,KAAIT,SAAC,qBAuCxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,sBACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,+BAA8BT,SAAC,yBAC5CG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,0CAAyCT,SAAC,mCACvDG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,IAAGT,SAAC,yCACjBG,EAAAA,EAAAA,KAAA,MAAAH,UACEG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,iDAAgDT,SAAC,2DAKhEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,cACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,YAAWT,SAAC,gBACzBG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,cAAaT,SAAC,kBAC3BG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,iBAAgBT,SAAC,iBAC9BG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,8BAA6BT,SAAC,+BAKjDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BG,EAAAA,EAAAA,KAAA,KAAAH,SAAG,eACHF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,uDAAuD,aAAW,WAAWZ,OAAO,SAAQG,UAACG,EAAAA,EAAAA,KAAC+D,EAAAA,IAAU,OACjH/D,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,mDAAmD,aAAW,WAAWZ,OAAO,SAAQG,UAACG,EAAAA,EAAAA,KAACgE,EAAAA,IAAU,OAC7GhE,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,gCAAgC,aAAW,YAAYZ,OAAO,SAAQG,UAACG,EAAAA,EAAAA,KAACiE,EAAAA,IAAU,OAC3FjE,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,2BAA2B,aAAW,aAAaZ,OAAO,SAAQG,UAACG,EAAAA,EAAAA,KAACkE,EAAAA,IAAU,aAI3FvE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,mCAAkCT,SAAC,oBAC5CG,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,UAASC,SAAC,OAC1BG,EAAAA,EAAAA,KAAA,KAAGyD,KAAK,IAAG5D,SAAC,sBAEdG,EAAAA,EAAAA,KAAA,OAAAH,UACEF,EAAAA,EAAAA,MAAA,KAAGC,UAAU,oBAAmBC,SAAA,CAAC,mBAAc+C,EAAY,KAAC5C,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,IAAIV,UAAU,YAAWC,SAAC,sBAAwB,sBAAoB,gBAKhJG,EAAAA,EAAAA,KAACrL,EAAW,S,8LC1OnB,MAwiBA,EAniBuBwP,KAAO,IAADxB,EAAAyB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAC3B,MAAOC,EAAgBC,IAAqBjQ,EAAAA,EAAAA,WAAS,IAC9CkQ,EAAgBC,IAAqBnQ,EAAAA,EAAAA,UAAS,OAC9CoQ,EAAUC,IAAerQ,EAAAA,EAAAA,WAAS,IAElCN,IAAQC,EAAAA,EAAAA,MACRE,EAAM6N,IAAW1N,EAAAA,EAAAA,UAAS,CAAC,GAC5B2N,GAASC,EAAAA,EAAAA,MACEC,EAAAA,EAAAA,OACAE,EAAAA,EAAAA,OAEjBnL,EAAAA,EAAAA,WAAU,KACR,MAAM0N,EAAeA,KACnBD,EAAYnC,OAAOqC,QAAU,KAI/B,OADArC,OAAOsC,iBAAiB,SAAUF,GAC3B,IAAMpC,OAAOuC,oBAAoB,SAAUH,IACjD,IAEH,MAKMI,EAAiBA,CAACrF,EAAOlB,KACzB+D,OAAOyC,YAAc,MACvBxG,EAAEyG,iBACFT,EAAkBD,IAAmB7E,EAAQ,KAAOA,KAIlDwF,EAAkBA,KAClB3C,OAAOyC,YAAc,KAAOX,GAC9BC,GAAkB,KAItBrN,EAAAA,EAAAA,WAAU,KACR,MAAMkO,EAAsB3G,KAEvBA,EAAEE,OAAO0G,QAAQ,gBACjB5G,EAAEE,OAAO0G,QAAQ,kBACjB5G,EAAEE,OAAO0G,QAAQ,iBAClB7C,OAAOyC,WAAa,KAEpBR,EAAkB,OAIhBa,EAAeA,KACf9C,OAAOyC,WAAa,KACtBV,GAAkB,IAOtB,OAHAgB,SAAST,iBAAiB,QAASM,GACnC5C,OAAOsC,iBAAiB,SAAUQ,GAE3B,KACLC,SAASR,oBAAoB,QAASK,GACtC5C,OAAOuC,oBAAoB,SAAUO,KAEtC,KA8BHpO,EAAAA,EAAAA,WAAU,KACE,OAAN+K,QAAM,IAANA,GAAAA,EAAQjL,KAXWkF,WACvB,IACE,MAAM,KAAEd,SAAe+C,EAAAA,EAAIC,IAAI,2BAA2B6D,EAAOjL,OACjEgL,EAAQ5G,EAAKjH,MAAQ,CAAC,EACxB,CAAE,MAAOoD,GACPC,QAAQa,IAAId,GACZyK,EAAQ,CAAC,EACX,GAIiBI,IAChB,CAAO,OAANH,QAAM,IAANA,OAAM,EAANA,EAAQjL,MAGZ,MAAM1D,EAAsBC,IAC1B,IAAKA,EAAW,MAAO,GAIvB,MAD0C,kBAAdA,GAA0BA,EAAUI,WAAW,yBACrDnB,wBAAgCe,EAAYA,GAI9DiS,EAAsBC,GAGnB,IAFkB,OAAPA,QAAO,IAAPA,OAAO,EAAPA,EAAS3I,aAAoB,OAAP2I,QAAO,IAAPA,OAAO,EAAPA,EAASC,aAAc,OACvC,OAAPD,QAAO,IAAPA,OAAO,EAAPA,EAAS1I,YAAmB,OAAP0I,QAAO,IAAPA,OAAO,EAAPA,EAASE,YAAa,KAC1BrO,OAI9BsO,EAAuBA,KAC3BhH,EAAAA,EAAAA,MAAA0D,EAAAA,SAAA,CAAAxD,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,mBAAmBR,QAASA,KAAQyD,OAAOC,SAASC,KAAO,oBAAsB5D,SAAA,EACxFG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,6CAA+C,mBAGhEI,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,qBAAqBR,QAASA,KAAQyD,OAAOC,SAASC,KAAO,sBAAwB5D,SAAA,EAC5FG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,kDAAoD,oBAGrEI,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,wBAAwBR,QAASA,KAAQyD,OAAOC,SAASC,KAAO,yBAA2B5D,SAAA,EAClGG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,kEAAoE,oBAGrFI,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,+BAA+BR,QAASA,KAAQyD,OAAOC,SAASC,KAAO,gCAAkC5D,SAAA,EAChHG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,+CAAiD,4BAGlEI,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,iCAAiCR,QAASA,KAAQyD,OAAOC,SAASC,KAAO,kCAAoC5D,SAAA,EACpHG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,iEAAmE,yBAGpFI,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,2BAA2BR,QAASA,KAAQyD,OAAOC,SAASC,KAAO,4BAA8B5D,SAAA,EACxGG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,8CAAgD,sBAO/DgH,EAA4BA,KAChCjH,EAAAA,EAAAA,MAAA0D,EAAAA,SAAA,CAAAxD,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,yBAAyBR,QAASA,KAAQyD,OAAOC,SAASC,KAAO,0BAA4B5D,SAAA,EACpGG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,6CAA+C,mBAGhEI,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,2BAA2BR,QAASA,KAAQyD,OAAOC,SAASC,KAAO,4BAA8B5D,SAAA,EACxGG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,kDAAoD,oBAGrEI,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,8BAA8BR,QAASA,KAAQyD,OAAOC,SAASC,KAAO,+BAAiC5D,SAAA,EAC9GG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,kEAAoE,oBAGrFI,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,qCAAqCR,QAASA,KAAQyD,OAAOC,SAASC,KAAO,sCAAwC5D,SAAA,EAC5HG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,+CAAiD,4BAGlEI,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,uCAAuCR,QAASA,KAAQyD,OAAOC,SAASC,KAAO,wCAA0C5D,SAAA,EAChIG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,iEAAmE,yBAGpFI,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,iCAAiCR,QAASA,KAAQyD,OAAOC,SAASC,KAAO,kCAAoC5D,SAAA,EACpHG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,8CAAgD,sBAM/DiH,EAAmBA,KACvB7G,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACmH,EAAAA,GAAgB,CAAChH,QAASA,KAAQyD,OAAOC,SAASC,KAAO,UAAY5D,SAAA,EACpEG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,qCAAuC,cAM1D,OACED,EAAAA,EAAAA,MAAA,UAAQC,UAAW6F,EAAW,SAAW,GAAG5F,SAAA,EAC1CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,UAASC,SAAA,EACtBF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,qCAAqCZ,OAAO,SAASE,UAAU,sBAAqBC,SAAA,EAC3FG,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,eAAeM,MAAO,CAAEuB,MAAO,WAAY5B,SAAC,cAC5DG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,6BAA6BM,MAAO,CAAEuB,MAAO,iBAE5D9B,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,6BAA6BV,UAAU,uBAAuBF,OAAO,SAAQG,SAAA,EACpFG,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,eAAeM,MAAO,CAAEuB,MAAO,WAAY5B,SAAC,+BAC5DG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,6BAA6BM,MAAO,CAAEuB,MAAO,oBAG9D9B,EAAAA,EAAAA,MAAA,OAAKC,UAAW,aAAY6F,EAAW,SAAW,IAAK5F,SAAA,EACrDG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,iBAAgBC,UAC7BG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,IAAGT,UAACG,EAAAA,EAAAA,KAAA,OAAKO,IAAKwG,EAAMvG,IAAI,0BAGnCb,EAAAA,EAAAA,MAAA,OACEC,UAAW,gBAAeyF,EAAiB,SAAW,IACtDvF,QAjMiBkH,KACvB1B,GAAmBD,GACnBG,EAAkB,OAgMZ,aAAW,yBAAwB3F,SAAA,EAEnCG,EAAAA,EAAAA,KAAA,YACAA,EAAAA,EAAAA,KAAA,YACAA,EAAAA,EAAAA,KAAA,eAGFL,EAAAA,EAAAA,MAAA,MAAIC,UAAW,cAAayF,EAAiB,SAAW,IAAKxF,SAAA,EAC3DF,EAAAA,EAAAA,MAAA,MAAIC,UAA8B,IAAnB2F,EAAuB,SAAW,GAAG1F,SAAA,EAClDG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,IAAIV,UAAU,kBAAkBE,QAAUN,GAAMuG,EAAe,EAAGvG,GAAGK,SAAC,oBAG/EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,wCACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,sCAAsCR,QAASoG,EAAgBrG,SAAC,0CAC7EG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,mCAAmCR,QAASoG,EAAgBrG,SAAC,uCAC1EG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,oCAAoCR,QAASoG,EAAgBrG,SAAC,wCAC3EG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,6BAA6BR,QAASoG,EAAgBrG,SAAC,iCACpEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,sCAAsCR,QAASoG,EAAgBrG,SAAC,mDAC7EG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,qCAAqCR,QAASoG,EAAgBrG,SAAC,yCAC5EG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,6CAA6CR,QAASoG,EAAgBrG,SAAC,yDAGxFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,uCACJG,EAAAA,EAAAA,KAAA,MAAAH,UACEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,yBAAyBR,QAASoG,EAAgBrG,SAAC,kCAGpEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,sBACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,+BAA+BR,QAASoG,EAAgBrG,SAAC,yBACtEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,0CAA0CR,QAASoG,EAAgBrG,SAAC,oCACjFG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,IAAIR,QAASoG,EAAgBrG,SAAC,yCAC3CG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,IAAIR,QAASoG,EAAgBrG,SAAC,iEAKnDF,EAAAA,EAAAA,MAAA,MAAIC,UAA8B,IAAnB2F,EAAuB,SAAW,GAAG1F,SAAA,EAClDG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,IAAIV,UAAU,kBAAkBE,QAAUN,GAAMuG,EAAe,EAAGvG,GAAGK,SAAC,iBAG/EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,0BACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,eAAeR,QAASoG,EAAgBrG,SAAC,mBACtDG,EAAAA,EAAAA,KAAA,MAAAH,SACI9K,EAAKG,KAEH,EAACsN,EAAAkB,EAAAG,EAAAnB,KACH,IAAIkB,EAAW,sBAC0B,IAADnB,EAlRrC,KAkRU,QAATD,EAAAzN,EAAKG,YAAI,IAAAsN,OAAA,EAATA,EAAWc,MACbM,EAAW,4BAAgC,OAAJ7O,QAAI,IAAJA,GAAU,QAAN0N,EAAJ1N,EAAMG,YAAI,IAAAuN,OAAN,EAAJA,EAAYzE,SAlRtD,KAoRY,QAAT0F,EAAA3O,EAAKG,YAAI,IAAAwO,OAAA,EAATA,EAAWJ,OAnRX,KAoRS,QAATO,EAAA9O,EAAKG,YAAI,IAAA2O,OAAA,EAATA,EAAWP,OAnRT,KAoRO,QAATZ,EAAA3N,EAAKG,YAAI,IAAAwN,OAAA,EAATA,EAAWY,QAEXM,EAAW,uBAEb,OAAO5D,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAIsD,EAAU9D,QAASoG,EAAgBrG,SAAC,iBACtD,EAZG,IADFG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,SAASR,QAASoG,EAAgBrG,SAAC,8BAkBtDF,EAAAA,EAAAA,MAAA,MAAIC,UAA8B,IAAnB2F,EAAuB,SAAW,GAAG1F,SAAA,EAClDG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,IAAIV,UAAU,kBAAkBE,QAAUN,GAAMuG,EAAe,EAAGvG,GAAGK,SAAC,eAG/EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,gCACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,8BAA8BR,QAASoG,EAAgBrG,SAAC,kCACrEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,oCAAoCR,QAASoG,EAAgBrG,SAAC,wCAC3EG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,6BAA6BR,QAASoG,EAAgBrG,SAAC,0CAI1EF,EAAAA,EAAAA,MAAA,MAAIC,UAA8B,IAAnB2F,EAAuB,SAAW,GAAG1F,SAAA,EAClDG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,YAAYV,UAAU,kBAAkBE,QAAUN,GAAMuG,EAAe,EAAGvG,GAAGK,SAAC,cAGvFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,iBACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,YAAYR,QAASoG,EAAgBrG,SAAC,gBACnDG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,cAAcR,QAASoG,EAAgBrG,SAAC,iBACrDG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,iBAAiBR,QAASoG,EAAgBrG,SAAC,0BAI9DG,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,cAAcR,QAASoG,EAAgBrG,SAAC,iBAGpD9K,EAAKG,OACJyK,EAAAA,EAAAA,MAAA0D,EAAAA,SAAA,CAAAxD,SAAA,CA9TO,KA+TK,QAAT8C,EAAA5N,EAAKG,YAAI,IAAAyN,OAAA,EAATA,EAAWW,QACVtD,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,mBAAkBC,UAC9BF,EAAAA,EAAAA,MAAA,MAAIC,UAA8B,IAAnB2F,EAAuB,SAAW,GAAIrF,MAAO,CAAEwB,aAAc,SAAU7B,SAAA,EACpFF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,IAAIV,UAAU,kBAAkBE,QAAUN,GAAMuG,EAAe,EAAGvG,GAAGK,SAAA,CAC3E0G,EAAmBxR,EAAKG,OACzB8K,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,0CAA0CM,MAAO,CAAE2B,SAAU,cAE5ElC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,wBACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CACG8G,IACAE,eAxUD,KA+UA,QAATzC,EAAArP,EAAKG,YAAI,IAAAkP,OAAA,EAATA,EAAWd,QACVtD,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,mBAAkBC,UAC9BF,EAAAA,EAAAA,MAAA,MAAIC,UAA8B,IAAnB2F,EAAuB,SAAW,GAAIrF,MAAO,CAAEwB,aAAc,SAAU7B,SAAA,EACpFF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,IAAIV,UAAU,kBAAkBE,QAAUN,GAAMuG,EAAe,EAAGvG,GAAGK,SAAA,CAC3E0G,EAAmBxR,EAAKG,OACzB8K,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,0CAA0CM,MAAO,CAAE2B,SAAU,cAE5ElC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,8BACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CACG+G,IACAC,eA3VH,KAkWE,QAATxC,EAAAtP,EAAKG,YAAI,IAAAmP,OAAA,EAATA,EAAWf,QACVtD,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,mBAAkBC,UAC9BF,EAAAA,EAAAA,MAAA,MAAIC,UAA8B,IAAnB2F,EAAuB,SAAW,GAAIrF,MAAO,CAAEwB,aAAc,SAAU7B,SAAA,EACpFF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,IAAIV,UAAU,kBAAkBE,QAAUN,GAAMuG,EAAe,EAAGvG,GAAGK,SAAA,EAC5EG,EAAAA,EAAAA,KAAA,OACEJ,UAAU,qBACVW,IAAKlM,GAAuB,OAAJU,QAAI,IAAJA,GAAU,QAANuP,EAAJvP,EAAMG,YAAI,IAAAoP,OAAN,EAAJA,EAAY1J,SAAa,OAAJ1F,QAAI,IAAJA,OAAI,EAAJA,EAAM0F,QACnD4F,IAAK+F,EAAmBxR,EAAKG,MAC7B,aAAW,qBACXoO,KAAK,SACLpD,MAAO,CAAE+G,aAAc,MAAOC,OAAQ,OAAQC,MAAO,UAEtDZ,EAAmBxR,EAAKG,OACzB8K,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,0CAA0CM,MAAO,CAAE2B,SAAU,cAE5ElC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,2BACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,IAAIR,QAASoG,EAAgBrG,SAAA,EACpCG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,6CAA+C,mBAGhEI,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,IAAIR,QAASoG,EAAgBrG,SAAC,cAC1CgH,eA3XN,KAkYM,QAATtC,EAAAxP,EAAKG,YAAI,IAAAqP,OAAA,EAATA,EAAWjB,OAhYH,KAgYmC,QAATkB,EAAAzP,EAAKG,YAAI,IAAAsP,OAAA,EAATA,EAAWlB,OAjYvC,KAiY4E,QAATmB,EAAA1P,EAAKG,YAAI,IAAAuP,OAAA,EAATA,EAAWnB,QACpFtD,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,mBAAkBC,UAC9BF,EAAAA,EAAAA,MAAA,MAAIC,UAA8B,IAAnB2F,EAAuB,SAAW,GAAIrF,MAAO,CAAEwB,aAAc,SAAU7B,SAAA,EACpFF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,IAAIV,UAAU,kBAAkBE,QAAUN,GAAMuG,EAAe,EAAGvG,GAAGK,SAAA,EAC5EG,EAAAA,EAAAA,KAAA,OACEJ,UAAU,qBACVW,IAAKlM,GAAuB,OAAJU,QAAI,IAAJA,GAAU,QAAN2P,EAAJ3P,EAAMG,YAAI,IAAAwP,OAAN,EAAJA,EAAY9J,SAAa,OAAJ1F,QAAI,IAAJA,OAAI,EAAJA,EAAM0F,QACnD4F,IAAK+F,EAAmBxR,EAAKG,MAC7B,aAAW,qBACXoO,KAAK,SACLpD,MAAO,CAAE+G,aAAc,MAAOC,OAAQ,OAAQC,MAAO,UAEtDZ,EAAmBxR,EAAKG,OACzB8K,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,0CAA0CM,MAAO,CAAE2B,SAAU,cAE5ElC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,6BACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,+BAA+BR,QAASA,KAAQyD,OAAOC,SAASC,KAAO,gCAAkC5D,SAAA,EAChHG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,6CAA+C,mBAGhEI,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAI,sBAA0B,OAAJvL,QAAI,IAAJA,GAAU,QAAN4P,EAAJ5P,EAAMG,YAAI,IAAAyP,OAAN,EAAJA,EAAY3G,SAAU8B,QAASA,KAAO,IAADsH,EAAE7D,OAAOC,SAASC,KAAO,sBAA0B,OAAJ1O,QAAI,IAAJA,GAAU,QAANqS,EAAJrS,EAAMG,YAAI,IAAAkS,OAAN,EAAJA,EAAYpJ,UAAY6B,SAAA,EAC1IG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,oDAAsD,gBAGtEiH,sBAUjB7G,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,cAAaC,SACxB9K,EAAKG,MAMLyK,EAAAA,EAAAA,MAAA0D,EAAAA,SAAA,CAAAxD,SAAA,CA/aO,KAgbK,QAAT+E,EAAA7P,EAAKG,YAAI,IAAA0P,OAAA,EAATA,EAAWtB,QACV3D,EAAAA,EAAAA,MAAA0D,EAAAA,SAAA,CAAAxD,SAAA,EACEG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,iBAAiBV,UAAU,uBAAuBE,QAASA,KAAQyD,OAAOC,SAASC,KAAO,kBAAoB5D,SAAC,cACxHG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,eAAcC,UAC3BF,EAAAA,EAAAA,MAAA,MAAIC,UAA8B,IAAnB2F,EAAuB,SAAW,GAAG1F,SAAA,EAClDF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,IAAIV,UAAU,kBAAkBE,QAAUN,GAAMuG,EAAe,EAAGvG,GAAGK,SAAA,EAC5EG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,0CAA0CM,MAAO,CAAE2B,SAAU,UACzE0E,EAAmBxR,EAAKG,UAE3ByK,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,wBACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CACG8G,IACAE,kBA3bH,KAmcA,QAAThC,EAAA9P,EAAKG,YAAI,IAAA2P,OAAA,EAATA,EAAWvB,QACV3D,EAAAA,EAAAA,MAAA0D,EAAAA,SAAA,CAAAxD,SAAA,EACEG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,uBAAuBV,UAAU,uBAAuBE,QAASA,KAAQyD,OAAOC,SAASC,KAAO,wBAA0B5D,SAAC,cACpIG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,eAAcC,UAC3BF,EAAAA,EAAAA,MAAA,MAAIC,UAA8B,IAAnB2F,EAAuB,SAAW,GAAG1F,SAAA,EAClDF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,IAAIV,UAAU,kBAAkBE,QAAUN,GAAMuG,EAAe,EAAGvG,GAAGK,SAAA,EAC5EG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,0CAA0CM,MAAO,CAAE2B,SAAU,UACzE0E,EAAmBxR,EAAKG,UAE3ByK,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,8BACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CACG+G,IACAC,kBAjdL,KAydE,QAAT/B,EAAA/P,EAAKG,YAAI,IAAA4P,OAAA,EAATA,EAAWxB,QACV3D,EAAAA,EAAAA,MAAA0D,EAAAA,SAAA,CAAAxD,SAAA,EACEG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,IAAIV,UAAU,uBAAsBC,SAAC,cAC9CG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,eAAcC,UAC3BF,EAAAA,EAAAA,MAAA,MAAIC,UAA8B,IAAnB2F,EAAuB,SAAW,GAAG1F,SAAA,EAClDF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,IAAIV,UAAU,kBAAkBE,QAAUN,GAAMuG,EAAe,EAAGvG,GAAGK,SAAA,EAC5EG,EAAAA,EAAAA,KAAA,OACEJ,UAAU,qBACVW,IAAKlM,GAAuB,OAAJU,QAAI,IAAJA,GAAU,QAANgQ,EAAJhQ,EAAMG,YAAI,IAAA6P,OAAN,EAAJA,EAAYnK,SAAa,OAAJ1F,QAAI,IAAJA,OAAI,EAAJA,EAAM0F,QACnD4F,IAAK+F,EAAmBxR,EAAKG,MAC7B,aAAW,qBACXoO,KAAK,SACLpD,MAAO,CAAE+G,aAAc,MAAOC,OAAQ,OAAQC,MAAO,UAEtDZ,EAAmBxR,EAAKG,UAE3ByK,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,2BACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,IAAIR,QAASoG,EAAgBrG,SAAA,EACpCG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,6CAA+C,mBAGhEI,EAAAA,EAAAA,KAAA,MAAAH,UAAIG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,IAAIR,QAASoG,EAAgBrG,SAAC,cAC1CgH,kBAnfR,KA2fM,QAAT7B,EAAAjQ,EAAKG,YAAI,IAAA8P,OAAA,EAATA,EAAW1B,OAzfH,KAyfmC,QAAT2B,EAAAlQ,EAAKG,YAAI,IAAA+P,OAAA,EAATA,EAAW3B,OA1fvC,KA0f4E,QAAT4B,EAAAnQ,EAAKG,YAAI,IAAAgQ,OAAA,EAATA,EAAW5B,QACpF3D,EAAAA,EAAAA,MAAA0D,EAAAA,SAAA,CAAAxD,SAAA,EACEG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,eAAeV,UAAU,uBAAsBC,SAAC,gBACzDG,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,eAAcC,UAC3BF,EAAAA,EAAAA,MAAA,MAAIC,UAA8B,IAAnB2F,EAAuB,SAAW,GAAG1F,SAAA,EAClDF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,IAAIV,UAAU,kBAAkBE,QAAUN,GAAMuG,EAAe,EAAGvG,GAAGK,SAAA,EAC5EG,EAAAA,EAAAA,KAAA,OACEJ,UAAU,qBACVW,IAAKlM,GAAuB,OAAJU,QAAI,IAAJA,GAAU,QAANoQ,EAAJpQ,EAAMG,YAAI,IAAAiQ,OAAN,EAAJA,EAAYvK,SAAa,OAAJ1F,QAAI,IAAJA,OAAI,EAAJA,EAAM0F,QACnD4F,IAAK+F,EAAmBxR,EAAKG,MAC7B,aAAW,qBACXoO,KAAK,SACLpD,MAAO,CAAE+G,aAAc,MAAOC,OAAQ,OAAQC,MAAO,UAEtDZ,EAAmBxR,EAAKG,UAE3ByK,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBG,EAAAA,EAAAA,KAAA,MAAAH,SAAI,6BACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEG,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAG,+BAA+BR,QAASA,KAAQyD,OAAOC,SAASC,KAAO,gCAAkC5D,SAAA,EAChHG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,6CAA+C,mBAGhEI,EAAAA,EAAAA,KAAA,MAAAH,UACEF,EAAAA,EAAAA,MAACU,EAAAA,GAAI,CAACC,GAAI,sBAA0B,OAAJvL,QAAI,IAAJA,GAAU,QAANqQ,EAAJrQ,EAAMG,YAAI,IAAAkQ,OAAN,EAAJA,EAAYpH,SAAU8B,QAASA,KAAO,IAADuH,EAAE9D,OAAOC,SAASC,KAAO,sBAA0B,OAAJ1O,QAAI,IAAJA,GAAU,QAANsS,EAAJtS,EAAMG,YAAI,IAAAmS,OAAN,EAAJA,EAAYrJ,UAAY6B,SAAA,EAC1IG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,oDAAsD,gBAGtEiH,sBA9GflH,EAAAA,EAAAA,MAAA0D,EAAAA,SAAA,CAAAxD,SAAA,EACEG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,SAASV,UAAU,uBAAsBC,SAAC,cACnDG,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAG,SAASV,UAAU,qBAAoBC,SAAC,qB,2GCrb/D,MAAMyH,EAAe,CACnBC,SAAU,aACVC,UAAW,IACXC,cAAc,EACdC,cAAc,EACdC,MAAO,SAOIC,EAAYA,KACvB,MAAO7S,EAAM+N,IAAW9N,EAAAA,EAAAA,KAClB6S,GAAW3E,EAAAA,EAAAA,MACXM,GAAWJ,EAAAA,EAAAA,MAqBjB,MAAO,CAAE0E,aAhBYA,KACnB,IACEhF,EAAQ,IAAK/N,EAAMG,KAAM,KAAM6S,MAAO,KACtC5P,aAAaS,WAAW,mBALLiB,EAML,oCANamO,EAAAA,GAAMvQ,QAAQoC,EAAKyN,GAO9CO,EAASrE,EAASyE,OAAS,UAI3B1E,OAAOC,SAAS0E,QAClB,CAAE,MAAO5P,GACPC,QAAQD,MAAM,gBAAiBA,GAdduB,KAAQmO,EAAAA,GAAM1P,MAAMuB,EAAKyN,IAe1Ca,CAAY,sCACd,CAfqBtO,SAqDnBiK,EAAasE,IAAkD,IAAjD,UAAExI,EAAS,GAAEU,EAAK,cAAa,SAAET,GAAUuI,EAC7D,MAAM,aAAEN,GAAiBF,IAEzB,OACE5H,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CACHC,GAAG,IACHV,UAAWA,GAAa,aACxBE,QAAUN,IACRA,EAAEyG,iBACF6B,KACAjI,SAEDA,IACCF,EAAAA,EAAAA,MAAA0D,EAAAA,SAAA,CAAAxD,SAAA,EACEG,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,aAAYC,SAAC,YAC7BG,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,kC","sources":["components/ChatBotIcon/ping.js","components/ChatBotIcon/ChatBotIcon.jsx","Pages/Footer.jsx","Pages/TestHomeHeader.jsx","Pages/Logout/Logout.jsx"],"sourcesContent":["const createPingSound = () => {\r\n  // Simple WAV file data URL with a short beep\r\n  // This is a minimal WAV file containing a 440Hz tone for about 200ms\r\n  const wavData = \"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmgfCdKR2/LVdiMFl5qQ0NJhJwAVZrXn6UoMCtmr5uW5bhoFl6mc0dVmDAOJmdR+UD0hD2K76dVrHwgXirLe2HIqBTyDyfHchzIFC0G25+mxWhAJYKHV7b1qLwU0g8rx34k1BTGByvHciEAHGGy88tyWPgUmfMs+4YlEBTqByvHci0EGH3LB9deWP\";\r\n  \r\n  return wavData;\r\n};\r\n\r\n// Export the ping sound\r\nconst beepUrl = createPingSound();\r\nexport default beepUrl;\r\n","import React, { useEffect, useRef, useState, useMemo, useCallback } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport API from \"../../helpers/API\";\r\nimport { useSocket } from \"../../Context/SocketContext\";\r\nimport { useAuth } from \"../../Context/AuthContext\";\r\nimport { logWithIcon } from \"../../utils/consoleIcons\";\r\nimport \"./ChatBotIcon.css\";\r\nimport beepUrl from \"./ping\";\r\nimport FavIconLogo from \"./FaviIcon-Logo.png\";\r\nimport Modal from 'react-modal';\r\n\r\nModal.setAppElement('#root');\r\n\r\n// Use environment variable or fallback to default\r\nconst STORAGE_USER_KEY = process.env.REACT_APP_CHAT_STORAGE_USER_KEY || \"chat_widget_userinfo_v1\";\r\nconst STORAGE_MESSAGES_PREFIX = process.env.REACT_APP_CHAT_STORAGE_MESSAGES_PREFIX || \"chat_widget_messages_v1_\";\r\nconst STORAGE_INPUT_KEY = process.env.REACT_APP_CHAT_INPUT_KEY || \"chat_widget_input_text\"; // NEW: Input persistence key\r\n\r\nfunction timeAgo(ts) {\r\n  if (!ts) return \"\";\r\n  const d = new Date(ts);\r\n  const diff = Math.floor((Date.now() - d.getTime()) / 1000);\r\n  if (diff < 10) return \"just now\";\r\n  if (diff < 60) return `${diff}s`;\r\n  if (diff < 3600) return `${Math.floor(diff / 60)}m`;\r\n  if (diff < 86400) return `${Math.floor(diff / 3600)}h`;\r\n  return d.toLocaleDateString();\r\n}\r\n\r\nconst defaultAvatar =\r\n  \"https://img.freepik.com/premium-vector/account-icon-user-icon-vector-graphics_292645-552.jpg?w=300\";\r\n\r\nconst getProfileImageSrc = (userPhoto, isGuest = false) => {\r\n  if (isGuest) return defaultAvatar;\r\n  if (!userPhoto) return \"\";\r\n  const isUploadPath =\r\n    typeof userPhoto === \"string\" &&\r\n    userPhoto.startsWith(\"/uploads/userAvatars/\");\r\n  return isUploadPath\r\n    ? process.env.REACT_APP_API_URL + userPhoto\r\n    : userPhoto;\r\n};\r\n\r\nasync function fetchBusinessHours() {\r\n  try {\r\n    const res = await API.get(`/api/v1/businessHours/checkBusinessHoursStatus`);\r\n    if (res.data.success) {\r\n      return res.data.data;\r\n    }\r\n  } catch (err) {\r\n    logWithIcon.error(\"Failed to fetch business hours\", err);\r\n  }\r\n  return null;\r\n}\r\n\r\nconst ChatBotIcon = () => {\r\n  const { socket, isConnected } = useSocket();\r\n  const [auth] = useAuth();\r\n  const userFromAuth = auth?.user;\r\n\r\n  const [input, setInput] = useState(\"\");\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [session, setSession] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [businessInfo, setBusinessInfo] = useState(null);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [showGuestForm, setShowGuestForm] = useState(false);\r\n  const [isSubmittingGuest, setIsSubmittingGuest] = useState(false);\r\n  const [guestFormSubmitted, setGuestFormSubmitted] = useState(false);\r\n  const [guestFormErrors, setGuestFormErrors] = useState({});\r\n  const [defaultMessagesLoaded, setDefaultMessagesLoaded] = useState(false);\r\n  \r\n  // NEW: Track pending messages to prevent duplicates\r\n  const [pendingMessages, setPendingMessages] = useState(new Set());\r\n  \r\n  const [guestInfo, setGuestInfo] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    phone: ''\r\n  });\r\n\r\n  const audioRef = useRef(null);\r\n  const messagesEndRef = useRef(null);\r\n\r\n  // FIXED: Proper user form submission check\r\n  const userFormSubmitted = useMemo(() => {\r\n    if (userFromAuth) {\r\n      logWithIcon.success('User is authenticated:', userFromAuth.email);\r\n      return true;\r\n    }\r\n    \r\n    logWithIcon.active('Guest form submission status:', guestFormSubmitted);\r\n    return guestFormSubmitted;\r\n  }, [userFromAuth, guestFormSubmitted]);\r\n\r\n  // FIXED: Determine if user needs to fill guest form\r\n  const needsGuestForm = useMemo(() => {\r\n    const result = !userFromAuth && !userFormSubmitted;\r\n    logWithIcon.guest('Needs guest form:', {\r\n      userFromAuth: !!userFromAuth,\r\n      userFormSubmitted,\r\n      result\r\n    });\r\n    return result;\r\n  }, [userFromAuth, userFormSubmitted]);\r\n\r\n  const storageKey = useMemo(\r\n    () => STORAGE_MESSAGES_PREFIX + (session?._id || session?.id || \"guest\"),\r\n    [session]\r\n  );\r\n\r\n  // FIX 2: Load persisted input text on mount\r\n  useEffect(() => {\r\n    try {\r\n      const savedInput = localStorage.getItem(STORAGE_INPUT_KEY);\r\n      if (savedInput && savedInput.trim()) {\r\n        setInput(savedInput);\r\n      }\r\n    } catch (error) {\r\n      console.warn(\"Failed to load input from localStorage:\", error);\r\n    }\r\n  }, []);\r\n\r\n  // FIX 2: Persist input text changes (debounced to avoid excessive writes)\r\n  useEffect(() => {\r\n    const timeoutId = setTimeout(() => {\r\n      try {\r\n        if (input && input.trim()) {\r\n          localStorage.setItem(STORAGE_INPUT_KEY, input);\r\n        } else if (!input) {\r\n          localStorage.removeItem(STORAGE_INPUT_KEY);\r\n        }\r\n      } catch (error) {\r\n        console.warn(\"Failed to save input to localStorage:\", error);\r\n      }\r\n    }, 300); // Debounce for 300ms\r\n\r\n    return () => clearTimeout(timeoutId);\r\n  }, [input]);\r\n\r\n  /** --- Load persisted guest + messages on mount --- **/\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem(STORAGE_USER_KEY);\r\n      if (raw) {\r\n        const u = JSON.parse(raw);\r\n        setGuestInfo({\r\n          firstName: u.firstName || \"\",\r\n          lastName: u.lastName || \"\",\r\n          email: u.email || \"\",\r\n          phone: u.phone || \"\"\r\n        });\r\n        \r\n        // Set guest form as submitted if we have required fields\r\n        const hasRequiredInfo = Boolean(u.firstName && u.email && u.firstName.trim() && u.email.trim());\r\n        setGuestFormSubmitted(hasRequiredInfo);\r\n        console.log('Loaded guest info from storage:', u, 'Form submitted:', hasRequiredInfo);\r\n      }\r\n    } catch (error) {\r\n      console.warn(\"Failed to load guest info from localStorage:\", error);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem(storageKey);\r\n      if (raw) setMessages(JSON.parse(raw));\r\n    } catch (error) {\r\n      console.warn(\"Failed to load messages from localStorage:\", error);\r\n    }\r\n  }, [storageKey]);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem(storageKey, JSON.stringify(messages));\r\n    } catch (error) {\r\n      console.warn(\"Failed to save messages to localStorage:\", error);\r\n    }\r\n  }, [messages, storageKey]);\r\n\r\n  /** --- Scroll to bottom on new messages when open --- **/\r\n  useEffect(() => {\r\n    if (isOpen && messagesEndRef.current) {\r\n      messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n  }, [messages, isOpen]);\r\n\r\n  /** --- Prepare notification sound --- **/\r\n  useEffect(() => {\r\n    if (beepUrl) audioRef.current = new Audio(beepUrl);\r\n  }, []);\r\n\r\n  /** --- Socket listeners --- **/\r\n  const normalizeMessage = useCallback(\r\n    (msg) => {\r\n      if (!msg) return null;\r\n      const id = msg._id || msg.id || `m_${Date.now()}_${Math.random()}`;\r\n      const text = msg.message || msg.text || \"\";\r\n      const ts = msg.createdAt || msg.timestamp || Date.now();\r\n      const from =\r\n        msg.senderType === \"user\"\r\n          ? \"user\"\r\n          : msg.senderType === \"agent\"\r\n          ? \"agent\"\r\n          : msg.senderType === \"bot\"\r\n          ? \"bot\"\r\n          : msg.from || \"bot\";\r\n\r\n      const avatar =\r\n        msg.metadata?.senderAvatar ||\r\n        (from === \"agent\"\r\n          ? session?.agent?.photo || FavIconLogo\r\n          : from === \"user\"\r\n          ? getProfileImageSrc(userFromAuth?.photo, !userFromAuth)\r\n          : FavIconLogo);\r\n\r\n      return {\r\n        id,\r\n        from,\r\n        text,\r\n        timestamp: ts,\r\n        avatar,\r\n        quickReplies: msg.metadata?.quickReplies || msg.quickReplies || [],\r\n      };\r\n    },\r\n    [session, userFromAuth]\r\n  );\r\n\r\n  // FIXED: Enhanced handleIncomingMessage with better duplicate prevention\r\n  const handleIncomingMessage = useCallback(\r\n    (rawMsg) => {\r\n      const msg = normalizeMessage(rawMsg);\r\n      if (!msg) return;\r\n\r\n      // Check if this message already exists (by ID or by content and timestamp)\r\n      setMessages((prevMessages) => {\r\n        const messageExists = prevMessages.some(existingMsg => \r\n          existingMsg.id === msg.id || \r\n          (existingMsg.text === msg.text && \r\n           existingMsg.from === msg.from && \r\n           Math.abs(existingMsg.timestamp - msg.timestamp) < 1000) // Within 1 second\r\n        );\r\n\r\n        if (messageExists) {\r\n          console.log('Duplicate message detected, skipping:', msg);\r\n          return prevMessages;\r\n        }\r\n\r\n        // Remove from pending if this is a confirmation of a sent message\r\n        if (msg.from === 'user') {\r\n          setPendingMessages(prev => {\r\n            const newPending = new Set(prev);\r\n            // Remove any pending message with similar content\r\n            for (const pendingId of prev) {\r\n              if (pendingId.includes(msg.text.substring(0, 10))) {\r\n                newPending.delete(pendingId);\r\n              }\r\n            }\r\n            return newPending;\r\n          });\r\n        }\r\n\r\n        return [...prevMessages, msg];\r\n      });\r\n\r\n      // Only update quick replies for bot messages\r\n      if (msg.from === 'bot' && msg.quickReplies.length > 0) {\r\n        // Don't show quick replies in global footer - they'll be shown with the message\r\n        // setQuickReplies(msg.quickReplies);\r\n      }\r\n\r\n      if (!isOpen) {\r\n        setUnreadCount((n) => n + 1);\r\n        try {\r\n          audioRef.current && audioRef.current.play().catch(() => {});\r\n        } catch {}\r\n      }\r\n    },\r\n    [normalizeMessage, isOpen]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    const onSessionCreated = (payloadRaw) => {\r\n      console.log('Session created event received:', payloadRaw);\r\n      const payload = payloadRaw?.body?.data || payloadRaw;\r\n      const sess = payload?.session || payload || null;\r\n      if (sess) {\r\n        setSession(sess);\r\n        console.log('Session set:', sess);\r\n        if (payload.businessHours) setBusinessInfo(payload.businessHours);\r\n      }\r\n      if (payload?.welcomeMessage) {\r\n        handleIncomingMessage(payload.welcomeMessage);\r\n      }\r\n    };\r\n\r\n    const onMessageNew = (msg) => handleIncomingMessage(msg);\r\n    const onMessageStatus = ({ messageId, status }) =>\r\n      setMessages((prev) =>\r\n        prev.map((m) => (m.id === messageId ? { ...m, status } : m))\r\n      );\r\n\r\n    socket.on(\"session:created\", onSessionCreated);\r\n    socket.on(\"message:new\", onMessageNew);\r\n    socket.on(\"message:status\", onMessageStatus);\r\n\r\n    return () => {\r\n      socket.off(\"session:created\", onSessionCreated);\r\n      socket.off(\"message:new\", onMessageNew);\r\n      socket.off(\"message:status\", onMessageStatus);\r\n    };\r\n  }, [socket, handleIncomingMessage]);\r\n\r\n  /** --- Create a new session --- **/\r\n  const createSession = useCallback(async () => {\r\n    if (!socket || !socket.connected || session) {\r\n      console.log('Cannot create session:', {\r\n        hasSocket: !!socket,\r\n        isConnected: socket?.connected,\r\n        hasSession: !!session\r\n      });\r\n      return;\r\n    }\r\n\r\n    let sessionData;\r\n    const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n\r\n    // FIXED: Proper session data creation based on user type\r\n    if (userFromAuth) {\r\n      // For authenticated users - use their actual data\r\n      console.log('Creating session for authenticated user:', userFromAuth.email);\r\n      sessionData = {\r\n        entryPoint: \"widget\",\r\n        selectedOption: \"general_inquiry\",\r\n        timezone,\r\n        firstName: userFromAuth.firstname || userFromAuth.firstName,\r\n        lastName: userFromAuth.lastname || userFromAuth.lastName,\r\n        email: userFromAuth.email,\r\n        phone: userFromAuth.phone || '',\r\n        // Don't send guestEmail for authenticated users\r\n        metadata: {\r\n          authenticatedUser: true,\r\n          userId: userFromAuth._id || userFromAuth.id\r\n        }\r\n      };\r\n    } else {\r\n      // For guest users - use guest info\r\n      console.log('Creating session for guest user:', guestInfo);\r\n      const { firstName, lastName, email, phone } = guestInfo;\r\n      \r\n      // Save guest info to localStorage\r\n      try {\r\n        localStorage.setItem(\r\n          STORAGE_USER_KEY,\r\n          JSON.stringify({ firstName, lastName, email, phone })\r\n        );\r\n      } catch (error) {\r\n        console.warn(\"Failed to save guest info to localStorage:\", error);\r\n      }\r\n\r\n      sessionData = {\r\n        entryPoint: \"widget\",\r\n        selectedOption: \"general_inquiry\",\r\n        timezone,\r\n        firstName,\r\n        lastName,\r\n        email,\r\n        phone,\r\n        guestEmail: email, // This tells backend it's a guest user\r\n        metadata: {\r\n          guestFirstName: firstName,\r\n          guestLastName: lastName,\r\n          guestPhone: phone\r\n        }\r\n      };\r\n    }\r\n\r\n    console.log('Emitting session:create with data:', sessionData);\r\n\r\n    socket.emit(\"session:create\", sessionData, (err, result) => {\r\n      if (err) {\r\n        console.error(\"session:create err\", err);\r\n        return;\r\n      }\r\n      console.log('Session creation response:', result);\r\n      const data = result?.body?.data || result;\r\n      const sess = data?.session || data || null;\r\n      if (sess) {\r\n        setSession(sess);\r\n        if (data.welcomeMessage) handleIncomingMessage(data.welcomeMessage);\r\n        if (data.businessHours) setBusinessInfo(data.businessHours);\r\n      }\r\n    });\r\n  }, [\r\n    socket,\r\n    session,\r\n    userFromAuth,\r\n    guestInfo,\r\n    handleIncomingMessage\r\n  ]);\r\n\r\n  /** --- Send message --- FIXED to prevent duplicates **/\r\n  const sendMessage = useCallback(() => {\r\n    if (!input.trim()) return;\r\n    \r\n    const text = input.trim();\r\n    const messageId = `local_${Date.now()}_${Math.random()}`;\r\n    \r\n    // Add to pending messages to track it\r\n    setPendingMessages(prev => new Set([...prev, messageId]));\r\n    \r\n    // Clear input state and localStorage immediately\r\n    setInput(\"\");\r\n    try {\r\n      localStorage.removeItem(STORAGE_INPUT_KEY);\r\n    } catch (error) {\r\n      console.warn(\"Failed to clear input from localStorage:\", error);\r\n    }\r\n    \r\n    // Only send via socket, don't add to local messages\r\n    // The message will be added when it comes back from the server\r\n    if (socket && socket.connected) {\r\n      socket.emit(\"message:send\", {\r\n        sessionId: session?._id || session?.id,\r\n        message: text,\r\n        messageType: \"text\",\r\n      });\r\n    } else {\r\n      // If no socket connection, add locally as fallback\r\n      const draft = {\r\n        id: messageId,\r\n        from: \"user\",\r\n        text,\r\n        timestamp: Date.now(),\r\n        avatar: userFromAuth\r\n          ? getProfileImageSrc(userFromAuth?.photo)\r\n          : defaultAvatar,\r\n      };\r\n      setMessages((prev) => [...prev, draft]);\r\n      // Remove from pending since we added it locally\r\n      setPendingMessages(prev => {\r\n        const newPending = new Set(prev);\r\n        newPending.delete(messageId);\r\n        return newPending;\r\n      });\r\n    }\r\n    \r\n    // FIXED: Show guest form AFTER sending the first message for unauthenticated users\r\n    if (!userFromAuth && !guestFormSubmitted) {\r\n      console.log('Guest user sent first message, showing form for data collection...');\r\n      setTimeout(() => {\r\n        setShowGuestForm(true);\r\n      }, 500); // Small delay so user sees their message first\r\n    }\r\n  }, [input, session, socket, userFromAuth, guestFormSubmitted]);\r\n    \r\n  const handleQuickReply = useCallback(\r\n    (option) => {\r\n      const value = option.value || option.text || option;\r\n      const text = option.text || value;\r\n      const messageId = `local_qr_${Date.now()}_${Math.random()}`;\r\n      \r\n      // Add to pending messages\r\n      setPendingMessages(prev => new Set([...prev, messageId]));\r\n      \r\n      // Clear any existing quick replies\r\n      // setQuickReplies([]);\r\n      \r\n      // Send via socket only\r\n      if (socket && socket.connected && session) {\r\n        socket.emit(\"message:send\", {\r\n          sessionId: session._id || session.id,\r\n          message: value,\r\n          messageType: \"option_selection\",\r\n        });\r\n      } else {\r\n        // Fallback if no socket\r\n        const draft = {\r\n          id: messageId,\r\n          from: \"user\",\r\n          text,\r\n          timestamp: Date.now(),\r\n          avatar: userFromAuth\r\n            ? getProfileImageSrc(userFromAuth?.photo)\r\n            : defaultAvatar,\r\n        };\r\n        setMessages((prev) => [...prev, draft]);\r\n        setPendingMessages(prev => {\r\n          const newPending = new Set(prev);\r\n          newPending.delete(messageId);\r\n          return newPending;\r\n        });\r\n      }\r\n    },\r\n    [session, socket, userFromAuth]\r\n  );\r\n\r\n  const renderMessage = (m, index) => {\r\n    const isUser = m.from === \"user\";\r\n    return (\r\n      <div key={`${m.id}-${index}`} className={`chat-row ${isUser ? \"user\" : \"agent-or-bot\"}`}>\r\n        {!isUser && (\r\n          <img className=\"msg-avatar\" src={m.avatar} alt={m.from} />\r\n        )}\r\n        <div className=\"msg-body\">\r\n          <div className={`msg-text ${isUser ? \"user-bubble\" : \"\"}`}>\r\n            {m.text}\r\n          </div>\r\n          {m.quickReplies?.length > 0 && (\r\n            <div className=\"message-quick-replies\">\r\n              {m.quickReplies.map((qr, i) => (\r\n                <button\r\n                  key={`${m.id}-qr-${i}`}\r\n                  className=\"quick-reply-btn\"\r\n                  onClick={() => handleQuickReply(qr)}\r\n                >\r\n                  {qr.text || qr}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n          <div className=\"msg-meta\">\r\n            <span className=\"msg-time\">{timeAgo(m.timestamp)}</span>\r\n          </div>\r\n        </div>\r\n        {isUser && (\r\n          <img\r\n            className=\"msg-avatar\"\r\n            src={m.avatar}\r\n            alt=\"You\"\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  /** --- Form Validation --- **/\r\n  const validateGuestForm = () => {\r\n    const errors = {};\r\n    \r\n    if (!guestInfo.firstName.trim()) {\r\n      errors.firstName = 'First name is required';\r\n    }\r\n    \r\n    if (!guestInfo.email.trim()) {\r\n      errors.email = 'Email is required';\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(guestInfo.email)) {\r\n      errors.email = 'Please enter a valid email';\r\n    }\r\n    \r\n    if (guestInfo.phone && !/^[\\d\\s+\\-()]+$/.test(guestInfo.phone)) {\r\n      errors.phone = 'Please enter a valid phone number';\r\n    }\r\n    \r\n    return errors;\r\n  };\r\n\r\n  /** --- Initialize chat session and messages --- **/\r\n  const initializeChatSession = async () => {\r\n    console.log('Initializing chat session...', {\r\n      hasSession: !!session,\r\n      hasSocket: !!socket,\r\n      isConnected: socket?.connected,\r\n      userFormSubmitted,\r\n      defaultMessagesLoaded\r\n    });\r\n    \r\n    // FIX 4: Load default messages only once and prevent duplicates\r\n    if (messages.length === 0 && !defaultMessagesLoaded) {\r\n      setDefaultMessagesLoaded(true); // Prevent future duplicate loads\r\n      \r\n      const biz = await fetchBusinessHours();\r\n      setBusinessInfo(biz);\r\n      \r\n      if (biz && !biz.isOpen && biz.outsideHoursMessage) {\r\n        setMessages([\r\n          {\r\n            id: \"outside-hours\",\r\n            from: \"bot\",\r\n            text: biz.outsideHoursMessage,\r\n            timestamp: Date.now(),\r\n            avatar: FavIconLogo,\r\n            quickReplies: biz.outsideHoursOptions || [],\r\n          },\r\n        ]);\r\n      } else {\r\n        setMessages([\r\n          {\r\n            id: \"welcome-fallback\",\r\n            from: \"bot\",\r\n            text: \"How can I be of service to you?\",\r\n            timestamp: Date.now(),\r\n            avatar: FavIconLogo,\r\n            quickReplies: [\r\n              { text: \"What is your service?\", value: \"service_info\" },\r\n              { text: \"Why should I choose you?\", value: \"why_choose_us\" },\r\n              { text: \"How do I get started?\", value: \"getting_started\" },\r\n              { text: \"Search Jobs\", value: \"search_job\" },\r\n              { text: \"Partnership Info\", value: \"partner_pspl\" },\r\n              { text: \"Application Help\", value: \"application_issue\" },\r\n              { text: \"Talk to Agent\", value: \"live_agent\" },\r\n            ],\r\n          },\r\n        ]);\r\n      }\r\n    }\r\n    \r\n    // Create session only if user has submitted form/is authenticated\r\n    if (!session && socket && socket.connected && userFormSubmitted) {\r\n      console.log('Creating session...');\r\n      await createSession();\r\n    }\r\n  };\r\n\r\n  // FIX 1: Close chat when chat header is clicked\r\n  const handleHeaderClick = () => {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  /** --- Toggle Chat --- **/\r\n  const handleToggle = async () => {\r\n    const next = !isOpen;\r\n    setIsOpen(next);\r\n    \r\n    if (next) {\r\n      setUnreadCount(0);\r\n      \r\n      console.log('Debug - handleToggle:', {\r\n        userFromAuth: !!userFromAuth,\r\n        needsGuestForm,\r\n        guestInfo,\r\n        userFormSubmitted\r\n      });\r\n      \r\n      // FIXED: Show guest form only for unauthenticated users without guest info\r\n      if (needsGuestForm) {\r\n        console.log('Showing guest form...');\r\n        setShowGuestForm(true);\r\n        // Still initialize default messages even when showing form\r\n        await initializeChatSession();\r\n        return;\r\n      }\r\n      \r\n      // Initialize chat for authenticated users or users with guest info\r\n      console.log('Initializing chat...');\r\n      await initializeChatSession();\r\n    }\r\n  };\r\n\r\n  const handleGuestFormChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setGuestInfo({\r\n      ...guestInfo,\r\n      [name]: value\r\n    });\r\n    \r\n    // Clear specific error when user starts typing\r\n    if (guestFormErrors[name]) {\r\n      setGuestFormErrors({\r\n        ...guestFormErrors,\r\n        [name]: ''\r\n      });\r\n    }\r\n  };\r\n\r\n  const submitGuestForm = async () => {\r\n    const errors = validateGuestForm();\r\n    \r\n    if (Object.keys(errors).length > 0) {\r\n      setGuestFormErrors(errors);\r\n      return;\r\n    }\r\n\r\n    setIsSubmittingGuest(true);\r\n    \r\n    try {\r\n      const response = await API.post('/api/v1/guestUsers/create-guest-user', guestInfo);\r\n      \r\n      if (response.data.success) {\r\n        const { firstName, lastName, email, phone } = response.data.data;\r\n        \r\n        // Update local state\r\n        setGuestInfo({ firstName, lastName, email, phone });\r\n        setGuestFormSubmitted(true);\r\n        setShowGuestForm(false);\r\n        setGuestFormErrors({});\r\n        \r\n        // Save to localStorage\r\n        try {\r\n          localStorage.setItem(STORAGE_USER_KEY, JSON.stringify({\r\n            firstName,\r\n            lastName,\r\n            email,\r\n            phone\r\n          }));\r\n        } catch (error) {\r\n          console.warn(\"Failed to save guest info to localStorage:\", error);\r\n        }\r\n        \r\n        // Initialize chat session now that guest info is available\r\n        console.log('Guest form submitted successfully, initializing chat session...');\r\n        await initializeChatSession();\r\n        \r\n        logWithIcon.success('Guest user created and chat initialized');\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error saving guest user:\", error);\r\n      setGuestFormErrors({\r\n        submit: error.response?.data?.message || 'Failed to save guest information. Please try again.'\r\n      });\r\n    } finally {\r\n      setIsSubmittingGuest(false);\r\n    }\r\n  };\r\n\r\n  const inputEnabled = true;\r\n\r\n  return (\r\n    <div className=\"chatbot-wrapper\">\r\n      <button\r\n        className={`chatbot-toggle ${isOpen ? \"open\" : \"\"}`}\r\n        onClick={handleToggle}\r\n      >\r\n        <div className=\"chat-toggle-inner\">\r\n          {!isOpen && <i className=\"fas fa-comment-dots fa-1x\"></i>}\r\n        </div>\r\n        {unreadCount > 0 && <div className=\"unread-badge\">{unreadCount}</div>}\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <div className=\"chatbot-box\">\r\n          {/* FIX 1: Make entire header clickable to close chat */}\r\n          <div className=\"chatbot-header\" onClick={handleHeaderClick} style={{ cursor: 'pointer' }}>\r\n            <div className=\"chat-header-left\">\r\n              <button\r\n                className=\"chat-close-btn\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation(); // Prevent double trigger\r\n                  setIsOpen(false);\r\n                }}\r\n              >\r\n                <i className=\"fas fa-chevron-down\"></i>\r\n              </button>\r\n              <div className=\"chat-avatar\">\r\n                <Link to=\"/\" onClick={(e) => e.stopPropagation()}>\r\n                  <img src={FavIconLogo} alt=\"ProsoftSynergies\" />\r\n                </Link>\r\n              </div>\r\n              <div>\r\n                <div className=\"chat-title\">\r\n                  {userFromAuth \r\n                    ? `Chat Assistant - ${userFromAuth.firstname || 'User'}`\r\n                    : userFormSubmitted \r\n                      ? `Chat Assistant - ${guestInfo.firstName}`\r\n                      : 'Chat Assistant'\r\n                  }\r\n                </div>\r\n                <div className=\"chat-sub\">\r\n                  {businessInfo\r\n                    ? businessInfo.isOpen\r\n                        ? \"We're online now\"\r\n                        : \"Outside business hours\"\r\n                    : isConnected\r\n                        ? \"Connected\"\r\n                        : \"Connecting...\"}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"chatbot-messages\">\r\n            {messages.map(renderMessage)}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n\r\n          <div className=\"chatbot-input\">\r\n            <input\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              placeholder=\"Type a message...\"\r\n              onKeyDown={(e) => {\r\n                if (e.key === 'Enter') {\r\n                  sendMessage(); // This will trigger guest form if needed\r\n                }\r\n              }}\r\n              disabled={false} // Always enabled\r\n            />\r\n            <button\r\n              onClick={sendMessage}\r\n              className={`send-btn ${!inputEnabled ? \"disabled\" : \"\"}`}\r\n              disabled={!inputEnabled}\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* FIXED: Guest Form Modal - Now properly triggered */}\r\n      <Modal\r\n        isOpen={showGuestForm}\r\n        onRequestClose={() => !isSubmittingGuest && setShowGuestForm(false)}\r\n        className=\"modal\"\r\n        overlayClassName=\"modal-overlay\"\r\n        shouldCloseOnOverlayClick={!isSubmittingGuest}\r\n      >\r\n        <div className=\"guest-form\">\r\n          <h2>Please provide your details to start chatting</h2>\r\n          \r\n          {guestFormErrors.submit && (\r\n            <div className=\"error-message\" style={{ color: 'red', marginBottom: '1rem' }}>\r\n              {guestFormErrors.submit}\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"form-group\">\r\n            <label>First Name *</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              value={guestInfo.firstName}\r\n              onChange={handleGuestFormChange}\r\n              disabled={isSubmittingGuest}\r\n              required\r\n            />\r\n            {guestFormErrors.firstName && (\r\n              <span className=\"field-error\" style={{ color: 'red', fontSize: '0.8rem' }}>\r\n                {guestFormErrors.firstName}\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Last Name</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              value={guestInfo.lastName}\r\n              onChange={handleGuestFormChange}\r\n              disabled={isSubmittingGuest}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Email *</label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={guestInfo.email}\r\n              onChange={handleGuestFormChange}\r\n              disabled={isSubmittingGuest}\r\n              required\r\n            />\r\n            {guestFormErrors.email && (\r\n              <span className=\"field-error\" style={{ color: 'red', fontSize: '0.8rem' }}>\r\n                {guestFormErrors.email}\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Phone</label>\r\n            <input\r\n              type=\"tel\"\r\n              name=\"phone\"\r\n              value={guestInfo.phone}\r\n              onChange={handleGuestFormChange}\r\n              disabled={isSubmittingGuest}\r\n            />\r\n            {guestFormErrors.phone && (\r\n              <span className=\"field-error\" style={{ color: 'red', fontSize: '0.8rem' }}>\r\n                {guestFormErrors.phone}\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"form-actions\">\r\n            <button \r\n              onClick={submitGuestForm}\r\n              disabled={isSubmittingGuest}\r\n            >\r\n              {isSubmittingGuest ? 'Submitting...' : 'Submit'}\r\n            </button>\r\n            <button \r\n              onClick={() => setShowGuestForm(false)}\r\n              disabled={isSubmittingGuest}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatBotIcon;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate, useLocation, useParams } from 'react-router-dom';\r\nimport API from \"../helpers/API\";\r\nimport { useAuth } from \"../Context/AuthContext\";\r\nimport { LogoutNavbarLink } from './Logout/LogoutNavbar';\r\nimport { LogoutLink } from './Logout/Logout';\r\nimport ChatBotIcon from '../components/ChatBotIcon/ChatBotIcon';\r\nimport { FaLinkedin, FaFacebook, FaWhatsapp } from 'react-icons/fa';\r\nimport { BsTwitterX } from \"react-icons/bs\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport './Footer.css';\r\n\r\nconst Footer = () => {\r\n    const currentDay = new Date();\r\n    const currentYear = currentDay.getFullYear();\r\n\r\n    // ***************************************\r\n    const [auth, setAuth] = useAuth();\r\n    const [user, setUser] = useState({});\r\n    const params = useParams();\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const notifyErr = (msg) =>\r\n      toast.error(msg, {\r\n        position: \"top-center\",\r\n        autoClose: 20000,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        theme: \"light\"\r\n      });\r\n    const notifySucc = (msg) =>\r\n      toast.success(msg, {\r\n        position: \"top-center\",\r\n        autoClose: 20000,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        theme: \"light\"\r\n      });\r\n\r\n    const fetchRegUserById = async () => {\r\n      try {\r\n        const { data } = await API.get(`/users/fetchRegUserById/${params._id}`);\r\n        setUser(data.user);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    // initial Registered User Details\r\n    useEffect(() => {\r\n      if (params?._id) fetchRegUserById();\r\n    }, [params?._id]);\r\n\r\n    const handleLogout = () => {\r\n      setAuth({ ...auth, user: null, token: \"\" });\r\n      localStorage.removeItem(\"userAuthDetails\");\r\n      notifySucc(\"You have Logged Out Successfully!!!\");\r\n      navigate(location.state || \"/Login\");\r\n    };\r\n\r\n    //assigning location variable\r\n    const location = useLocation();\r\n  return (\r\n    <>\r\n    <footer className=\"footer\">\r\n      <div className=\"footer-container\">\r\n        <div className=\"footer-columns\">\r\n          <div className=\"footer-column\">\r\n            <h3>INDUSTRIES & RECRUITMENT SOLUTIONS</h3>\r\n            <ul>\r\n              <li><Link to=\"/Information-Technology-Recruitment\">Information Technology Recruitment</Link></li>\r\n              <li><Link to=\"/Government-Ministry-Recruitment\">Government Ministry Recruitment</Link></li>\r\n              <li><Link to=\"/Healthcare-&-Medical-Recruitment\">Healthcare & Medical Recruitment</Link></li>\r\n              <li><Link to=\"/Manufacturing-Recruitment\">Manufacturing Recruitment</Link></li>\r\n              <li><Link to=\"/Admin-&-Office-Support-Recruitment\">Administration & Office Support Recruitment</Link></li>\r\n              <li><Link to=\"/Transport-&-Logistics-Recruitment\">Transport & Logistics Recruitment</Link></li>\r\n              <li><Link to=\"/Construction-&-Infrastructure-Recruitment\">Construction and Infrastructure Recruitment</Link></li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"footer-column\">\r\n            <h3>EDUCATION SOLUTIONS</h3>\r\n            <ul>\r\n              <li><Link to=\"/Education-Recruitment\">Education Recruitment</Link></li>\r\n              {/* <li><Link to=\"/#\">Register</Link></li> */}\r\n              {/* ******************************************* */}\r\n              {!auth.user ? (\r\n              <>\r\n                <li><Link to=\"/Register\">Register</Link></li>\r\n              </>\r\n              ) : (\r\n              <>\r\n                {auth.user?.role === 1 ? (\r\n                  <>\r\n                  <li>\r\n                    <Link to=\"/Admin/Dashboard\" onClick={() => {window.location.href = \"/Admin/Dashboard\";}}>\r\n                      Admin Dashboard\r\n                    </Link>\r\n                  </li>                  \r\n                  </>\r\n                  ) : (\r\n                  <>\r\n                  {auth.user?.role === 2 ? (\r\n                      <>\r\n                        <li>\r\n                          <Link to=\"/Employer/Employer-Dashboard\" onClick={() => {window.location.href = \"/Employer/Employer-Dashboard\";}}>\r\n                            Employer Dashboard\r\n                          </Link>\r\n                        </li>  \r\n                      </>\r\n                      ) : (\r\n                      <>\r\n                        <li>\r\n                          <Link to=\"/Applicant-Profile-Dashboard\" onClick={() => {window.location.href = \"/Applicant-Profile-Dashboard\";}}>\r\n                            Applicant Dashboard\r\n                          </Link>\r\n                        </li>  \r\n                      </>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </>\r\n              )}  \r\n              {/* ******************************************* */}\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"footer-column\">\r\n            <h3>FOR JOB SEEKERS</h3>\r\n            <ul>\r\n              <li><Link to=\"/Search-Jobs\">Search Jobs</Link></li>\r\n              {/* <li><Link to=\"/#\">Resume Upload</Link></li> */}\r\n              <li>\r\n                  {!auth.user ? (\r\n                    <>\r\n                      <Link to=\"/Login\">Resume Upload</Link> \r\n                    </>\r\n                    ) : (\r\n                    <>\r\n                      {(() => {\r\n                        const userRole = auth.user?.role;\r\n                        let linkPath = \"/PSPL-Access-Denied\";\r\n\r\n                        if (userRole === 0) {\r\n                          linkPath = `/Applicant-Resume-Upload/${auth?.user?.userId}`;\r\n                        } else if (userRole === 1) {\r\n                          linkPath = \"/PSPL-Access-Denied\";\r\n                        } else if (userRole === 2) {\r\n                          linkPath = \"/PSPL-Access-Denied\";\r\n                        }\r\n                        return (\r\n                          <Link to={linkPath}>Resume Upload</Link> \r\n                        );\r\n                      })()}\r\n                    </>\r\n                    )}\r\n                </li>\r\n              {/* <li><Link to=\"/#\">Login</Link></li> */}\r\n              {/* ******************************************* */}\r\n              {!auth.user ? (\r\n              <>\r\n                <li><Link to=\"/#\">Login</Link></li>\r\n              </>\r\n              ) : (\r\n              <>\r\n                {auth.user?.role === 1 ? (\r\n                  <>\r\n                  <li>\r\n                    <LogoutLink onClick={() => {window.location.href = \"/Login\";}}>\r\n                      Logout\r\n                    </LogoutLink>\r\n                  </li>                  \r\n                  </>\r\n                  ) : (\r\n                  <>\r\n                  {auth.user?.role === 2 ? (\r\n                      <>\r\n                        <li>\r\n                          <LogoutLink onClick={() => {window.location.href = \"/Login\";}}>\r\n                            Logout\r\n                          </LogoutLink>\r\n                        </li>  \r\n                      </>\r\n                      ) : (\r\n                      <>\r\n                        <li>\r\n                          <LogoutLink onClick={() => {window.location.href = \"/Login\";}}>\r\n                            Logout\r\n                          </LogoutLink>\r\n                        </li>  \r\n                      </>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </>\r\n              )}  \r\n              {/* ******************************************* */}\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"footer-column\">\r\n            <h3>HEALTH SOLUTIONS</h3>\r\n            <ul>\r\n              <li><Link to=\"/Behavioral-Health-Solutions\">Behavioral Health</Link></li>\r\n              <li><Link to=\"/Health-Billing-&-Collections-Solutions\">Heath & Billing Collections</Link></li>\r\n              <li><Link to=\"#\">HealthCare Mergers & Acquisitions</Link></li>\r\n              <li>\r\n                <Link to=\"/Behavioral-Health-Credentialing-&-Contracting\">Behavioral Health Credentialing & Contracting</Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"footer-column\">\r\n            <h3>ABOUT US</h3>\r\n            <ul>\r\n              <li><Link to=\"/About-Us\">About Us</Link></li>\r\n              <li><Link to=\"/Who-We-Are\">Who We're </Link></li>\r\n              <li><Link to=\"/Our-Locations\">Locations</Link></li>\r\n              <li><Link to=\"/ThinkBeyond-Privacy-Policy\">Privacy Policy</Link></li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"footer-bottom\">\r\n          <div className=\"social-section\">\r\n            <p>Follow Us</p>\r\n            <div className=\"social-icons\">\r\n              <Link to=\"https://www.instagram.com/the_thinkbeyond_solutions/\" aria-label=\"LinkedIn\" target='_blank'><FaLinkedin /></Link>\r\n              <Link to=\"https://www.facebook.com/thethinkbeyondsolutions\" aria-label=\"Facebook\" target='_blank'><FaFacebook /></Link>\r\n              <Link to=\"https://x.com/thethinkbeyond8\" aria-label=\"X-Twitter\" target='_blank'><BsTwitterX /></Link>\r\n              <Link to=\"https://wa.me/4169008153\" aria-label=\"X-WhatsApp\" target='_blank'><FaWhatsapp /></Link>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bottom-links\">\r\n            <Link to=\"/ProsoftSynergies-Privacy-Policy\">Privacy Policy</Link>\r\n            <span className=\"divider\">|</span>\r\n            <a href=\"#\">Accessibility</a>\r\n          </div>\r\n          <div>\r\n            <p className=\"bottom-links pt-5\"> Copyright  {currentYear} <Link to=\"/\" className='ms-2 me-3'>ProsoftSynergies.</Link> All Right Reserved{\" \"}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n       <ChatBotIcon />\r\n    </footer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate, useLocation, useParams } from 'react-router-dom';\r\nimport API from \"../helpers/API\";\r\nimport { useAuth } from \"../Context/AuthContext\";\r\nimport { LogoutNavbarLink } from './Logout/LogoutNavbar';\r\n\r\nimport './assets/vendors/mdi/css/materialdesignicons.min.css';\r\nimport './assets/vendors/font-awesome/css/font-awesome.min.css';\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport './Header.css';\r\nimport Logo from './PSPL-Logo.png';\r\n\r\n// Role constants\r\nconst ROLE_JOBSEEKER = 0;\r\nconst ROLE_ADMIN = 1;\r\nconst ROLE_EMPLOYER = 2;\r\nconst ROLE_SUPERADMIN = 3;\r\n\r\nconst TestHomeHeader = () => {\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const [activeDropdown, setActiveDropdown] = useState(null);\r\n  const [isSticky, setIsSticky] = useState(false);\r\n\r\n  const [auth] = useAuth();\r\n  const [user, setUser] = useState({});\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setIsSticky(window.scrollY > 40);\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  const toggleMobileMenu = () => {\r\n    setMobileMenuOpen(!mobileMenuOpen);\r\n    setActiveDropdown(null);\r\n  };\r\n\r\n  const toggleDropdown = (index, e) => {\r\n    if (window.innerWidth <= 768) {\r\n      e.preventDefault();\r\n      setActiveDropdown(activeDropdown === index ? null : index);\r\n    }\r\n  };\r\n\r\n  const handleLinkClick = () => {\r\n    if (window.innerWidth <= 768 && mobileMenuOpen) {\r\n      setMobileMenuOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e) => {\r\n      if (\r\n        !e.target.closest('.nav-links') &&\r\n        !e.target.closest('.menu-toggle') &&\r\n        !e.target.closest('.cta-buttons') &&\r\n        window.innerWidth > 768\r\n      ) {\r\n        setActiveDropdown(null);\r\n      }\r\n    };\r\n\r\n    const handleResize = () => {\r\n      if (window.innerWidth > 768) {\r\n        setMobileMenuOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('click', handleClickOutside);\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    return () => {\r\n      document.removeEventListener('click', handleClickOutside);\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, []);\r\n\r\n  const notifyErr = (msg) =>\r\n    toast.error(msg, {\r\n      position: \"top-center\",\r\n      autoClose: 20000,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      theme: \"light\",\r\n    });\r\n\r\n  const notifySucc = (msg) =>\r\n    toast.success(msg, {\r\n      position: \"top-center\",\r\n      autoClose: 20000,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      theme: \"light\",\r\n    });\r\n\r\n  const fetchRegUserById = async () => {\r\n    try {\r\n      const { data } = await API.get(`/users/fetchRegUserById/${params._id}`);\r\n      setUser(data.user || {}); // Fixed: Ensure user is always an object\r\n    } catch (error) {\r\n      console.log(error);\r\n      setUser({}); // Fixed: Set empty object on error\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (params?._id) fetchRegUserById();\r\n  }, [params?._id]);\r\n\r\n  // Helper function to safely check photo path\r\n  const getProfileImageSrc = (userPhoto) => {\r\n    if (!userPhoto) return ''; // Return empty string if no photo\r\n    \r\n    // Safely check if photo starts with specific path\r\n    const isUploadPath = typeof userPhoto === 'string' && userPhoto.startsWith('/uploads/userAvatars/');\r\n    return isUploadPath ? process.env.REACT_APP_API_URL + userPhoto : userPhoto;\r\n  };\r\n\r\n  // Helper function to safely get user name\r\n  const getUserDisplayName = (userObj) => {\r\n    const firstName = userObj?.firstname || userObj?.first_name || '';\r\n    const lastName = userObj?.lastname || userObj?.last_name || '';\r\n    return `${firstName} ${lastName}`.trim();\r\n  };\r\n\r\n  // Admin menu items\r\n  const renderAdminMenuItems = () => (\r\n    <>\r\n      <li>\r\n        <Link to=\"/Admin/Dashboard\" onClick={() => { window.location.href = \"/Admin/Dashboard\"; }}>\r\n          <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Jobs\" onClick={() => { window.location.href = \"/Admin/Manage-Jobs\"; }}>\r\n          <i className=\"mdi mdi-briefcase me-2 text-success menu-icon\"></i>Manage Jobs\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Sectors\" onClick={() => { window.location.href = \"/Admin/Manage-Sectors\"; }}>\r\n          <i className=\"mdi mdi-format-list-bulleted-type me-2 text-success menu-icon\"></i>Job Sectors\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Qualifications\" onClick={() => { window.location.href = \"/Admin/Manage-Qualifications\"; }}>\r\n          <i className=\"mdi mdi-school menu-icon me-2 text-success\"></i> Job Qualifications\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Work-Experiences\" onClick={() => { window.location.href = \"/Admin/Manage-Work-Experiences\"; }}>\r\n          <i className=\"mdi mdi-checkbox-multiple-marked menu-icon me-2 text-success\"></i> Job Experiences\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Work-Modes\" onClick={() => { window.location.href = \"/Admin/Manage-Work-Modes\"; }}>\r\n          <i className=\"mdi mdi-account-convert me-2 text-success\"></i> Work Modes\r\n        </Link>\r\n      </li>\r\n    </>\r\n  );\r\n\r\n  // Super Admin Menu Items\r\n  const renderSuperAdminMenuItems = () => (\r\n    <>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Dashboard\" onClick={() => { window.location.href = \"/Super-Admin/Dashboard\"; }}>\r\n          <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Jobs\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Jobs\"; }}>\r\n          <i className=\"mdi mdi-briefcase me-2 text-success menu-icon\"></i>Manage Jobs\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Sectors\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Sectors\"; }}>\r\n          <i className=\"mdi mdi-format-list-bulleted-type me-2 text-success menu-icon\"></i>Job Sectors\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Qualifications\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Qualifications\"; }}>\r\n          <i className=\"mdi mdi-school menu-icon me-2 text-success\"></i> Job Qualifications\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Work-Experiences\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Work-Experiences\"; }}>\r\n          <i className=\"mdi mdi-checkbox-multiple-marked menu-icon me-2 text-success\"></i> Job Experiences\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Work-Modes\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Work-Modes\"; }}>\r\n          <i className=\"mdi mdi-account-convert me-2 text-success\"></i> Work Modes\r\n        </Link>\r\n      </li>\r\n    </>\r\n  );\r\n\r\n  const renderLogoutItem = () => (\r\n    <li>\r\n      <LogoutNavbarLink onClick={() => { window.location.href = \"/Login\"; }}>\r\n        <i className=\"mdi mdi-logout me-2 text-success\"></i>\r\n        Logout\r\n      </LogoutNavbarLink>\r\n    </li>\r\n  );\r\n\r\n  return (\r\n    <header className={isSticky ? 'sticky' : ''}>\r\n      <div className=\"top-bar\">\r\n        <Link to=\"mailto:hrpspl@prosoftsynergies.com\" target=\"_blank\" className=\"login-btn info-link\">\r\n          <span className=\"contact-text\" style={{ color: \"#03294f\" }}>Email Us</span>\r\n          <i className='fas fa-envelope ms-1 fa-2x' style={{ color: \"#03294f\" }}></i>\r\n        </Link>\r\n        <Link to=\"https://wa.me/+15129617007\" className=\"login-btn phone-link\" target=\"_blank\">\r\n          <span className=\"contact-text\" style={{ color: \"#03294f\" }}>Let's Connect On WhatsApp</span>\r\n          <i className='fab fa-whatsapp ms-1 fa-2x' style={{ color: \"#03294f\" }}></i>\r\n        </Link>\r\n      </div>\r\n      <nav className={`main-nav ${isSticky ? 'sticky' : ''}`}>\r\n        <div className=\"PSPL-Logo logo\">\r\n          <Link to=\"/\"><img src={Logo} alt='ProsoftSynergies' /></Link>\r\n        </div>\r\n\r\n        <div\r\n          className={`menu-toggle ${mobileMenuOpen ? 'active' : ''}`}\r\n          onClick={toggleMobileMenu}\r\n          aria-label=\"Toggle navigation menu\"\r\n        >\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n\r\n        <ul className={`nav-links ${mobileMenuOpen ? 'active' : ''}`}>\r\n          <li className={activeDropdown === 0 ? 'active' : ''}>\r\n            <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(0, e)}>\r\n              FOR BUSINESSES\r\n            </Link>\r\n            <div className=\"mega-menu wide\">\r\n              <div className=\"mega-menu-column\">\r\n                <h3>Industries & Recruitment Solutions</h3>\r\n                <ul>\r\n                  <li><Link to=\"/Information-Technology-Recruitment\" onClick={handleLinkClick}>Information Technology Recruitment</Link></li>\r\n                  <li><Link to=\"/Government-Ministry-Recruitment\" onClick={handleLinkClick}>Government Ministry Recruitment</Link></li>\r\n                  <li><Link to=\"/Healthcare-&-Medical-Recruitment\" onClick={handleLinkClick}>Healthcare & Medical Recruitment</Link></li>\r\n                  <li><Link to=\"/Manufacturing-Recruitment\" onClick={handleLinkClick}>Manufacturing Recruitment</Link></li>\r\n                  <li><Link to=\"/Admin-&-Office-Support-Recruitment\" onClick={handleLinkClick}>Administration & Office Support Recruitment</Link></li>\r\n                  <li><Link to=\"/Transport-&-Logistics-Recruitment\" onClick={handleLinkClick}>Transport & Logistics Recruitment</Link></li>\r\n                  <li><Link to=\"/Construction-&-Infrastructure-Recruitment\" onClick={handleLinkClick}>Construction and Infrastructure Recruitment</Link></li>\r\n                </ul>\r\n              </div>\r\n              <div className=\"mega-menu-column\">\r\n                <h3>Education Recruitment & Solutions</h3>\r\n                <ul>\r\n                  <li><Link to=\"/Education-Recruitment\" onClick={handleLinkClick}>Education Recruitment</Link></li>\r\n                </ul>\r\n              </div>\r\n              <div className=\"mega-menu-column\">\r\n                <h3>Health Solutions</h3>\r\n                <ul>\r\n                  <li><Link to=\"/Behavioral-Health-Solutions\" onClick={handleLinkClick}>Behavioral Health</Link></li>\r\n                  <li><Link to=\"/Health-Billing-&-Collections-Solutions\" onClick={handleLinkClick}>Health & Billing Collections</Link></li>\r\n                  <li><Link to=\"#\" onClick={handleLinkClick}>HealthCare Mergers & Acquisitions</Link></li>\r\n                  <li><Link to=\"#\" onClick={handleLinkClick}>Behavioral Health Credentialing & Contracting</Link></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </li>\r\n          <li className={activeDropdown === 1 ? 'active' : ''}>\r\n            <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(1, e)}>\r\n              JOB SEEKERS\r\n            </Link>\r\n            <div className=\"mega-menu\">\r\n              <h3>Career Opportunities</h3>\r\n              <ul>\r\n                <li><Link to=\"/Search-Jobs\" onClick={handleLinkClick}>Search Jobs</Link></li>\r\n                <li>\r\n                  {!auth.user ? (\r\n                    <Link to=\"/Login\" onClick={handleLinkClick}>Resume Upload</Link>\r\n                  ) : (() => {\r\n                    let linkPath = \"/PSPL-Access-Denied\";\r\n                    if (auth.user?.role === ROLE_JOBSEEKER) {\r\n                      linkPath = `/Applicant-Resume-Upload/${auth?.user?.userId}`;\r\n                    } else if (\r\n                      auth.user?.role === ROLE_ADMIN ||\r\n                      auth.user?.role === ROLE_EMPLOYER ||\r\n                      auth.user?.role === ROLE_SUPERADMIN\r\n                    ) {\r\n                      linkPath = \"/PSPL-Access-Denied\";\r\n                    }\r\n                    return <Link to={linkPath} onClick={handleLinkClick}>Resume Upload</Link>;\r\n                  })()}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </li>\r\n          <li className={activeDropdown === 2 ? 'active' : ''}>\r\n            <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(2, e)}>\r\n              EMPLOYERS\r\n            </Link>\r\n            <div className=\"mega-menu\">\r\n              <h3>ProsoftSynergies Solutions</h3>\r\n              <ul>\r\n                <li><Link to=\"/Permanent-Hiring-Solutions\" onClick={handleLinkClick}>Permanent Hiring Solutions</Link></li>\r\n                <li><Link to=\"/Tailored-Solutions-For-Employers\" onClick={handleLinkClick}>Tailored Solutions For Employers</Link></li>\r\n                <li><Link to=\"/Fluid-Workforce-Solutions\" onClick={handleLinkClick}>Fluid Workforce Solutions</Link></li>\r\n              </ul>\r\n            </div>\r\n          </li>\r\n          <li className={activeDropdown === 3 ? 'active' : ''}>\r\n            <Link to=\"/About-Us\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(3, e)}>\r\n              ABOUT US\r\n            </Link>\r\n            <div className=\"mega-menu\">\r\n              <h3>Our Company</h3>\r\n              <ul>\r\n                <li><Link to=\"/About-Us\" onClick={handleLinkClick}>About Us</Link></li>\r\n                <li><Link to=\"/Who-We-Are\" onClick={handleLinkClick}>Who We're</Link></li>\r\n                <li><Link to=\"/Our-Locations\" onClick={handleLinkClick}>Locations</Link></li>\r\n              </ul>\r\n            </div>\r\n          </li>\r\n          <li><Link to=\"/Contact-Us\" onClick={handleLinkClick}>CONTACT US</Link></li>\r\n\r\n          {/* Role-Based Mobile Menus */}\r\n          {auth.user && (\r\n            <>\r\n              {auth.user?.role === ROLE_ADMIN && (\r\n                <li className=\"mobile-more-menu\">\r\n                  <li className={activeDropdown === 4 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\r\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                      {getUserDisplayName(auth.user)}\r\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\r\n                    </Link>\r\n                    <div className=\"mega-menu\">\r\n                      <h3>Admin Quick Access</h3>\r\n                      <ul>\r\n                        {renderAdminMenuItems()}\r\n                        {renderLogoutItem()}\r\n                      </ul>\r\n                    </div>\r\n                  </li>\r\n                </li>\r\n              )}\r\n\r\n              {auth.user?.role === ROLE_SUPERADMIN && (\r\n                <li className=\"mobile-more-menu\">\r\n                  <li className={activeDropdown === 5 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\r\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(5, e)}>\r\n                      {getUserDisplayName(auth.user)}\r\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\r\n                    </Link>\r\n                    <div className=\"mega-menu\">\r\n                      <h3>Super Admin Quick Access</h3>\r\n                      <ul>\r\n                        {renderSuperAdminMenuItems()}\r\n                        {renderLogoutItem()}\r\n                      </ul>\r\n                    </div>\r\n                  </li>\r\n                </li>\r\n              )}\r\n\r\n              {auth.user?.role === ROLE_EMPLOYER && (\r\n                <li className=\"mobile-more-menu\">\r\n                  <li className={activeDropdown === 4 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\r\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                      <img\r\n                        className=\"profile-image me-2\"\r\n                        src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\r\n                        alt={getUserDisplayName(auth.user)}\r\n                        aria-label=\"User profile photo\"\r\n                        role=\"button\"\r\n                        style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\r\n                      />\r\n                      {getUserDisplayName(auth.user)}\r\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\r\n                    </Link>\r\n                    <div className=\"mega-menu\">\r\n                      <h3>Employer Quick Access</h3>\r\n                      <ul>\r\n                        <li>\r\n                          <Link to=\"#\" onClick={handleLinkClick}>\r\n                            <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n                          </Link>\r\n                        </li>\r\n                        <li><Link to=\"#\" onClick={handleLinkClick}>Account</Link></li>\r\n                        {renderLogoutItem()}\r\n                      </ul>\r\n                    </div>\r\n                  </li>\r\n                </li>\r\n              )}\r\n\r\n              {(auth.user?.role !== ROLE_ADMIN && auth.user?.role !== ROLE_SUPERADMIN && auth.user?.role !== ROLE_EMPLOYER) && (\r\n                <li className=\"mobile-more-menu\">\r\n                  <li className={activeDropdown === 4 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\r\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                      <img\r\n                        className=\"profile-image me-2\"\r\n                        src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\r\n                        alt={getUserDisplayName(auth.user)}\r\n                        aria-label=\"User profile photo\"\r\n                        role=\"button\"\r\n                        style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\r\n                      />\r\n                      {getUserDisplayName(auth.user)}\r\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\r\n                    </Link>\r\n                    <div className=\"mega-menu\">\r\n                      <h3>Job Seeker Quick Access</h3>\r\n                      <ul>\r\n                        <li>\r\n                          <Link to=\"/Applicant-Profile-Dashboard\" onClick={() => { window.location.href = \"/Applicant-Profile-Dashboard\"; }}>\r\n                            <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n                          </Link>\r\n                        </li>\r\n                        <li>\r\n                          <Link to={`/Applicant/Profile/${auth?.user?.userId}`} onClick={() => { window.location.href = `/Applicant/Profile/${auth?.user?.userId}`; }}>\r\n                            <i className=\"mdi mdi-account-key menu-icon me-2 text-success\"></i> Account\r\n                          </Link>\r\n                        </li>\r\n                        {renderLogoutItem()}\r\n                      </ul>\r\n                    </div>\r\n                  </li>\r\n                </li>\r\n              )}\r\n            </>\r\n          )}\r\n        </ul>\r\n\r\n        <div className=\"cta-buttons\">\r\n          {!auth.user ? (\r\n            <>\r\n              <Link to=\"/Login\" className=\"cta-btn hPostJob-btn\">Post Job</Link>\r\n              <Link to=\"/Login\" className=\"cta-btn hLogin-btn\">Login</Link>\r\n            </>\r\n          ) : (\r\n            <>\r\n              {auth.user?.role === ROLE_ADMIN && (\r\n                <>\r\n                  <Link to=\"/Admin/Add-Job\" className=\"cta-btn hPostJob-btn\" onClick={() => { window.location.href = \"/Admin/Add-Job\"; }}>Post Job</Link>\r\n                  <div className=\"cta-dropdown\">\r\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\r\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                        <i className='mdi mdi-account-check me-2 text-primary' style={{ fontSize: \"30px\" }}></i>\r\n                        {getUserDisplayName(auth.user)}\r\n                      </Link>\r\n                      <div className=\"mega-menu\">\r\n                        <h3>Admin Quick Access</h3>\r\n                        <ul>\r\n                          {renderAdminMenuItems()}\r\n                          {renderLogoutItem()}\r\n                        </ul>\r\n                      </div>\r\n                    </li>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {auth.user?.role === ROLE_SUPERADMIN && (\r\n                <>\r\n                  <Link to=\"/Super-Admin/Add-Job\" className=\"cta-btn hPostJob-btn\" onClick={() => { window.location.href = \"/Super-Admin/Add-Job\"; }}>Post Job</Link>\r\n                  <div className=\"cta-dropdown\">\r\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\r\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                        <i className='mdi mdi-account-check me-2 text-primary' style={{ fontSize: \"30px\" }}></i>\r\n                        {getUserDisplayName(auth.user)}\r\n                      </Link>\r\n                      <div className=\"mega-menu\">\r\n                        <h3>Super Admin Quick Access</h3>\r\n                        <ul>\r\n                          {renderSuperAdminMenuItems()}\r\n                          {renderLogoutItem()}\r\n                        </ul>\r\n                      </div>\r\n                    </li>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {auth.user?.role === ROLE_EMPLOYER && (\r\n                <>\r\n                  <Link to=\"#\" className=\"cta-btn hPostJob-btn\">Post Job</Link>\r\n                  <div className=\"cta-dropdown\">\r\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\r\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                        <img\r\n                          className=\"profile-image me-2\"\r\n                          src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\r\n                          alt={getUserDisplayName(auth.user)}\r\n                          aria-label=\"User profile photo\"\r\n                          role=\"button\"\r\n                          style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\r\n                        />\r\n                        {getUserDisplayName(auth.user)}\r\n                      </Link>\r\n                      <div className=\"mega-menu\">\r\n                        <h3>Employer Quick Access</h3>\r\n                        <ul>\r\n                          <li>\r\n                            <Link to=\"#\" onClick={handleLinkClick}>\r\n                              <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n                            </Link>\r\n                          </li>\r\n                          <li><Link to=\"#\" onClick={handleLinkClick}>Account</Link></li>\r\n                          {renderLogoutItem()}\r\n                        </ul>\r\n                      </div>\r\n                    </li>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {(auth.user?.role !== ROLE_ADMIN && auth.user?.role !== ROLE_SUPERADMIN && auth.user?.role !== ROLE_EMPLOYER) && (\r\n                <>\r\n                  <Link to=\"/Search-Jobs\" className=\"cta-btn hPostJob-btn\">Find A Job</Link>\r\n                  <div className=\"cta-dropdown\">\r\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\r\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                        <img\r\n                          className=\"profile-image me-2\"\r\n                          src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\r\n                          alt={getUserDisplayName(auth.user)}\r\n                          aria-label=\"User profile photo\"\r\n                          role=\"button\"\r\n                          style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\r\n                        />\r\n                        {getUserDisplayName(auth.user)}\r\n                      </Link>\r\n                      <div className=\"mega-menu\">\r\n                        <h3>Job Seeker Quick Access</h3>\r\n                        <ul>\r\n                          <li>\r\n                            <Link to=\"/Applicant-Profile-Dashboard\" onClick={() => { window.location.href = \"/Applicant-Profile-Dashboard\"; }}>\r\n                              <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n                            </Link>\r\n                          </li>\r\n                          <li>\r\n                            <Link to={`/Applicant/Profile/${auth?.user?.userId}`} onClick={() => { window.location.href = `/Applicant/Profile/${auth?.user?.userId}`; }}>\r\n                              <i className=\"mdi mdi-account-key menu-icon me-2 text-success\"></i> Account\r\n                            </Link>\r\n                          </li>\r\n                          {renderLogoutItem()}\r\n                        </ul>\r\n                      </div>\r\n                    </li>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default TestHomeHeader;\r\n","import React from \"react\";\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useAuth } from \"../../Context/AuthContext\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n// Toast configuration constants\r\nconst TOAST_CONFIG = {\r\n  position: \"top-center\",\r\n  autoClose: 5000,\r\n  closeOnClick: true,\r\n  pauseOnHover: true,\r\n  theme: \"light\"\r\n};\r\n\r\n/**\r\n * Custom hook to handle logout logic\r\n * @returns {Object} Object containing handleLogout function\r\n */\r\nexport const useLogout = () => {\r\n  const [auth, setAuth] = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n \r\n  const notifyError = (msg) => toast.error(msg, TOAST_CONFIG);\r\n  const notifySuccess = (msg) => toast.success(msg, TOAST_CONFIG);\r\n \r\n  const handleLogout = () => {\r\n    try {\r\n      setAuth({ ...auth, user: null, token: \"\" });\r\n      localStorage.removeItem(\"userAuthDetails\");\r\n      notifySuccess(\"You have Logged Out Successfully!\");\r\n      navigate(location.state || \"/Login\");\r\n      \r\n      // Consider using navigate with a refresh parameter instead of manual reload\r\n      // This avoids potential memory leaks or incomplete navigation\r\n      window.location.reload();\r\n    } catch (error) {\r\n      console.error(\"Logout error:\", error);\r\n      notifyError(\"Something went wrong during logout!\");\r\n    }\r\n  };\r\n \r\n  return { handleLogout };\r\n};\r\n\r\n/**\r\n * Logout Button Component - can be used as a standalone component\r\n * @param {Object} props - Component props\r\n * @param {string} props.className - Optional CSS class\r\n * @param {React.ReactNode} props.children - Optional custom content\r\n */\r\nconst LogoutButton = ({ className, children }) => {\r\n  const { handleLogout } = useLogout();  \r\n \r\n  return (\r\n    <button\r\n      onClick={handleLogout}\r\n      className={className || \"logout-button\"}\r\n      type=\"button\" // Explicitly define button type for better accessibility\r\n    >\r\n      {children || (\r\n        <>          \r\n         <span className=\"menu-title\">Logout</span>\r\n         <i className=\"mdi mdi-logout menu-icon\"></i>\r\n        </>\r\n      )}\r\n    </button>\r\n  );\r\n};\r\n\r\n/**\r\n * Logout Link Component - for use within navigation that requires <Link>\r\n * @param {Object} props - Component props\r\n * @param {string} props.className - Optional CSS class\r\n * @param {string} props.to - Optional target path (unused)\r\n * @param {React.ReactNode} props.children - Optional custom content\r\n */\r\nconst LogoutLink = ({ className, to = \"/Test-Login\", children }) => {\r\n  const { handleLogout } = useLogout();\r\n \r\n  return (\r\n    <Link\r\n      to=\"#\"\r\n      className={className || \"menu-title\"}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        handleLogout();\r\n      }}\r\n    >\r\n      {children || (\r\n        <>\r\n          <span className=\"menu-title\">Logout</span>\r\n          <i className=\"mdi mdi-logout menu-icon\"></i>\r\n        </>\r\n      )}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport { LogoutButton, LogoutLink };\r\nexport default LogoutLink;"],"names":["Modal","STORAGE_USER_KEY","process","STORAGE_INPUT_KEY","REACT_APP_CHAT_INPUT_KEY","timeAgo","ts","d","Date","diff","Math","floor","now","getTime","toLocaleDateString","defaultAvatar","getProfileImageSrc","userPhoto","arguments","length","undefined","startsWith","ChatBotIcon","socket","isConnected","useSocket","auth","useAuth","userFromAuth","user","input","setInput","useState","isOpen","setIsOpen","session","setSession","messages","setMessages","businessInfo","setBusinessInfo","unreadCount","setUnreadCount","showGuestForm","setShowGuestForm","isSubmittingGuest","setIsSubmittingGuest","guestFormSubmitted","setGuestFormSubmitted","guestFormErrors","setGuestFormErrors","defaultMessagesLoaded","setDefaultMessagesLoaded","pendingMessages","setPendingMessages","Set","guestInfo","setGuestInfo","firstName","lastName","email","phone","audioRef","useRef","messagesEndRef","userFormSubmitted","useMemo","logWithIcon","success","active","needsGuestForm","result","guest","storageKey","_id","id","useEffect","savedInput","localStorage","getItem","trim","error","console","warn","timeoutId","setTimeout","setItem","removeItem","clearTimeout","raw","u","JSON","parse","hasRequiredInfo","Boolean","log","stringify","current","scrollIntoView","behavior","beepUrl","Audio","normalizeMessage","useCallback","msg","_msg$metadata","_session$agent","_msg$metadata2","random","text","message","createdAt","timestamp","from","senderType","avatar","metadata","senderAvatar","agent","photo","FavIconLogo","quickReplies","handleIncomingMessage","rawMsg","prevMessages","some","existingMsg","abs","prev","newPending","pendingId","includes","substring","delete","n","play","catch","onSessionCreated","payloadRaw","_payloadRaw$body","payload","body","data","sess","businessHours","welcomeMessage","onMessageNew","onMessageStatus","_ref","messageId","status","map","m","on","off","createSession","async","connected","hasSocket","hasSession","sessionData","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","entryPoint","selectedOption","firstname","lastname","authenticatedUser","userId","guestEmail","guestFirstName","guestLastName","guestPhone","emit","err","_result$body","sendMessage","sessionId","messageType","draft","handleQuickReply","option","value","initializeChatSession","biz","res","API","get","fetchBusinessHours","outsideHoursMessage","outsideHoursOptions","handleGuestFormChange","e","name","target","_jsxs","className","children","onClick","next","_jsx","handleHeaderClick","style","cursor","stopPropagation","Link","to","src","alt","renderMessage","index","_m$quickReplies","isUser","qr","i","ref","onChange","placeholder","onKeyDown","key","disabled","onRequestClose","overlayClassName","shouldCloseOnOverlayClick","submit","color","marginBottom","type","required","fontSize","errors","validateGuestForm","test","Object","keys","response","post","_error$response","_error$response$data","Footer","_auth$user","_auth$user2","_auth$user5","_auth$user6","currentYear","getFullYear","setAuth","setUser","params","useParams","useNavigate","fetchRegUserById","useLocation","_Fragment","role","window","location","href","_auth$user3","userRole","linkPath","_auth$user4","LogoutLink","FaLinkedin","FaFacebook","BsTwitterX","FaWhatsapp","TestHomeHeader","_auth$user7","_auth$user8","_auth$user9","_auth$user0","_auth$user1","_auth$user10","_auth$user11","_auth$user12","_auth$user14","_auth$user15","_auth$user16","_auth$user17","_auth$user18","_auth$user19","_auth$user20","_auth$user21","_auth$user22","mobileMenuOpen","setMobileMenuOpen","activeDropdown","setActiveDropdown","isSticky","setIsSticky","handleScroll","scrollY","addEventListener","removeEventListener","toggleDropdown","innerWidth","preventDefault","handleLinkClick","handleClickOutside","closest","handleResize","document","getUserDisplayName","userObj","first_name","last_name","renderAdminMenuItems","renderSuperAdminMenuItems","renderLogoutItem","LogoutNavbarLink","Logo","toggleMobileMenu","borderRadius","height","width","_auth$user13","_auth$user23","TOAST_CONFIG","position","autoClose","closeOnClick","pauseOnHover","theme","useLogout","navigate","handleLogout","token","toast","state","reload","notifyError","_ref2"],"sourceRoot":""}