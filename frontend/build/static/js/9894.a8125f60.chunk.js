"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9894],{1002:(e,t,s)=>{s.d(t,{A:()=>l});var n=s(2483),a=s(3376),o=s(1428),i=s(6723);const c=()=>(0,i.jsx)("div",{className:"container text-center",children:(0,i.jsx)("div",{className:"spinner-border",role:"status",children:(0,i.jsx)("span",{className:"sr-only",children:"Loading..."})})}),l=e=>{let{handleSubmit:t,value:s,setValue:l}=e;const r=(0,a.Zp)(),[d,u]=(0,n.useState)(!1);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("form",{onSubmit:t,layout:"vertical",className:"form_data platform-form",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsxs)("div",{className:"col-md-10 mx-auto",children:[(0,i.jsxs)("div",{className:"form boxed",children:[(0,i.jsxs)("label",{htmlFor:"sectorName",tooltip:"Sector Name is Required",children:[(0,i.jsx)(o.A,{style:{marginRight:"5px",marginTop:"40PX;"}}),"Sector Name :"]}),(0,i.jsx)("input",{placeholder:"Enter Sector Name",type:"text",className:"form-control rounded-0 mb-4 mt-2",value:s,onChange:e=>l(e.target.value)})]}),(0,i.jsxs)("div",{class:"text-xs-left mt-3 col-md-12",children:[(0,i.jsxs)("button",{class:"btn btn-primary rounded-0 me-3",disabled:d,children:[(0,i.jsx)("i",{className:"fas fa-plus me-2"}),d?(0,i.jsx)(c,{}):"Submit"]}),(0,i.jsxs)("button",{class:"btn btn-warning rounded-0",onClick:()=>{r("/Admin/Manage-Work-Authorizations")},children:[(0,i.jsx)("i",{className:"fas fa-times"})," Cancel"]})]})]})})})})}},8674:(e,t,s)=>{s.d(t,{A:()=>l});var n=s(8168),a=s(2483);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var i=s(9386),c=function(e,t){return a.createElement(i.A,(0,n.A)({},e,{ref:t,icon:o}))};const l=a.forwardRef(c)},9894:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var n=s(2483),a=s(3376),o=s(9891),i=s(6807),c=s(8054),l=s(1002),r=s(8674),d=s(1428),u=s(3056),h=s(2116),m=s(4984),x=(s(2574),s(2821)),p=s.n(x),g=(s(3253),s(1664),s(328),s(3749),s(1025),s(4505),s(7749),s(6905)),A=s(2713),j=s(2656),f=s(1957),v=s(8453),b=s(5716),k=s(9303),N=s(6723);const w=()=>{const e=window.location.href,[t,s]=(0,n.useState)(!0),[x,w]=(0,n.useState)(!1),[S,y]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(0,g.A)(),(0,A.A)(),(0,j.A)(),(0,f.A)(),p()('[data-toggle="minimize"]').on("click",function(){p()("body").toggleClass("sidebar-icon-only")}),p()('[data-toggle="offcanvas"]').on("click",function(){p()(".sidebar-offcanvas").toggleClass("active")}),p()("#fullscreen-button").on("click",function(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()})},[]);const[z,E]=(0,n.useState)(!1),[W,C]=(0,n.useState)(!1);(0,n.useEffect)(()=>{function e(e){e.target.closest(".dropdown")||(w(!1),y(!1),C(!1))}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,n.useEffect)(()=>{(0,g.A)(),(0,A.A)(),(0,j.A)(),(0,f.A)();const e=document.getElementById("fullscreen-button");return e&&e.addEventListener("click",()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()}),()=>{e&&e.removeEventListener("click",()=>{})}},[]);const[F,L]=(0,n.useState)(!1),M=((0,n.useRef)(null),(0,a.Zp)()),O=e=>m.oR.error(e,{position:"top-center",autoClose:2e4,closeOnClick:!0,pauseOnHover:!0,theme:"light"}),R=e=>m.oR.success(e,{position:"top-center",autoClose:2e4,closeOnClick:!0,pauseOnHover:!0,theme:"light"}),[T,D]=(0,n.useState)(""),[H,B]=(0,n.useState)([]),[I,_]=(0,n.useState)(""),[q,U]=(0,n.useState)(!1),[V,Z]=(0,n.useState)(null),[P,X]=(0,n.useState)(""),[G,J]=(0,n.useState)(0),[K,Q]=(0,n.useState)(0),[Y,$]=(0,n.useState)(1),[ee,te]=(0,n.useState)(10),[se,ne]=(0,n.useState)(!0),[ae,oe]=(0,n.useState)(null),[ie,ce]=(0,n.useState)(null);(0,n.useEffect)(()=>{le()},[]);const le=async()=>{try{const{data:e}=await c.A.get("/api/v1/workAuthorization/fetchWorkAuthorizations");null!==e&&void 0!==e&&e.success&&B(null===e||void 0===e?void 0:e.workAuthorization)}catch(ae){console.log(ae),O("Oppss!!, FAILED, Something went Wrong Retrieving all Work Authorizations")}};(0,n.useEffect)(()=>{le(),window.scrollTo({top:0}),window.history.pushState&&window.history.pushState(null,null,"/Admin/Manage-Work-Authorizations/?page=".concat(Y))},[Y,ee]);return(0,N.jsxs)("div",{className:"container-scroller",children:[(0,N.jsxs)(i.m,{children:[(0,N.jsx)("link",{rel:"canonical",href:e}),(0,N.jsx)("title",{children:"Admin Manage Work Authorizations | ThinkBeyond"}),(0,N.jsx)("meta",{name:"description",content:"Admin Manage Work Authorizations | ThinkBeyond"})]}),(0,N.jsx)(v.A,{toggleMinimize:()=>{p()("body").toggleClass("sidebar-icon-only")},toggleMobileSidebar:()=>{E(!z)}}),(0,N.jsxs)("div",{className:"container-fluid page-body-wrapper",children:[(0,N.jsx)(b.A,{isOpen:z}),(0,N.jsxs)("div",{className:"main-panel",children:[(0,N.jsxs)("div",{className:"content-wrapper",children:[(0,N.jsxs)("div",{className:"page-header",children:[(0,N.jsxs)("h3",{className:"page-title",children:[(0,N.jsx)("span",{className:"page-title-icon bg-gradient-primary text-white me-2",children:(0,N.jsx)("i",{className:"mdi mdi-file-check"})})," Manage Work Authorizations"]}),(0,N.jsx)("strong",{children:(0,N.jsx)("span",{children:(0,N.jsx)(o.N_,{to:"/Admin/Add-Work-Authorization",className:"btn btn-success",children:"Add New"})})})]}),(0,N.jsx)("div",{className:"row",children:(0,N.jsx)("div",{className:"col-12 grid-margin",children:(0,N.jsxs)("div",{className:"card",children:[(0,N.jsxs)("div",{className:"card-body",children:[(0,N.jsx)("h4",{className:"card-title",children:"List Of Work Authorizations"}),(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsxs)("table",{className:"table",children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{children:"Work Authorization Type"}),(0,N.jsx)("th",{children:"Actions"})]})}),(0,N.jsx)("tbody",{children:H.map(e=>(0,N.jsxs)("tr",{className:"tableRow",children:[(0,N.jsx)("td",{children:(0,N.jsx)("span",{class:"truncate",children:e.workAuthorizationName})}),(0,N.jsxs)("td",{children:[(0,N.jsx)("button",{class:"btn btn-sm btn-outline-primary rounded-5 me-3",onClick:()=>{U(!0),X(e.workAuthorizationName),Z(e)},children:(0,N.jsx)(d.A,{})}),(0,N.jsx)(u.Ay,{onClick:()=>(async e=>{try{const{data:t}=await c.A.delete("/api/v1/workAuthorization/deleteWorkAuthorizationById/".concat(e),{workAuthorizationName:P});t.success?(R("Work Authorization has been Deleted Successfully!!"),M(0),le()):O(t.message)}catch(ae){console.log(ae),O("Oppss!!, FAILED, Something went Wrong Deleting This Work Authorization")}})(e._id),className:"btn btn-sm btn-outline-secondary rounded-5",type:"danger",icon:(0,N.jsx)(r.A,{})})]})]},e._id))})]})})]}),(0,N.jsx)(h.A,{onCancel:()=>U(!1),footer:null,open:q,children:(0,N.jsx)(l.A,{value:P,setValue:X,handleSubmit:async e=>{e.preventDefault();try{const{data:e}=await c.A.put("/api/v1/workAuthorization/updateWorkAuthorization/".concat(V._id),{workAuthorizationName:P});e.success?(R("".concat(P," has been Updated Successfully!!")),Z(null),X(""),U(!1),le()):O(e.message)}catch(ae){console.log(ae),O("Oppss!!, FAILED, Something went Wrong Updating This Work Authorization Type")}}})})]})})})]}),(0,N.jsx)(k.A,{})]})]})]})}}}]);
//# sourceMappingURL=9894.a8125f60.chunk.js.map