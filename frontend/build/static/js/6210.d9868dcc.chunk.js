"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6210],{6210:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var n=t(2483),a=t(6807),o=t(3376),r=t(9891),i=t(1458),l=t(9859),c=t(6113),d=t(5257),u=t(4984),m=(t(2574),t(6723));const h=()=>{const e=window.location.href,[s,t]=(0,n.useState)(""),h=/^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/,[g,p]=(0,n.useState)(""),[x,f,v]=(0,l.A)(),[j,b]=(0,n.useState)({}),[y,w]=(0,n.useState)(!1),[N,S]=(0,n.useState)(null),A=(0,o.g)(),C=(0,o.Zp)(),k=(0,o.zy)(),[P,E]=(0,n.useState)(!1),L=e=>u.oR.error(e,{position:"top-center",autoClose:5e3,closeOnClick:!0,pauseOnHover:!0,theme:"light"}),I=e=>{var s;switch(e){case 1:return"/Admin/Dashboard";case 2:return"/Employer/Dashboard";case 3:return"/Super-Admin/Dashboard";case 0:return`/Applicant/Profile/${null===x||void 0===x||null===(s=x.user)||void 0===s?void 0:s.userId}`;default:return null}};(0,n.useEffect)(()=>{if(v&&null!==x&&void 0!==x&&x.user&&null!==x&&void 0!==x&&x.token){const e=I(x.user.role);e&&(console.log("User already authenticated, redirecting to:",e),S(e))}},[v,null===x||void 0===x?void 0:x.user,null===x||void 0===x?void 0:x.token]),(0,n.useEffect)(()=>{null!==A&&void 0!==A&&A._id&&(async()=>{try{const{data:e}=await i.A.get(`/api/v1/users/fetchRegUserById/${A._id}`);b(e.user)}catch(e){console.error("Error fetching user:",e),L("Failed to fetch user information")}})()},[null===A||void 0===A?void 0:A._id]),(0,n.useEffect)(()=>{if(new URLSearchParams(k.search).get("userAuthDetails")){E(!0)}},[k.search]);return N?(0,m.jsx)(o.C5,{to:N,replace:!0}):v?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(a.m,{children:[(0,m.jsx)("link",{rel:"canonical",href:e}),(0,m.jsx)("title",{children:"Login - ProsoftSynergies | Canada, US & India ProsoftSynergies"}),(0,m.jsx)("meta",{name:"description",content:"Login to ProsoftSynergies, One of the Leading Global Job Platform Connecting Employers and Job Seekers Across Canada, the US, and India. Secure Access To Your Account and Explore Endless Career Opportunities."}),(0,m.jsx)("meta",{name:"keywords",content:"ProsoftSynergies Website, Job Portal, Login, Sign In, Job Search, Career Opportunities, Canada jobs, US Jobs, India Jobs, Employment, Job Seekers, Employer Login"}),(0,m.jsx)("meta",{name:"author",content:"ProsoftSynergies"}),(0,m.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,m.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,m.jsx)(c.A,{}),(0,m.jsx)("div",{className:"container-fluid px-4 py-5 mx-auto",children:(0,m.jsx)("div",{className:"card card0",children:(0,m.jsxs)("div",{className:"d-flex flex-lg-row flex-column-reverse",children:[(0,m.jsx)("div",{className:"card card1",children:(0,m.jsx)("div",{className:"row justify-content-center my-auto",children:(0,m.jsxs)("div",{className:"col-md-8 col-10 my-5",children:[(0,m.jsx)("div",{className:"row justify-content-center px-5 mb-3"}),(0,m.jsx)("h3",{className:"mb-5 text-center heading mt-5",children:"We Are ProSoft"}),(0,m.jsx)("h6",{className:"msg-info",children:"Please Login to Your ProSoft Account"}),(0,m.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),w(!0),!s)return L("Email Field Cannot be Empty"),void w(!1);if(!h.test(s))return L("Invalid Email Address"),void w(!1);if(!g)return L("Password Field Cannot be Empty"),void w(!1);try{const e=await i.A.post("/api/v1/auth/login",{email:s,password:g},{headers:{"Access-Control-Max-Age":86400}});if(e.data.success){var t;n=null===(t=e.data)||void 0===t?void 0:t.message,u.oR.success(n,{position:"top-center",autoClose:3e3,closeOnClick:!0,pauseOnHover:!0,theme:"light"});const s={user:e.data.user,token:e.data.token};f(s);const a=I(e.data.user.role);a&&(console.log("Login successful, redirecting to:",a),C(a,{replace:!0}))}else L(e.data.message)}catch(a){console.error("Login error:",a),a.response&&400===a.response.status?L("Invalid Login Credential!"):L("Something Went Wrong, Login Failed!!!. Try Again Later")}finally{w(!1)}var n},children:[(0,m.jsx)("div",{className:"form-group",children:(0,m.jsx)("input",{type:"email",id:"email",placeholder:"Email",className:"loginFormInput form-control mb-3",value:s,onChange:e=>t(e.target.value),disabled:y})}),(0,m.jsx)("div",{className:"form-group",children:(0,m.jsx)("input",{type:"password",placeholder:"Password",className:"loginFormInput form-control",value:g,onChange:e=>p(e.target.value),disabled:y})}),(0,m.jsx)("div",{className:"row justify-content-center my-2 px-2 loginbtn",children:(0,m.jsx)("button",{type:"submit",className:"btn-block btn-color",disabled:y,children:y?"Logging in...":"Login"})}),(0,m.jsx)("div",{className:"row justify-content-center my-2 forgotpassword",children:(0,m.jsx)(r.N_,{to:"/Forgot-Password-Reset-Request",children:(0,m.jsx)("small",{className:"text-muted",children:"Forgot Password?"})})}),(0,m.jsx)("div",{className:"bottom text-center mb-5",children:(0,m.jsxs)("p",{className:"sm-text mx-auto mb-3",children:["Don't have an account?",(0,m.jsx)("button",{className:"btn btn-white ms-3",children:(0,m.jsx)(r.N_,{to:"/Register",children:"Register"})})]})})]})]})})}),(0,m.jsx)("div",{className:"card card2",children:(0,m.jsxs)("div",{className:"my-auto mx-md-5 px-md-5 right",children:[(0,m.jsx)("h3",{className:"text-white",children:"We're More Than Just Recruitment Specialists"}),(0,m.jsx)("small",{className:"text-white",children:"By leveraging cutting-edge strategies and a deep understanding of the market, we not only fill positions but also foster long-term partnerships that drive business growth and success. Our team is dedicated to crafting tailored solutions that align with the unique needs of each client, ensuring seamless integration of top talent into their organizations."})]})})]})})}),(0,m.jsx)(d.A,{})]}):(0,m.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,m.jsx)("div",{className:"spinner-border",role:"status",children:(0,m.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}}}]);
//# sourceMappingURL=6210.d9868dcc.chunk.js.map