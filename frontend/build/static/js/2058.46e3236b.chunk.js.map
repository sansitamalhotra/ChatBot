{"version":3,"file":"static/js/2058.46e3236b.chunk.js","mappings":"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","sources":["components/ChatBotIcon/ping.js","components/ChatBotIcon/ChatBotIcon.jsx","Pages/Footer.jsx","Pages/TestHomeHeader.jsx","Pages/Logout/Logout.jsx"],"sourcesContent":["const createPingSound = () => {\n  // Simple WAV file data URL with a short beep\n  // This is a minimal WAV file containing a 440Hz tone for about 200ms\n  const wavData = \"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmgfCdKR2/LVdiMFl5qQ0NJhJwAVZrXn6UoMCtmr5uW5bhoFl6mc0dVmDAOJmdR+UD0hD2K76dVrHwgXirLe2HIqBTyDyfHchzIFC0G25+mxWhAJYKHV7b1qLwU0g8rx34k1BTGByvHciEAHGGy88tyWPgUmfMs+4YlEBTqByvHci0EGH3LB9deWP\";\n  \n  return wavData;\n};\n\n// Export the ping sound\nconst beepUrl = createPingSound();\nexport default beepUrl;\n","// frontend/src/components/ChatBotIcon/ChatBotIcon.jsx\nimport React, { useEffect, useRef, useState, useMemo, useCallback } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport ReactDOM from \"react-dom\";\nimport API from \"../../helpers/API\";\nimport { useSocket } from \"../../Context/SocketContext\";\nimport { useAuth } from \"../../Context/AuthContext\";\nimport { logWithIcon } from \"../../utils/consoleIcons\";\nimport \"./ChatBotIcon.css\";\nimport beepUrl from \"./ping\";\nimport FavIconLogo from \"./FaviIcon-Logo.png\";\nimport Modal from 'react-modal';\n\nModal.setAppElement('#root');\n\nconst STORAGE_USER_KEY = process.env.REACT_APP_CHAT_STORAGE_USER_KEY || \"chat_widget_userinfo_v1\";\nconst STORAGE_MESSAGES_PREFIX = process.env.REACT_APP_CHAT_STORAGE_MESSAGES_PREFIX || \"chat_widget_messages_v1_\";\nconst STORAGE_INPUT_KEY = process.env.REACT_APP_CHAT_INPUT_KEY || \"chat_widget_input_text\";\n\nfunction timeAgo(ts) {\n  if (!ts) return \"\";\n  const d = new Date(ts);\n  const diff = Math.floor((Date.now() - d.getTime()) / 1000);\n  if (diff < 10) return \"just now\";\n  if (diff < 60) return `${diff}s`;\n  if (diff < 3600) return `${Math.floor(diff / 60)}m`;\n  if (diff < 86400) return `${Math.floor(diff / 3600)}h`;\n  return d.toLocaleDateString();\n}\n\nconst defaultAvatar =\n  \"https://img.freepik.com/premium-vector/account-icon-user-icon-vector-graphics_292645-552.jpg?w=300\";\n\nconst getProfileImageSrc = (userPhoto, isGuest = false) => {\n  if (isGuest) return defaultAvatar;\n  if (!userPhoto) return \"\";\n  const isUploadPath =\n    typeof userPhoto === \"string\" &&\n    userPhoto.startsWith(\"/uploads/userAvatars/\");\n  return isUploadPath\n    ? process.env.REACT_APP_API_URL + userPhoto\n    : userPhoto;\n};\n\n// Fixed fetchBusinessHours function with proper timezone and error handling\nasync function fetchBusinessHours() {\n  try {\n    logWithIcon.info('Fetching business hours with Toronto timezone...');\n    const res = await API.get(`/api/v1/businessHours/checkBusinessHoursStatus`, {\n      params: {\n        timezone: 'America/Toronto' // Toronto timezone (EST/EDT)\n      }\n    });\n    \n    if (res.data && res.data.success && res.data.data) {\n      const businessData = res.data.data;\n      logWithIcon.success('Business hours fetched successfully:', {\n        isOpen: businessData.isOpen,\n        timezone: businessData.timezone,\n        currentTime: businessData.currentTime\n      });\n      return businessData;\n    } else {\n      logWithIcon.warning('Business hours API returned unexpected format:', res.data);\n      return null;\n    }\n  } catch (err) {\n    logWithIcon.error(\"Failed to fetch business hours:\", err);\n    return null;\n  }\n}\n\nconst ChatBotIcon = () => {\n  const { socket, isConnected } = useSocket();\n  const [auth] = useAuth();\n  const userFromAuth = auth?.user;\n  const navigate = useNavigate();\n\n  const [input, setInput] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const [session, setSession] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [businessInfo, setBusinessInfo] = useState(null);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [showGuestForm, setShowGuestForm] = useState(false);\n  \n  const [isSubmittingGuest, setIsSubmittingGuest] = useState(false);\n  const [guestFormSubmitted, setGuestFormSubmitted] = useState(false);\n  const [guestFormErrors, setGuestFormErrors] = useState({});\n  const [defaultMessagesLoaded, setDefaultMessagesLoaded] = useState(false);\n  const [hasUserSentMessage, setHasUserSentMessage] = useState(false);\n  const [showQuitConfirm, setShowQuitConfirm] = useState(false);\n  const [pendingMessages, setPendingMessages] = useState(new Set());\n  const [isQuitting, setIsQuitting] = useState(false);\n\n  const [guestInfo, setGuestInfo] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: ''\n  });\n\n  const audioRef = useRef(null);\n  const messagesEndRef = useRef(null);\n  const quitTimeoutRef = useRef(null);\n  const businessHoursIntervalRef = useRef(null);\n\n  const userFormSubmitted = useMemo(() => {\n    if (userFromAuth) {\n      logWithIcon.success('User is authenticated:', userFromAuth.email);\n      return true;\n    }\n    logWithIcon.active('Guest form submission status:', guestFormSubmitted);\n    return guestFormSubmitted;\n  }, [userFromAuth, guestFormSubmitted]);\n\n  const shouldShowGuestForm = useMemo(() => {\n    const result = !userFromAuth && !guestFormSubmitted;\n    logWithIcon.guest('Should show guest form:', {\n      userFromAuth: !!userFromAuth,\n      guestFormSubmitted,\n      result\n    });\n    return result;\n  }, [userFromAuth, guestFormSubmitted]);\n\n  const storageKey = useMemo(\n    () => STORAGE_MESSAGES_PREFIX + (session?._id || session?.id || \"guest\"),\n    [session]\n  );\n\n  // Enhanced quit functionality with comprehensive cleanup\n  const handleQuit = useCallback(async () => {\n    if (isQuitting) {\n      console.warn('Quit already in progress, ignoring duplicate request');\n      return;\n    }\n\n    console.log('Starting enhanced quit sequence...');\n    setIsQuitting(true);\n\n    try {\n      // 1. Clear business hours interval immediately\n      if (businessHoursIntervalRef.current) {\n        clearInterval(businessHoursIntervalRef.current);\n        businessHoursIntervalRef.current = null;\n      }\n\n      // 2. Immediately clear UI state to prevent freezing\n      setShowQuitConfirm(false);\n      setIsOpen(false);\n\n      // 3. Use setTimeout to defer heavy operations\n      setTimeout(() => {\n        // 4. Socket cleanup (non-blocking)\n        if (socket?.connected && session) {\n          socket.emit('session:end', { \n            sessionId: session._id || session.id \n          });\n          console.log('Socket session end signal sent');\n        }\n\n        // 5. Batch state updates to prevent multiple re-renders\n        ReactDOM.unstable_batchedUpdates(() => {\n          setMessages([]);\n          setSession(null);\n          setUnreadCount(0);\n          setDefaultMessagesLoaded(false);\n          setHasUserSentMessage(false);\n          setPendingMessages(new Set());\n          setInput(\"\");\n          setBusinessInfo(null); // Clear business info on quit\n        });\n\n        // 6. Reset guest form states if applicable\n        if (!userFromAuth) {\n          setShowGuestForm(false);\n          setGuestFormSubmitted(false);\n          setGuestFormErrors({});\n          setIsSubmittingGuest(false);\n          setGuestInfo({\n            firstName: '',\n            lastName: '',\n            email: '',\n            phone: ''\n          });\n        }\n\n        // 7. localStorage cleanup (asynchronous)\n        setTimeout(() => {\n          try {\n            const currentSessionKey = session ? (STORAGE_MESSAGES_PREFIX + (session.id || session._id)) : null;\n            \n            if (currentSessionKey) {\n              localStorage.removeItem(currentSessionKey);\n              console.log(`Cleared current session: ${currentSessionKey}`);\n            }\n            \n            // Clean up all chat-related storage\n            const keysToRemove = [];\n            for (let i = 0; i < localStorage.length; i++) {\n              const key = localStorage.key(i);\n              if (key && key.startsWith(STORAGE_MESSAGES_PREFIX)) {\n                keysToRemove.push(key);\n              }\n            }\n            \n            keysToRemove.forEach(key => {\n              localStorage.removeItem(key);\n              console.log(`Cleaned up: ${key}`);\n            });\n            \n            // Clear input and guest info if needed\n            localStorage.removeItem(STORAGE_INPUT_KEY);\n            \n            if (!userFromAuth) {\n              localStorage.removeItem(STORAGE_USER_KEY);\n              console.log('Cleared guest user information');\n            }\n            \n            console.log('localStorage cleanup completed');\n          } catch (error) {\n            console.warn('localStorage cleanup error (non-critical):', error);\n          }\n        }, 0);\n\n        console.log('Enhanced quit sequence completed successfully');\n        \n        // 8. Reset isQuitting after cleanup is complete\n        setIsQuitting(false);\n      }, 0);\n      \n    } catch (error) {\n      console.error('Error during quit sequence:', error);\n      setIsQuitting(false);\n    }\n  }, [session, userFromAuth, socket]);\n\n  // Reset chat to completely initial state\n  const resetChatToInitialState = useCallback(() => {\n    if (isQuitting) return; // Prevent conflicts\n    \n    console.log('Resetting chat to initial state...');\n    \n    // Clear business hours interval\n    if (businessHoursIntervalRef.current) {\n      clearInterval(businessHoursIntervalRef.current);\n      businessHoursIntervalRef.current = null;\n    }\n    \n    // Batch all state updates\n    const resetState = () => {\n      setInput(\"\");\n      setIsOpen(false);\n      setSession(null);\n      setMessages([]);\n      setBusinessInfo(null);\n      setUnreadCount(0);\n      setShowGuestForm(false);\n      setIsSubmittingGuest(false);\n      setGuestFormSubmitted(false);\n      setGuestFormErrors({});\n      setDefaultMessagesLoaded(false);\n      setHasUserSentMessage(false);\n      setShowQuitConfirm(false);\n      setPendingMessages(new Set());\n      \n      if (!userFromAuth) {\n        setGuestInfo({\n          firstName: '',\n          lastName: '',\n          email: '',\n          phone: ''\n        });\n      }\n    };\n\n    requestAnimationFrame(resetState);\n    console.log('Chat state reset completed');\n  }, [userFromAuth, isQuitting]);\n\n  const resetGuestForm = useCallback(() => {\n    if (isQuitting) return;\n    \n    setShowGuestForm(false);\n    setGuestFormErrors({});\n    setIsSubmittingGuest(false);\n  }, [isQuitting]);\n\n  const cancelGuestForm = useCallback(() => {\n    if (isQuitting) return;\n    \n    setShowGuestForm(false);\n    setGuestFormErrors({});\n    setIsSubmittingGuest(false);\n    setGuestFormSubmitted(false);\n    setHasUserSentMessage(false);\n\n    setMessages(prev => {\n      const lastMessage = prev[prev.length - 1];\n      if (lastMessage && lastMessage.from === 'user' && !guestFormSubmitted) {\n        return prev.slice(0, -1);\n      }\n      return prev;\n    });\n\n    try {\n      localStorage.removeItem(STORAGE_USER_KEY);\n    } catch (error) {\n      console.warn(\"Failed to clear guest info from localStorage:\", error);\n    }\n\n    setGuestInfo({\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: ''\n    });\n\n    console.log('Guest form cancelled and state reset');\n  }, [guestFormSubmitted, isQuitting]);\n\n  const handleModalOverlayClick = useCallback((e) => {\n    if (e.target === e.currentTarget && !isSubmittingGuest && !isQuitting) {\n      resetGuestForm();\n    }\n  }, [isSubmittingGuest, isQuitting, resetGuestForm]);\n\n  // Cleanup timeouts on unmount\n  useEffect(() => {\n    return () => {\n      if (quitTimeoutRef.current) {\n        clearTimeout(quitTimeoutRef.current);\n      }\n      if (businessHoursIntervalRef.current) {\n        clearInterval(businessHoursIntervalRef.current);\n        businessHoursIntervalRef.current = null;\n      }\n    };\n  }, []);\n\n  // FIXED: Real-time business hours checking with proper error handling and logging\n  useEffect(() => {\n    // Clear any existing interval\n    if (businessHoursIntervalRef.current) {\n      clearInterval(businessHoursIntervalRef.current);\n      businessHoursIntervalRef.current = null;\n    }\n\n    // Only set up interval if chat is open and not quitting\n    if (isOpen && !isQuitting) {\n      console.log('Setting up business hours real-time monitoring...');\n      \n      // Initial fetch with proper error handling\n      const initialFetch = async () => {\n        try {\n          const biz = await fetchBusinessHours();\n          if (biz) {\n            console.log('Initial business hours status:', {\n              isOpen: biz.isOpen,\n              timezone: biz.timezone || 'America/Toronto',\n              currentTime: biz.currentTime\n            });\n            setBusinessInfo(biz);\n          } else {\n            console.warn('Initial business hours fetch returned null, using fallback');\n            setBusinessInfo({\n              isOpen: false,\n              timezone: 'America/Toronto',\n              currentTime: new Date().toISOString(),\n              message: 'Business hours temporarily unavailable'\n            });\n          }\n        } catch (error) {\n          console.error('Initial business hours fetch error:', error);\n          setBusinessInfo({\n            isOpen: false,\n            timezone: 'America/Toronto', \n            currentTime: new Date().toISOString(),\n            message: 'Business hours temporarily unavailable'\n          });\n        }\n      };\n      \n      initialFetch();\n      \n      // Set up interval to check every 30 seconds (more frequent for real-time updates)\n      businessHoursIntervalRef.current = setInterval(async () => {\n        if (isQuitting) {\n          console.log('Skipping business hours check - quitting in progress');\n          return;\n        }\n        \n        try {\n          console.log('Checking business hours status...');\n          const biz = await fetchBusinessHours();\n          if (biz) {\n            setBusinessInfo(prevInfo => {\n              // Log status changes\n              if (prevInfo && prevInfo.isOpen !== biz.isOpen) {\n                console.log(`Business hours status changed: ${prevInfo.isOpen ? 'OPEN' : 'CLOSED'} -> ${biz.isOpen ? 'OPEN' : 'CLOSED'}`);\n              }\n              return biz;\n            });\n          }\n        } catch (error) {\n          console.error('Business hours interval check error:', error);\n        }\n      }, 30000); // Check every 30 seconds\n      \n      console.log('Business hours monitoring interval started');\n    }\n\n    return () => {\n      if (businessHoursIntervalRef.current) {\n        clearInterval(businessHoursIntervalRef.current);\n        businessHoursIntervalRef.current = null;\n        console.log('Business hours monitoring interval cleared');\n      }\n    };\n  }, [isOpen, isQuitting]);\n\n  useEffect(() => {\n    const handleEscKey = (e) => {\n      if (e.key === 'Escape' && !isQuitting) {\n        if (showGuestForm && !isSubmittingGuest) {\n          resetGuestForm();\n        } else if (showQuitConfirm) {\n          setShowQuitConfirm(false);\n        }\n      }\n    };\n\n    if ((showGuestForm || showQuitConfirm) && !isQuitting) {\n      document.addEventListener('keydown', handleEscKey);\n      return () => document.removeEventListener('keydown', handleEscKey);\n    }\n  }, [showGuestForm, showQuitConfirm, isSubmittingGuest, isQuitting, resetGuestForm]);\n\n  useEffect(() => {\n    try {\n      const savedInput = localStorage.getItem(STORAGE_INPUT_KEY);\n      if (savedInput && savedInput.trim()) {\n        setInput(savedInput);\n      }\n    } catch (error) {\n      console.warn(\"Failed to load input from localStorage:\", error);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!isOpen || isQuitting) return;\n\n    const timeoutId = setTimeout(() => {\n      try {\n        if (input && input.trim()) {\n          localStorage.setItem(STORAGE_INPUT_KEY, input);\n        } else if (!input) {\n          localStorage.removeItem(STORAGE_INPUT_KEY);\n        }\n      } catch (error) {\n        console.warn(\"Failed to save input to localStorage:\", error);\n      }\n    }, 300);\n\n    return () => clearTimeout(timeoutId);\n  }, [input, isOpen, isQuitting]);\n\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem(STORAGE_USER_KEY);\n      if (raw) {\n        const u = JSON.parse(raw);\n        setGuestInfo({\n          firstName: u.firstName || \"\",\n          lastName: u.lastName || \"\",\n          email: u.email || \"\",\n          phone: u.phone || \"\"\n        });\n\n        const hasRequiredInfo = Boolean(u.firstName && u.email && u.firstName.trim() && u.email.trim());\n        setGuestFormSubmitted(hasRequiredInfo);\n        console.log('Loaded guest info from storage:', u, 'Form submitted:', hasRequiredInfo);\n      }\n    } catch (error) {\n      console.warn(\"Failed to load guest info from localStorage:\", error);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (isQuitting) return;\n    \n    try {\n      const raw = localStorage.getItem(storageKey);\n      if (raw) {\n        const loadedMessages = JSON.parse(raw);\n        setMessages(loadedMessages);\n        const userMessageExists = loadedMessages.some(msg => msg.from === \"user\");\n        if (userMessageExists) {\n          setHasUserSentMessage(true);\n        }\n      }\n    } catch (error) {\n      console.warn(\"Failed to load messages from localStorage:\", error);\n    }\n  }, [storageKey, isQuitting]);\n\n  useEffect(() => {\n    if (isQuitting) return;\n    \n    try {\n      localStorage.setItem(storageKey, JSON.stringify(messages));\n    } catch (error) {\n      console.warn(\"Failed to save messages to localStorage:\", error);\n    }\n  }, [messages, storageKey, isQuitting]);\n\n  useEffect(() => {\n    if (isOpen && messagesEndRef.current && !isQuitting) {\n      messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }, [messages, isOpen, isQuitting]);\n\n  useEffect(() => {\n    if (beepUrl) audioRef.current = new Audio(beepUrl);\n  }, []);\n\n  const normalizeMessage = useCallback(\n    (msg) => {\n      if (!msg || isQuitting) return null;\n      const id = msg._id || msg.id || `m_${Date.now()}_${Math.random()}`;\n      const text = msg.message || msg.text || \"\";\n      const ts = msg.createdAt || msg.timestamp || Date.now();\n      const from =\n        msg.senderType === \"user\"\n          ? \"user\"\n          : msg.senderType === \"agent\"\n            ? \"agent\"\n            : msg.senderType === \"bot\"\n              ? \"bot\"\n              : msg.from || \"bot\";\n\n      const avatar =\n        msg.metadata?.senderAvatar ||\n        (from === \"agent\"\n          ? session?.agent?.photo || FavIconLogo\n          : from === \"user\"\n            ? getProfileImageSrc(userFromAuth?.photo, !userFromAuth)\n            : FavIconLogo);\n\n      return {\n        id,\n        from,\n        text,\n        timestamp: ts,\n        avatar,\n        quickReplies: msg.metadata?.quickReplies || msg.quickReplies || [],\n        metadata: msg.metadata || {},\n        ...msg,\n      };\n    },\n    [session, userFromAuth, isQuitting]\n  );\n\n  const handleIncomingMessage = useCallback(\n    (rawMsg) => {\n      if (isQuitting) {\n        console.log('Ignoring incoming message - chat is quitting');\n        return;\n      }\n      \n      const msg = normalizeMessage(rawMsg);\n      if (!msg) return;\n\n      if (msg.from === 'bot' && rawMsg.metadata?.redirectUrl) {\n        console.log(\"Redirecting to:\", rawMsg.metadata.redirectUrl);\n        const url = rawMsg.metadata.redirectUrl;\n        if (url.startsWith(\"/\")) {\n          window.open(url, '_blank');\n        }\n        return;\n      }\n\n      setMessages((prevMessages) => {\n        const messageExists = prevMessages.some(existingMsg =>\n          existingMsg.id === msg.id ||\n          (existingMsg.text === msg.text &&\n            existingMsg.from === msg.from &&\n            Math.abs(existingMsg.timestamp - msg.timestamp) < 1000)\n        );\n\n        if (messageExists) {\n          console.log('Duplicate message detected, skipping:', msg);\n          return prevMessages;\n        }\n\n        if (msg.from === 'user') {\n          setPendingMessages(prev => {\n            const newPending = new Set(prev);\n            for (const pendingId of prev) {\n              if (pendingId.includes(msg.text.substring(0, 10))) {\n                newPending.delete(pendingId);\n              }\n            }\n            return newPending;\n          });\n        }\n\n        return [...prevMessages, msg];\n      });\n      \n      if (msg.from === 'bot' && msg.quickReplies.length > 0) {\n        console.log('Bot message with quick replies:', msg.quickReplies);\n      }\n    },\n    [normalizeMessage, isQuitting]\n  );\n\n  useEffect(() => {\n    if (!socket || isQuitting) return;\n\n    const onSessionCreated = (payloadRaw) => {\n      if (isQuitting) return;\n      \n      console.log('Session created event received:', payloadRaw);\n      const payload = payloadRaw?.body?.data || payloadRaw;\n      const sess = payload?.session || payload || null;\n      if (sess) {\n        setSession(sess);\n        console.log('Session set:', sess);\n        if (payload.businessHours) setBusinessInfo(payload.businessHours);\n      }\n      if (payload?.welcomeMessage) {\n        handleIncomingMessage(payload.welcomeMessage);\n      }\n    };\n\n    const guestSessionEvent = session?.guestEmail ? `guestUserSessionCreated:${session.guestEmail}` : null;\n    const onGuestSessionCreated = (payload) => {\n      if (isQuitting) return;\n      \n      console.log('Guest user session created event received:', payload);\n      if (payload?.welcomeMessage) {\n        handleIncomingMessage(payload.welcomeMessage);\n      }\n    };\n\n    const onMessageNew = (msg) => {\n      if (isQuitting) return;\n      \n      console.log('New message event received:', msg);\n      handleIncomingMessage(msg);\n    };\n\n    const onMessageStatus = ({ messageId, status }) => {\n      if (isQuitting) return;\n      \n      setMessages((prev) =>\n        prev.map((m) => (m.id === messageId ? { ...m, status } : m))\n      );\n    };\n\n    socket.on(\"session:created\", onSessionCreated);\n    socket.on(\"message:new\", onMessageNew);\n    socket.on(\"message:status\", onMessageStatus);\n    if (guestSessionEvent) {\n      socket.on(guestSessionEvent, onGuestSessionCreated);\n    }\n\n    return () => {\n      socket.off(\"session:created\", onSessionCreated);\n      socket.off(\"message:new\", onMessageNew);\n      socket.off(\"message:status\", onMessageStatus);\n      if (guestSessionEvent) {\n        socket.off(guestSessionEvent, onGuestSessionCreated);\n      }\n    };\n  }, [socket, handleIncomingMessage, session, isQuitting]);\n\n  const createSession = useCallback(async () => {\n    if (!socket || !socket.connected || session || isQuitting) {\n      console.log('Cannot create session:', {\n        hasSocket: !!socket,\n        isConnected: socket?.connected,\n        hasSession: !!session,\n        isQuitting\n      });\n      return;\n    }\n\n    let sessionData;\n    const timezone = 'America/Toronto'; // Force Toronto timezone\n\n    if (userFromAuth) {\n      console.log('Creating session for authenticated user:', userFromAuth.email);\n      sessionData = {\n        entryPoint: \"widget\",\n        selectedOption: \"general_inquiry\",\n        timezone,\n        firstName: userFromAuth.firstname || userFromAuth.firstName,\n        lastName: userFromAuth.lastname || userFromAuth.lastName,\n        email: userFromAuth.email,\n        phone: userFromAuth.phone || '',\n        metadata: {\n          authenticatedUser: true,\n          userId: userFromAuth._id || userFromAuth.id\n        }\n      };\n    } else {\n      console.log('Creating session for guest user:', guestInfo);\n      const { firstName, lastName, email, phone } = guestInfo;\n\n      try {\n        localStorage.setItem(\n          STORAGE_USER_KEY,\n          JSON.stringify({ firstName, lastName, email, phone })\n        );\n      } catch (error) {\n        console.warn(\"Failed to save guest info to localStorage:\", error);\n      }\n\n      sessionData = {\n        entryPoint: \"widget\",\n        selectedOption: \"general_inquiry\",\n        timezone,\n        firstName,\n        lastName,\n        email,\n        phone,\n        guestEmail: email,\n        metadata: {\n          guestFirstName: firstName,\n          guestLastName: lastName,\n          guestPhone: phone\n        }\n      };\n    }\n\n    console.log('Emitting session:create with data:', sessionData);\n\n    socket.emit(\"session:create\", sessionData, (err, result) => {\n      if (err || isQuitting) {\n        console.error(\"session:create err\", err);\n        return;\n      }\n      console.log('Session creation response:', result);\n      const data = result?.body?.data || result;\n      const sess = data?.session || data || null;\n      if (sess) {\n        setSession(sess);\n        if (data.welcomeMessage) handleIncomingMessage(data.welcomeMessage);\n        if (data.businessHours) setBusinessInfo(data.businessHours);\n      }\n    });\n  }, [socket, session, userFromAuth, guestInfo, handleIncomingMessage, isQuitting]);\n\n  const validateGuestForm = useCallback(() => {\n    const errors = {};\n\n    if (!guestInfo.firstName.trim()) {\n      errors.firstName = 'First name is required';\n    } else if (guestInfo.firstName.trim().length < 2) {\n      errors.firstName = 'First name must be at least 2 characters';\n    }\n\n    if (!guestInfo.email.trim()) {\n      errors.email = 'Email is required';\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(guestInfo.email.trim())) {\n      errors.email = 'Please enter a valid email address';\n    }\n\n    if (guestInfo.phone && guestInfo.phone.trim()) {\n      const phoneRegex = /^[\\d\\s+\\-()\\.]+$/;\n      if (!phoneRegex.test(guestInfo.phone)) {\n        errors.phone = 'Please enter a valid phone number';\n      }\n    }\n\n    return errors;\n  }, [guestInfo]);\n\n  const handleGuestFormChange = useCallback((e) => {\n    if (isQuitting) return;\n    \n    const { name, value } = e.target;\n\n    setGuestInfo(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    if (guestFormErrors[name]) {\n      setGuestFormErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[name];\n        return newErrors;\n      });\n    }\n\n    if (guestFormErrors.submit) {\n      setGuestFormErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors.submit;\n        return newErrors;\n      });\n    }\n  }, [guestFormErrors, isQuitting]);\n\n  const submitGuestForm = useCallback(async () => {\n    if (isQuitting) return;\n    \n    const errors = validateGuestForm();\n\n    if (Object.keys(errors).length > 0) {\n      setGuestFormErrors(errors);\n      return;\n    }\n\n    setIsSubmittingGuest(true);\n    setGuestFormErrors({});\n\n    try {\n      const response = await API.post('/api/v1/guestUsers/create-guest-user', {\n        firstName: guestInfo.firstName.trim(),\n        lastName: guestInfo.lastName.trim(),\n        email: guestInfo.email.trim(),\n        phone: guestInfo.phone.trim()\n      });\n\n      if (response.data.success) {\n        const { firstName, lastName, email, phone } = response.data.data;\n\n        setGuestInfo({ firstName, lastName, email, phone });\n        setGuestFormSubmitted(true);\n        setShowGuestForm(false);\n        setGuestFormErrors({});\n\n        try {\n          localStorage.setItem(STORAGE_USER_KEY, JSON.stringify({\n            firstName,\n            lastName,\n            email,\n            phone\n          }));\n        } catch (error) {\n          console.warn(\"Failed to save guest info to localStorage:\", error);\n        }\n\n        console.log('Guest form submitted, creating session...');\n        if (socket && socket.connected && !session && !isQuitting) {\n          await createSession();\n        }\n\n        // Retain the user's last message (if any) and re-add the welcome message\n        const lastUserMessage = messages.find(msg => msg.from === 'user');\n        setMessages(lastUserMessage ? [lastUserMessage] : []);\n\n        // Trigger the welcome message with quick replies\n        const biz = await fetchBusinessHours();\n        if (biz) setBusinessInfo(biz);\n\n        const welcomeMessage = {\n          id: `welcome-${Date.now()}`,\n          from: \"bot\",\n          text: biz && !biz.isOpen && biz.outsideHoursMessage\n            ? biz.outsideHoursMessage\n            : \"How can I be of service to you?\",\n          timestamp: Date.now(),\n          avatar: FavIconLogo,\n          quickReplies: biz && !biz.isOpen && biz.outsideHoursOptions\n            ? biz.outsideHoursOptions\n            : [\n                { text: \"What is your service?\", value: \"service_info\" },\n                { text: \"Why should I choose you?\", value: \"why_choose_us\" },\n                { text: \"How do I get started?\", value: \"getting_started\" },\n                { text: \"Search Jobs\", value: \"search_job\" },\n                { text: \"Partnership Info\", value: \"partner_pspl\" },\n                { text: \"Application Help\", value: \"application_issue\" },\n                { text: \"Talk to Agent\", value: \"live_agent\" },\n              ],\n        };\n\n        setMessages(prev => [...prev, welcomeMessage]);\n\n        // Resend the last user message to the server if it exists\n        if (lastUserMessage && socket && socket.connected && session && !isQuitting) {\n          console.log('Sending guest user message to server after form submission...');\n          socket.emit(\"message:send\", {\n            sessionId: session?._id || session?.id,\n            message: lastUserMessage.text,\n            messageType: \"text\",\n          });\n        }\n\n        logWithIcon.success('Guest user created and session initialized');\n      } else {\n        throw new Error(response.data.message || 'Failed to create guest user');\n      }\n    } catch (error) {\n      console.error(\"Error saving guest user:\", error);\n      setGuestFormErrors({\n        submit: error.response?.data?.message ||\n          error.message ||\n          'Failed to save guest information. Please try again.'\n      });\n    } finally {\n      setIsSubmittingGuest(false);\n    }\n  }, [guestInfo, validateGuestForm, socket, session, messages, createSession, isQuitting]);\n\n  const sendMessage = useCallback(() => {\n    if (!input.trim() || isQuitting) return;\n\n    const text = input.trim();\n    const messageId = `local_${Date.now()}_${Math.random()}`;\n\n    // Enhanced live agent request detection\n    const isLiveAgentRequest = \n      text.toLowerCase().includes('talk to agent') ||\n      text.toLowerCase().includes('live agent') ||\n      text.toLowerCase().includes('speak to someone') ||\n      text.toLowerCase().includes('human support') ||\n      text.toLowerCase().includes('connect me to agent') ||\n      text.toLowerCase().includes('real person') ||\n      /\\b(agent|human|person|representative|support staff)\\b/i.test(text);\n\n    setPendingMessages(prev => new Set([...prev, messageId]));\n\n    setInput(\"\");\n    try {\n      localStorage.removeItem(STORAGE_INPUT_KEY);\n    } catch (error) {\n      console.warn(\"Failed to clear input from localStorage:\", error);\n    }\n\n    const userMessage = {\n      id: messageId,\n      from: \"user\",\n      text,\n      timestamp: Date.now(),\n      avatar: userFromAuth\n        ? getProfileImageSrc(userFromAuth?.photo)\n        : defaultAvatar,\n      metadata: { isLiveAgentRequest }\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setHasUserSentMessage(true);\n\n    if (!userFromAuth && !guestFormSubmitted) {\n      console.log('Guest user sent message requesting agent, triggering form...');\n      setShowGuestForm(true);\n      return;\n    }\n\n    if (socket && socket.connected && session) {\n      socket.emit(\"message:send\", {\n        sessionId: session?._id || session?.id,\n        message: text,\n        messageType: isLiveAgentRequest ? \"live_agent_request\" : \"text\",\n        metadata: {\n          isLiveAgentRequest, // Critical flag for backend processing\n          requestType: isLiveAgentRequest ? 'agent_connection' : 'standard_message',\n          timestamp: Date.now()\n        }\n      });\n\n      // Show connecting message for live agent requests\n      if (isLiveAgentRequest) {\n        setTimeout(() => {\n          const connectingMessage = {\n            id: `connecting_${Date.now()}`,\n            from: \"bot\",\n            text: \" I understand you'd like to speak with a live agent. Let me connect you with someone who can help...\",\n            timestamp: Date.now(),\n            avatar: FavIconLogo,\n            metadata: { requestType: 'agent_connection', isTemporary: true }\n          };\n          setMessages(prev => [...prev, connectingMessage]);\n        }, 500);\n      }\n    } else {\n      setPendingMessages(prev => {\n        const newPending = new Set(prev);\n        newPending.delete(messageId);\n        return newPending;\n      });\n    }\n  }, [input, session, socket, userFromAuth, guestFormSubmitted, isQuitting]);\n\n  const handleQuickReply = useCallback(\n    (option) => {\n      if (isQuitting) return;\n      \n      const value = option.value || option.text || option;\n      const text = option.text || value;\n      const messageId = `local_qr_${Date.now()}_${Math.random()}`;\n\n      // Special handling for job search - existing functionality\n      if (value === \"search_job\") {\n        navigate(\"/Search-Jobs\");\n        return;\n      }\n\n      // Enhanced live agent detection\n      const isLiveAgentRequest = \n        value === \"live_agent\" || \n        value === \"talk_to_agent\" ||\n        text.toLowerCase().includes('talk to agent') ||\n        text.toLowerCase().includes('live agent') ||\n        text.toLowerCase().includes('human support') ||\n        text.toLowerCase().includes('speak to someone');\n\n      setPendingMessages(prev => new Set([...prev, messageId]));\n\n      if (socket && socket.connected && session) {\n        // Include live agent flag in message metadata\n        socket.emit(\"message:send\", {\n          sessionId: session._id || session.id,\n          message: text,\n          messageType: isLiveAgentRequest ? \"live_agent_request\" : \"option_selection\",\n          metadata: {\n            isLiveAgentRequest, // Critical flag for backend processing\n            requestType: isLiveAgentRequest ? 'agent_connection' : 'standard_option',\n            userSelection: value,\n            timestamp: Date.now()\n          }\n        });\n\n        // Show visual feedback for live agent requests\n        if (isLiveAgentRequest) {\n          // Add a temporary system message to show we're processing the request\n          const tempMessage = {\n            id: `temp_agent_req_${Date.now()}`,\n            from: \"bot\",\n            text: \" Connecting you with a live agent. Please wait while we find an available representative...\",\n            timestamp: Date.now(),\n            avatar: FavIconLogo,\n            metadata: { isTemporary: true, requestType: 'agent_connection' }\n          };\n          setMessages(prev => [...prev, tempMessage]);\n        }\n      } else {\n        // Fallback for disconnected state\n        const userMessage = {\n          id: messageId,\n          from: \"user\",\n          text,\n          timestamp: Date.now(),\n          avatar: userFromAuth\n            ? getProfileImageSrc(userFromAuth?.photo)\n            : defaultAvatar,\n          metadata: { isLiveAgentRequest }\n        };\n        setMessages(prev => [...prev, userMessage]);\n        setHasUserSentMessage(true);\n\n        if (!userFromAuth && !guestFormSubmitted) {\n          console.log('Guest user requested agent, triggering form...');\n          setShowGuestForm(true);\n          return;\n        }\n      }\n\n      setPendingMessages(prev => {\n        const newPending = new Set(prev);\n        newPending.delete(messageId);\n        return newPending;\n      });\n    }, [session, socket, userFromAuth, guestFormSubmitted, navigate, isQuitting]);\n\n  const renderMessage = (m, index) => {\n    const isUser = m.from === \"user\";\n    return (\n      <div key={`${m.id}-${index}`} className={`chat-row ${isUser ? \"user\" : \"agent-or-bot\"}`}>\n        {!isUser && (\n          <img className=\"msg-avatar\" src={m.avatar} alt={m.from} />\n        )}\n        <div className=\"msg-body\">\n          <div className={`msg-text ${isUser ? \"user-bubble\" : \"\"}`}>\n            {m.text}\n          </div>\n          {m.quickReplies?.length > 0 && (\n            <div className=\"message-quick-replies\">\n              {m.quickReplies.map((qr, i) => (\n                <button\n                  key={`${m.id}-qr-${i}`}\n                  className=\"quick-reply-btn\"\n                  onClick={() => handleQuickReply(qr)}\n                >\n                  {qr.text || qr}\n                </button>\n              ))}\n            </div>\n          )}\n          <div className=\"msg-meta\">\n            <span className=\"msg-time\">{timeAgo(m.timestamp)}</span>\n          </div>\n        </div>\n        {isUser && (\n          <img\n            className=\"msg-avatar\"\n            src={m.avatar}\n            alt=\"You\"\n          />\n        )}\n      </div>\n    );\n  };\n\n  const initializeChatSession = useCallback(async () => {\n    if (isQuitting) {\n      console.log('Skipping chat initialization - quitting in progress');\n      return;\n    }\n    \n    console.log('Initializing chat session...', {\n      hasSession: !!session,\n      hasSocket: !!socket,\n      isConnected: socket?.connected,\n      userFormSubmitted,\n      defaultMessagesLoaded\n    });\n\n    if (!session && socket && socket.connected) {\n      if (userFromAuth) {\n        console.log('Creating session for authenticated user...');\n        await createSession();\n      } else if (guestFormSubmitted) {\n        console.log('Creating session for guest user after form submission...');\n        await createSession();\n      }\n    }\n\n    if (messages.length === 0 && !defaultMessagesLoaded) {\n      setDefaultMessagesLoaded(true);\n\n      const biz = await fetchBusinessHours();\n      if (biz) {\n        console.log('Business hours for welcome message:', {\n          isOpen: biz.isOpen,\n          timezone: biz.timezone,\n          outsideHoursMessage: biz.outsideHoursMessage\n        });\n        setBusinessInfo(biz);\n      }\n\n      const welcomeMessage = {\n        id: `welcome-${Date.now()}`,\n        from: \"bot\",\n        text: biz && !biz.isOpen && biz.outsideHoursMessage\n          ? biz.outsideHoursMessage\n          : \"How can I be of service to you?\",\n        timestamp: Date.now(),\n        avatar: FavIconLogo,\n        quickReplies: biz && !biz.isOpen && biz.outsideHoursOptions\n          ? biz.outsideHoursOptions\n          : [\n              { text: \"What is your service?\", value: \"service_info\" },\n              { text: \"Why should I choose you?\", value: \"why_choose_us\" },\n              { text: \"How do I get started?\", value: \"getting_started\" },\n              { text: \"Search Jobs\", value: \"search_job\" },\n              { text: \"Partnership Info\", value: \"partner_pspl\" },\n              { text: \"Application Help\", value: \"application_issue\" },\n              { text: \"Talk to Agent\", value: \"live_agent\" },\n            ],\n      };\n\n      setMessages([welcomeMessage]);\n    }\n  }, [session, socket, userFormSubmitted, defaultMessagesLoaded, messages.length, createSession, userFromAuth, guestFormSubmitted, isQuitting]);\n\n  const handleHeaderClick = () => {\n    if (!isQuitting) {\n      setIsOpen(false);\n    }\n  };\n\n  const handleToggle = async () => {\n    if (isQuitting) {\n      console.log('Ignoring toggle - quit in progress');\n      return;\n    }\n    \n    const next = !isOpen;\n    setIsOpen(next);\n\n    if (next) {\n      setUnreadCount(0);\n      console.log('Debug - handleToggle:', {\n        userFromAuth: !!userFromAuth,\n        guestFormSubmitted,\n        userFormSubmitted,\n        hasUserSentMessage\n      });\n      await initializeChatSession();\n    }\n  };\n\n  useEffect(() => {\n    if (!userFromAuth && !guestFormSubmitted && hasUserSentMessage && !showGuestForm && !isQuitting) {\n      console.log('Triggering guest form - conditions met');\n      setShowGuestForm(true);\n    }\n  }, [userFromAuth, guestFormSubmitted, hasUserSentMessage, showGuestForm, isQuitting]);\n\n  // Enhanced Quit Confirmation Modal Component\n  const QuitConfirmationModal = () => (\n    <div \n      className=\"chat-quit-overlay\" \n      onClick={() => !isQuitting && setShowQuitConfirm(false)}\n    >\n      <div \n        className=\"chat-quit-modal\" \n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Modal Header */}\n        <div className=\"chat-quit-modal-header\">\n          <div className=\"chat-quit-modal-icon\">\n            <i className=\"fas fa-sign-out-alt\"></i>\n          </div>\n          <h3 className=\"chat-quit-modal-title\">\n            End Chat Session?\n          </h3>\n          <p className=\"chat-quit-modal-subtitle\">\n            This will clear your conversation history and end the current session.\n          </p>\n        </div>\n        \n        {/* Modal Body */}\n        <div className=\"chat-quit-modal-body\">\n          <div className=\"chat-quit-warning\">\n            <i className=\"fas fa-info-circle\"></i>\n            <span>You can always start a new conversation by clicking the chat button again.</span>\n          </div>\n          \n          {/* Action Buttons */}\n          <div className=\"chat-quit-modal-actions\">\n            <button\n              onClick={() => !isQuitting && setShowQuitConfirm(false)}\n              disabled={isQuitting}\n              className={`chat-quit-btn-cancel ${isQuitting ? 'disabled' : ''}`}\n            >\n              <i className=\"fas fa-arrow-left\"></i>\n              <span>Continue Chat</span>\n            </button>\n            \n            <button\n              onClick={() => !isQuitting && handleQuit()}\n              disabled={isQuitting}\n              className={`chat-quit-btn-confirm ${isQuitting ? 'loading' : ''}`}\n            >\n              {isQuitting ? (\n                <>\n                  <i className=\"fas fa-spinner fa-spin\"></i>\n                  <span>Ending...</span>\n                </>\n              ) : (\n                <>\n                  <i className=\"fas fa-sign-out-alt\"></i>\n                  <span>End Session</span>\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  // FIXED: Proper business hours status display logic\n  const getBusinessHoursDisplayText = () => {\n    if (isQuitting) return \"Ending session...\";\n    \n    if (businessInfo) {\n      console.log('Business info for display:', {\n        isOpen: businessInfo.isOpen,\n        timezone: businessInfo.timezone,\n        currentTime: businessInfo.currentTime\n      });\n      \n      if (businessInfo.isOpen) {\n        return \"We're online now\";\n      } else {\n        return \"Outside business hours\";\n      }\n    }\n    \n    // Fallback while loading\n    return isConnected ? \"Checking availability...\" : \"Connecting...\";\n  };\n\n  const inputEnabled = !isQuitting;\n  \n  return (\n    <div className=\"chatbot-wrapper\">\n      <button\n        className={`chatbot-toggle ${isOpen ? \"open\" : \"\"}`}\n        onClick={handleToggle}\n        disabled={isQuitting}\n      >\n        <div className=\"chat-toggle-inner\">\n          {!isOpen && <i className=\"fas fa-comment-dots fa-1x\"></i>}\n        </div>\n        {unreadCount > 0 && <div className=\"unread-badge\">{unreadCount}</div>}\n      </button>\n\n      {isOpen && (\n        <div className=\"chatbot-box\">\n          <div className=\"chatbot-header\" onClick={handleHeaderClick}>\n            <div className=\"chat-header-left\">\n              <button\n                className=\"chat-close-btn\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  if (!isQuitting) {\n                    setIsOpen(false);\n                  }\n                }}\n                disabled={isQuitting}\n              >\n                <i className=\"fas fa-chevron-down\"></i>\n              </button>\n              <div className=\"chat-avatar\">\n                <Link to=\"/\" onClick={(e) => e.stopPropagation()}>\n                  <img src={FavIconLogo} alt=\"ProsoftSynergies\" />\n                </Link>\n              </div>\n              <div>\n                <div className=\"chat-title\">\n                  {userFromAuth\n                    ? `Chat Assistant - ${userFromAuth.firstname || 'User'}`\n                    : userFormSubmitted\n                      ? `Chat Assistant - ${guestInfo.firstName}`\n                      : 'Chat Assistant'\n                  }\n                </div>\n                <div className=\"chat-sub\">\n                  {getBusinessHoursDisplayText()}\n                </div>\n              </div>\n            </div>\n            \n            {/* Enhanced Chat Header Right Section */}\n            <div className=\"chat-header-right\" onClick={(e) => e.stopPropagation()}>\n              {hasUserSentMessage && (\n                <button\n                  className={`chat-quit-btn ${isQuitting ? 'disabled' : ''}`}\n                  aria-label=\"End chat session\"\n                  onClick={() => !isQuitting && setShowQuitConfirm(true)}\n                  title=\"End Chat Session\"\n                  disabled={isQuitting}\n                >\n                  <i className={`fas ${isQuitting ? 'fa-spinner fa-spin' : 'fa-times'}`}></i>\n                </button>\n              )}\n            </div>\n          </div>\n\n          <div className=\"chatbot-messages\">\n            {messages.map(renderMessage)}\n            <div ref={messagesEndRef} />\n          </div>\n\n          {/* Enhanced Quit Confirmation Modal */}\n          {showQuitConfirm && <QuitConfirmationModal />}\n\n          <div className=\"chatbot-input\">\n            <input\n              value={input}\n              onChange={(e) => !isQuitting && setInput(e.target.value)}\n              placeholder={isQuitting ? \"Ending session...\" : \"Type a message...\"}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter' && !isQuitting) {\n                  sendMessage();\n                }\n              }}\n              disabled={!inputEnabled}\n            />\n            <button\n              onClick={sendMessage}\n              className={`send-btn ${!inputEnabled ? \"disabled\" : \"\"}`}\n              disabled={!inputEnabled}\n            >\n              \n            </button>\n          </div>\n        </div>\n      )}\n\n      {showGuestForm && !isQuitting && (\n        <div\n          className={`chat-modal-overlay ${isSubmittingGuest ? 'submitting' : ''}`}\n          onClick={handleModalOverlayClick}\n        >\n          <div\n            className=\"chat-modal-container\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"chat-modal-header\">\n              <button\n                onClick={cancelGuestForm}\n                disabled={isSubmittingGuest}\n                className={`chat-modal-close ${isSubmittingGuest ? 'disabled' : ''}`}\n              >\n                <i className=\"fas fa-times\"></i>\n              </button>\n\n              <div className=\"chat-modal-header-content\">\n                <div className=\"chat-modal-icon\">\n                  <i className=\"fas fa-user-plus\"></i>\n                </div>\n                <h2 className=\"chat-modal-title\">\n                  Let's get started!\n                </h2>\n                <p className=\"chat-modal-subtitle\">\n                  Help us provide you with personalized assistance by sharing a few details.\n                </p>\n              </div>\n            </div>\n\n            <div className=\"chat-modal-body\">\n              {guestFormErrors.submit && (\n                <div className=\"chat-submit-error\">\n                  <i className=\"fas fa-exclamation-triangle\"></i>\n                  <div>\n                    <strong>Unable to proceed:</strong> {guestFormErrors.submit}\n                  </div>\n                </div>\n              )}\n\n              <div className=\"chat-form-group\">\n                <label className=\"chat-form-label\">\n                  First Name <span className=\"chat-required\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"firstName\"\n                  value={guestInfo.firstName}\n                  onChange={handleGuestFormChange}\n                  disabled={isSubmittingGuest}\n                  className={`chat-form-input ${guestFormErrors.firstName ? 'error' :\n                    guestInfo.firstName.trim() ? 'success' : ''\n                  } ${isSubmittingGuest ? 'disabled' : ''}`}\n                  placeholder=\"Enter your first name\"\n                  autoComplete=\"given-name\"\n                  required\n                />\n                {guestFormErrors.firstName && (\n                  <div className=\"chat-error-message\">\n                    <i className=\"fas fa-exclamation-circle\"></i>\n                    {guestFormErrors.firstName}\n                  </div>\n                )}\n              </div>\n\n              <div className=\"chat-form-group\">\n                <label className=\"chat-form-label\">\n                  Last Name\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"lastName\"\n                  value={guestInfo.lastName}\n                  onChange={handleGuestFormChange}\n                  disabled={isSubmittingGuest}\n                  className={`chat-form-input ${guestInfo.lastName.trim() ? 'success' : ''\n                  } ${isSubmittingGuest ? 'disabled' : ''}`}\n                  placeholder=\"Enter your last name\"\n                  autoComplete=\"family-name\"\n                />\n              </div>\n\n              <div className=\"chat-form-group\">\n                <label className=\"chat-form-label\">\n                  Email Address <span className=\"chat-required\">*</span>\n                </label>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  value={guestInfo.email}\n                  onChange={handleGuestFormChange}\n                  disabled={isSubmittingGuest}\n                  className={`chat-form-input ${guestFormErrors.email ? 'error' :\n                    guestInfo.email.trim() && /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(guestInfo.email) ? 'success' : ''\n                  } ${isSubmittingGuest ? 'disabled' : ''}`}\n                  placeholder=\"your.email@example.com\"\n                  autoComplete=\"email\"\n                  required\n                />\n                {guestFormErrors.email && (\n                  <div className=\"chat-error-message\">\n                    <i className=\"fas fa-exclamation-circle\"></i>\n                    {guestFormErrors.email}\n                  </div>\n                )}\n              </div>\n\n              <div className=\"chat-form-group\">\n                <label className=\"chat-form-label\">\n                  Phone Number\n                </label>\n                <input\n                  type=\"tel\"\n                  name=\"phone\"\n                  value={guestInfo.phone}\n                  onChange={handleGuestFormChange}\n                  disabled={isSubmittingGuest}\n                  className={`chat-form-input ${guestFormErrors.phone ? 'error' :\n                    guestInfo.phone.trim() ? 'success' : ''\n                  } ${isSubmittingGuest ? 'disabled' : ''}`}\n                  placeholder=\"+1 (555) 123-4567\"\n                  autoComplete=\"tel\"\n                />\n                {guestFormErrors.phone && (\n                  <div className=\"chat-error-message\">\n                    <i className=\"fas fa-exclamation-circle\"></i>\n                    {guestFormErrors.phone}\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"chat-modal-actions\">\n              <button\n                type=\"button\"\n                onClick={cancelGuestForm}\n                disabled={isSubmittingGuest}\n                className={`chat-btn-secondary ${isSubmittingGuest ? 'disabled' : ''}`}\n              >\n                <i className=\"fas fa-times\"></i>\n                <span>Cancel</span>\n              </button>\n              <button\n                type=\"button\"\n                onClick={submitGuestForm}\n                disabled={isSubmittingGuest}\n                className={`chat-btn-primary ${isSubmittingGuest ? 'loading' : ''}`}\n              >\n                {isSubmittingGuest ? (\n                  <>\n                    <i className=\"fas fa-spinner fa-spin\"></i>\n                    <span>Submitting...</span>\n                  </>\n                ) : (\n                  <>\n                    <i className=\"fas fa-arrow-right\"></i>\n                    <span>Continue Chat</span>\n                  </>\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChatBotIcon;\n","import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate, useLocation, useParams } from 'react-router-dom';\nimport API from \"../helpers/API\";\nimport { useAuth } from \"../Context/AuthContext\";\nimport { LogoutNavbarLink } from './Logout/LogoutNavbar';\nimport { LogoutLink } from './Logout/Logout';\nimport ChatBotIcon from '../components/ChatBotIcon/ChatBotIcon';\nimport { FaLinkedin, FaFacebook, FaWhatsapp } from 'react-icons/fa';\nimport { BsTwitterX } from \"react-icons/bs\";\n\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport './Footer.css';\n\nconst Footer = () => {\n    const currentDay = new Date();\n    const currentYear = currentDay.getFullYear();\n\n    // ***************************************\n    const [auth, setAuth] = useAuth();\n    const [user, setUser] = useState({});\n    const params = useParams();\n\n    const navigate = useNavigate();\n\n    const notifyErr = (msg) =>\n      toast.error(msg, {\n        position: \"top-center\",\n        autoClose: 20000,\n        closeOnClick: true,\n        pauseOnHover: true,\n        theme: \"light\"\n      });\n    const notifySucc = (msg) =>\n      toast.success(msg, {\n        position: \"top-center\",\n        autoClose: 20000,\n        closeOnClick: true,\n        pauseOnHover: true,\n        theme: \"light\"\n      });\n\n    const fetchRegUserById = async () => {\n      try {\n        const { data } = await API.get(`/users/fetchRegUserById/${params._id}`);\n        setUser(data.user);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    // initial Registered User Details\n    useEffect(() => {\n      if (params?._id) fetchRegUserById();\n    }, [params?._id]);\n\n    const handleLogout = () => {\n      setAuth({ ...auth, user: null, token: \"\" });\n      localStorage.removeItem(\"userAuthDetails\");\n      notifySucc(\"You have Logged Out Successfully!!!\");\n      navigate(location.state || \"/Login\");\n    };\n\n    //assigning location variable\n    const location = useLocation();\n  return (\n    <>\n    <footer className=\"footer\">\n      <div className=\"footer-container\">\n        <div className=\"footer-columns\">\n          <div className=\"footer-column\">\n            <h3>INDUSTRIES & RECRUITMENT SOLUTIONS</h3>\n            <ul>\n              <li><Link to=\"/Information-Technology-Recruitment\">Information Technology Recruitment</Link></li>\n              <li><Link to=\"/Government-Ministry-Recruitment\">Government Ministry Recruitment</Link></li>\n              <li><Link to=\"/Healthcare-&-Medical-Recruitment\">Healthcare & Medical Recruitment</Link></li>\n              <li><Link to=\"/Manufacturing-Recruitment\">Manufacturing Recruitment</Link></li>\n              <li><Link to=\"/Admin-&-Office-Support-Recruitment\">Administration & Office Support Recruitment</Link></li>\n              <li><Link to=\"/Transport-&-Logistics-Recruitment\">Transport & Logistics Recruitment</Link></li>\n              <li><Link to=\"/Construction-&-Infrastructure-Recruitment\">Construction and Infrastructure Recruitment</Link></li>\n            </ul>\n          </div>\n\n          <div className=\"footer-column\">\n            <h3>EDUCATION SOLUTIONS</h3>\n            <ul>\n              <li><Link to=\"/Education-Recruitment\">Education Recruitment</Link></li>\n              {/* <li><Link to=\"/#\">Register</Link></li> */}\n              {/* ******************************************* */}\n              {!auth.user ? (\n              <>\n                <li><Link to=\"/Register\">Register</Link></li>\n              </>\n              ) : (\n              <>\n                {auth.user?.role === 1 ? (\n                  <>\n                  <li>\n                    <Link to=\"/Admin/Dashboard\" onClick={() => {window.location.href = \"/Admin/Dashboard\";}}>\n                      Admin Dashboard\n                    </Link>\n                  </li>                  \n                  </>\n                  ) : (\n                  <>\n                  {auth.user?.role === 2 ? (\n                      <>\n                        <li>\n                          <Link to=\"/Employer/Employer-Dashboard\" onClick={() => {window.location.href = \"/Employer/Employer-Dashboard\";}}>\n                            Employer Dashboard\n                          </Link>\n                        </li>  \n                      </>\n                      ) : (\n                      <>\n                        <li>\n                          <Link to=\"/Applicant-Profile-Dashboard\" onClick={() => {window.location.href = \"/Applicant-Profile-Dashboard\";}}>\n                            Applicant Dashboard\n                          </Link>\n                        </li>  \n                      </>\n                    )}\n                  </>\n                )}\n              </>\n              )}  \n              {/* ******************************************* */}\n            </ul>\n          </div>\n\n          <div className=\"footer-column\">\n            <h3>FOR JOB SEEKERS</h3>\n            <ul>\n              <li><Link to=\"/Search-Jobs\">Search Jobs</Link></li>\n              {/* <li><Link to=\"/#\">Resume Upload</Link></li> */}\n              <li>\n                  {!auth.user ? (\n                    <>\n                      <Link to=\"/Login\">Resume Upload</Link> \n                    </>\n                    ) : (\n                    <>\n                      {(() => {\n                        const userRole = auth.user?.role;\n                        let linkPath = \"/PSPL-Access-Denied\";\n\n                        if (userRole === 0) {\n                          linkPath = `/Applicant-Resume-Upload/${auth?.user?.userId}`;\n                        } else if (userRole === 1) {\n                          linkPath = \"/PSPL-Access-Denied\";\n                        } else if (userRole === 2) {\n                          linkPath = \"/PSPL-Access-Denied\";\n                        }\n                        return (\n                          <Link to={linkPath}>Resume Upload</Link> \n                        );\n                      })()}\n                    </>\n                    )}\n                </li>\n              {/* <li><Link to=\"/#\">Login</Link></li> */}\n              {/* ******************************************* */}\n              {!auth.user ? (\n              <>\n                <li><Link to=\"/#\">Login</Link></li>\n              </>\n              ) : (\n              <>\n                {auth.user?.role === 1 ? (\n                  <>\n                  <li>\n                    <LogoutLink onClick={() => {window.location.href = \"/Login\";}}>\n                      Logout\n                    </LogoutLink>\n                  </li>                  \n                  </>\n                  ) : (\n                  <>\n                  {auth.user?.role === 2 ? (\n                      <>\n                        <li>\n                          <LogoutLink onClick={() => {window.location.href = \"/Login\";}}>\n                            Logout\n                          </LogoutLink>\n                        </li>  \n                      </>\n                      ) : (\n                      <>\n                        <li>\n                          <LogoutLink onClick={() => {window.location.href = \"/Login\";}}>\n                            Logout\n                          </LogoutLink>\n                        </li>  \n                      </>\n                    )}\n                  </>\n                )}\n              </>\n              )}  \n              {/* ******************************************* */}\n            </ul>\n          </div>\n\n          <div className=\"footer-column\">\n            <h3>HEALTH SOLUTIONS</h3>\n            <ul>\n              <li><Link to=\"/Behavioral-Health-Solutions\">Behavioral Health</Link></li>\n              <li><Link to=\"/Health-Billing-&-Collections-Solutions\">Heath & Billing Collections</Link></li>\n              <li><Link to=\"#\">HealthCare Mergers & Acquisitions</Link></li>\n              <li>\n                <Link to=\"/Behavioral-Health-Credentialing-&-Contracting\">Behavioral Health Credentialing & Contracting</Link>\n              </li>\n            </ul>\n          </div>\n\n          <div className=\"footer-column\">\n            <h3>ABOUT US</h3>\n            <ul>\n              <li><Link to=\"/About-Us\">About Us</Link></li>\n              <li><Link to=\"/Who-We-Are\">Who We're </Link></li>\n              <li><Link to=\"/Our-Locations\">Locations</Link></li>\n              <li><Link to=\"/ThinkBeyond-Privacy-Policy\">Privacy Policy</Link></li>\n            </ul>\n          </div>\n        </div>\n\n        <div className=\"footer-bottom\">\n          <div className=\"social-section\">\n            <p>Follow Us</p>\n            <div className=\"social-icons\">\n              <Link to=\"https://www.instagram.com/the_thinkbeyond_solutions/\" aria-label=\"LinkedIn\" target='_blank'><FaLinkedin /></Link>\n              <Link to=\"https://www.facebook.com/thethinkbeyondsolutions\" aria-label=\"Facebook\" target='_blank'><FaFacebook /></Link>\n              <Link to=\"https://x.com/thethinkbeyond8\" aria-label=\"X-Twitter\" target='_blank'><BsTwitterX /></Link>\n              <Link to=\"https://wa.me/4169008153\" aria-label=\"X-WhatsApp\" target='_blank'><FaWhatsapp /></Link>\n            </div>\n          </div>\n\n          <div className=\"bottom-links\">\n            <Link to=\"/ProsoftSynergies-Privacy-Policy\">Privacy Policy</Link>\n            <span className=\"divider\">|</span>\n            <a href=\"#\">Accessibility</a>\n          </div>\n          <div>\n            <p className=\"bottom-links pt-5\"> Copyright  {currentYear} <Link to=\"/\" className='ms-2 me-3'>ProsoftSynergies.</Link> All Right Reserved{\" \"}\n            </p>\n          </div>\n        </div>\n      </div>\n       <ChatBotIcon />\n    </footer>\n    </>\n  );\n};\n\nexport default Footer;\n","import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate, useLocation, useParams } from 'react-router-dom';\nimport API from \"../helpers/API\";\nimport { useAuth } from \"../Context/AuthContext\";\nimport { LogoutNavbarLink } from './Logout/LogoutNavbar';\n\nimport './assets/vendors/mdi/css/materialdesignicons.min.css';\nimport './assets/vendors/font-awesome/css/font-awesome.min.css';\n\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport './Header.css';\nimport Logo from './PSPL-Logo.png';\n\n// Role constants\nconst ROLE_JOBSEEKER = 0;\nconst ROLE_ADMIN = 1;\nconst ROLE_EMPLOYER = 2;\nconst ROLE_SUPERADMIN = 3;\n\nconst TestHomeHeader = () => {\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [activeDropdown, setActiveDropdown] = useState(null);\n  const [isSticky, setIsSticky] = useState(false);\n\n  const [auth] = useAuth();\n  const [user, setUser] = useState({});\n  const params = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    const handleScroll = () => {\n      setIsSticky(window.scrollY > 40);\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const toggleMobileMenu = () => {\n    setMobileMenuOpen(!mobileMenuOpen);\n    setActiveDropdown(null);\n  };\n\n  const toggleDropdown = (index, e) => {\n    if (window.innerWidth <= 768) {\n      e.preventDefault();\n      setActiveDropdown(activeDropdown === index ? null : index);\n    }\n  };\n\n  const handleLinkClick = () => {\n    if (window.innerWidth <= 768 && mobileMenuOpen) {\n      setMobileMenuOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (\n        !e.target.closest('.nav-links') &&\n        !e.target.closest('.menu-toggle') &&\n        !e.target.closest('.cta-buttons') &&\n        window.innerWidth > 768\n      ) {\n        setActiveDropdown(null);\n      }\n    };\n\n    const handleResize = () => {\n      if (window.innerWidth > 768) {\n        setMobileMenuOpen(false);\n      }\n    };\n\n    document.addEventListener('click', handleClickOutside);\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  const notifyErr = (msg) =>\n    toast.error(msg, {\n      position: \"top-center\",\n      autoClose: 20000,\n      closeOnClick: true,\n      pauseOnHover: true,\n      theme: \"light\",\n    });\n\n  const notifySucc = (msg) =>\n    toast.success(msg, {\n      position: \"top-center\",\n      autoClose: 20000,\n      closeOnClick: true,\n      pauseOnHover: true,\n      theme: \"light\",\n    });\n\n  const fetchRegUserById = async () => {\n    try {\n      const { data } = await API.get(`/users/fetchRegUserById/${params._id}`);\n      setUser(data.user || {}); // Fixed: Ensure user is always an object\n    } catch (error) {\n      console.log(error);\n      setUser({}); // Fixed: Set empty object on error\n    }\n  };\n\n  useEffect(() => {\n    if (params?._id) fetchRegUserById();\n  }, [params?._id]);\n\n  // Helper function to safely check photo path\n  const getProfileImageSrc = (userPhoto) => {\n    if (!userPhoto) return ''; // Return empty string if no photo\n    \n    // Safely check if photo starts with specific path\n    const isUploadPath = typeof userPhoto === 'string' && userPhoto.startsWith('/uploads/userAvatars/');\n    return isUploadPath ? process.env.REACT_APP_API_URL + userPhoto : userPhoto;\n  };\n\n  // Helper function to safely get user name\n  const getUserDisplayName = (userObj) => {\n    const firstName = userObj?.firstname || userObj?.first_name || '';\n    const lastName = userObj?.lastname || userObj?.last_name || '';\n    return `${firstName} ${lastName}`.trim();\n  };\n\n  // Admin menu items\n  const renderAdminMenuItems = () => (\n    <>\n      <li>\n        <Link to=\"/Admin/Dashboard\" onClick={() => { window.location.href = \"/Admin/Dashboard\"; }}>\n          <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\n        </Link>\n      </li>\n      <li>\n        <Link to=\"/Admin/Manage-Jobs\" onClick={() => { window.location.href = \"/Admin/Manage-Jobs\"; }}>\n          <i className=\"mdi mdi-briefcase me-2 text-success menu-icon\"></i>Manage Jobs\n        </Link>\n      </li>\n      <li>\n        <Link to=\"/Admin/Manage-Sectors\" onClick={() => { window.location.href = \"/Admin/Manage-Sectors\"; }}>\n          <i className=\"mdi mdi-format-list-bulleted-type me-2 text-success menu-icon\"></i>Job Sectors\n        </Link>\n      </li>\n      <li>\n        <Link to=\"/Admin/Manage-Qualifications\" onClick={() => { window.location.href = \"/Admin/Manage-Qualifications\"; }}>\n          <i className=\"mdi mdi-school menu-icon me-2 text-success\"></i> Job Qualifications\n        </Link>\n      </li>\n      <li>\n        <Link to=\"/Admin/Manage-Work-Experiences\" onClick={() => { window.location.href = \"/Admin/Manage-Work-Experiences\"; }}>\n          <i className=\"mdi mdi-checkbox-multiple-marked menu-icon me-2 text-success\"></i> Job Experiences\n        </Link>\n      </li>\n      <li>\n        <Link to=\"/Admin/Manage-Work-Modes\" onClick={() => { window.location.href = \"/Admin/Manage-Work-Modes\"; }}>\n          <i className=\"mdi mdi-account-convert me-2 text-success\"></i> Work Modes\n        </Link>\n      </li>\n    </>\n  );\n\n  // Super Admin Menu Items\n  const renderSuperAdminMenuItems = () => (\n    <>\n      <li>\n        <Link to=\"/Super-Admin/Dashboard\" onClick={() => { window.location.href = \"/Super-Admin/Dashboard\"; }}>\n          <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\n        </Link>\n      </li>\n      <li>\n        <Link to=\"/Super-Admin/Manage-Jobs\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Jobs\"; }}>\n          <i className=\"mdi mdi-briefcase me-2 text-success menu-icon\"></i>Manage Jobs\n        </Link>\n      </li>\n      <li>\n        <Link to=\"/Super-Admin/Manage-Sectors\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Sectors\"; }}>\n          <i className=\"mdi mdi-format-list-bulleted-type me-2 text-success menu-icon\"></i>Job Sectors\n        </Link>\n      </li>\n      <li>\n        <Link to=\"/Super-Admin/Manage-Qualifications\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Qualifications\"; }}>\n          <i className=\"mdi mdi-school menu-icon me-2 text-success\"></i> Job Qualifications\n        </Link>\n      </li>\n      <li>\n        <Link to=\"/Super-Admin/Manage-Work-Experiences\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Work-Experiences\"; }}>\n          <i className=\"mdi mdi-checkbox-multiple-marked menu-icon me-2 text-success\"></i> Job Experiences\n        </Link>\n      </li>\n      <li>\n        <Link to=\"/Super-Admin/Manage-Work-Modes\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Work-Modes\"; }}>\n          <i className=\"mdi mdi-account-convert me-2 text-success\"></i> Work Modes\n        </Link>\n      </li>\n    </>\n  );\n\n  const renderLogoutItem = () => (\n    <li>\n      <LogoutNavbarLink onClick={() => { window.location.href = \"/Login\"; }}>\n        <i className=\"mdi mdi-logout me-2 text-success\"></i>\n        Logout\n      </LogoutNavbarLink>\n    </li>\n  );\n\n  return (\n    <header className={isSticky ? 'sticky' : ''}>\n      <div className=\"top-bar\">\n        <Link to=\"mailto:hrpspl@prosoftsynergies.com\" target=\"_blank\" className=\"login-btn info-link\">\n          <span className=\"contact-text\" style={{ color: \"#03294f\" }}>Email Us</span>\n          <i className='fas fa-envelope ms-1 fa-2x' style={{ color: \"#03294f\" }}></i>\n        </Link>\n        <Link to=\"https://wa.me/+15129617007\" className=\"login-btn phone-link\" target=\"_blank\">\n          <span className=\"contact-text\" style={{ color: \"#03294f\" }}>Let's Connect On WhatsApp</span>\n          <i className='fab fa-whatsapp ms-1 fa-2x' style={{ color: \"#03294f\" }}></i>\n        </Link>\n      </div>\n      <nav className={`main-nav ${isSticky ? 'sticky' : ''}`}>\n        <div className=\"PSPL-Logo logo\">\n          <Link to=\"/\"><img src={Logo} alt='ProsoftSynergies' /></Link>\n        </div>\n\n        <div\n          className={`menu-toggle ${mobileMenuOpen ? 'active' : ''}`}\n          onClick={toggleMobileMenu}\n          aria-label=\"Toggle navigation menu\"\n        >\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n\n        <ul className={`nav-links ${mobileMenuOpen ? 'active' : ''}`}>\n          <li className={activeDropdown === 0 ? 'active' : ''}>\n            <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(0, e)}>\n              FOR BUSINESSES\n            </Link>\n            <div className=\"mega-menu wide\">\n              <div className=\"mega-menu-column\">\n                <h3>Industries & Recruitment Solutions</h3>\n                <ul>\n                  <li><Link to=\"/Information-Technology-Recruitment\" onClick={handleLinkClick}>Information Technology Recruitment</Link></li>\n                  <li><Link to=\"/Government-Ministry-Recruitment\" onClick={handleLinkClick}>Government Ministry Recruitment</Link></li>\n                  <li><Link to=\"/Healthcare-&-Medical-Recruitment\" onClick={handleLinkClick}>Healthcare & Medical Recruitment</Link></li>\n                  <li><Link to=\"/Manufacturing-Recruitment\" onClick={handleLinkClick}>Manufacturing Recruitment</Link></li>\n                  <li><Link to=\"/Admin-&-Office-Support-Recruitment\" onClick={handleLinkClick}>Administration & Office Support Recruitment</Link></li>\n                  <li><Link to=\"/Transport-&-Logistics-Recruitment\" onClick={handleLinkClick}>Transport & Logistics Recruitment</Link></li>\n                  <li><Link to=\"/Construction-&-Infrastructure-Recruitment\" onClick={handleLinkClick}>Construction and Infrastructure Recruitment</Link></li>\n                </ul>\n              </div>\n              <div className=\"mega-menu-column\">\n                <h3>Education Recruitment & Solutions</h3>\n                <ul>\n                  <li><Link to=\"/Education-Recruitment\" onClick={handleLinkClick}>Education Recruitment</Link></li>\n                </ul>\n              </div>\n              <div className=\"mega-menu-column\">\n                <h3>Health Solutions</h3>\n                <ul>\n                  <li><Link to=\"/Behavioral-Health-Solutions\" onClick={handleLinkClick}>Behavioral Health</Link></li>\n                  <li><Link to=\"/Health-Billing-&-Collections-Solutions\" onClick={handleLinkClick}>Health & Billing Collections</Link></li>\n                  <li><Link to=\"#\" onClick={handleLinkClick}>HealthCare Mergers & Acquisitions</Link></li>\n                  <li><Link to=\"#\" onClick={handleLinkClick}>Behavioral Health Credentialing & Contracting</Link></li>\n                </ul>\n              </div>\n            </div>\n          </li>\n          <li className={activeDropdown === 1 ? 'active' : ''}>\n            <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(1, e)}>\n              JOB SEEKERS\n            </Link>\n            <div className=\"mega-menu\">\n              <h3>Career Opportunities</h3>\n              <ul>\n                <li><Link to=\"/Search-Jobs\" onClick={handleLinkClick}>Search Jobs</Link></li>\n                <li>\n                  {!auth.user ? (\n                    <Link to=\"/Login\" onClick={handleLinkClick}>Resume Upload</Link>\n                  ) : (() => {\n                    let linkPath = \"/PSPL-Access-Denied\";\n                    if (auth.user?.role === ROLE_JOBSEEKER) {\n                      linkPath = `/Applicant-Resume-Upload/${auth?.user?.userId}`;\n                    } else if (\n                      auth.user?.role === ROLE_ADMIN ||\n                      auth.user?.role === ROLE_EMPLOYER ||\n                      auth.user?.role === ROLE_SUPERADMIN\n                    ) {\n                      linkPath = \"/PSPL-Access-Denied\";\n                    }\n                    return <Link to={linkPath} onClick={handleLinkClick}>Resume Upload</Link>;\n                  })()}\n                </li>\n              </ul>\n            </div>\n          </li>\n          <li className={activeDropdown === 2 ? 'active' : ''}>\n            <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(2, e)}>\n              EMPLOYERS\n            </Link>\n            <div className=\"mega-menu\">\n              <h3>ProsoftSynergies Solutions</h3>\n              <ul>\n                <li><Link to=\"/Permanent-Hiring-Solutions\" onClick={handleLinkClick}>Permanent Hiring Solutions</Link></li>\n                <li><Link to=\"/Tailored-Solutions-For-Employers\" onClick={handleLinkClick}>Tailored Solutions For Employers</Link></li>\n                <li><Link to=\"/Fluid-Workforce-Solutions\" onClick={handleLinkClick}>Fluid Workforce Solutions</Link></li>\n              </ul>\n            </div>\n          </li>\n          <li className={activeDropdown === 3 ? 'active' : ''}>\n            <Link to=\"/About-Us\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(3, e)}>\n              ABOUT US\n            </Link>\n            <div className=\"mega-menu\">\n              <h3>Our Company</h3>\n              <ul>\n                <li><Link to=\"/About-Us\" onClick={handleLinkClick}>About Us</Link></li>\n                <li><Link to=\"/Who-We-Are\" onClick={handleLinkClick}>Who We're</Link></li>\n                <li><Link to=\"/Our-Locations\" onClick={handleLinkClick}>Locations</Link></li>\n              </ul>\n            </div>\n          </li>\n          <li><Link to=\"/Contact-Us\" onClick={handleLinkClick}>CONTACT US</Link></li>\n\n          {/* Role-Based Mobile Menus */}\n          {auth.user && (\n            <>\n              {auth.user?.role === ROLE_ADMIN && (\n                <li className=\"mobile-more-menu\">\n                  <li className={activeDropdown === 4 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\n                      {getUserDisplayName(auth.user)}\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\n                    </Link>\n                    <div className=\"mega-menu\">\n                      <h3>Admin Quick Access</h3>\n                      <ul>\n                        {renderAdminMenuItems()}\n                        {renderLogoutItem()}\n                      </ul>\n                    </div>\n                  </li>\n                </li>\n              )}\n\n              {auth.user?.role === ROLE_SUPERADMIN && (\n                <li className=\"mobile-more-menu\">\n                  <li className={activeDropdown === 5 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(5, e)}>\n                      {getUserDisplayName(auth.user)}\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\n                    </Link>\n                    <div className=\"mega-menu\">\n                      <h3>Super Admin Quick Access</h3>\n                      <ul>\n                        {renderSuperAdminMenuItems()}\n                        {renderLogoutItem()}\n                      </ul>\n                    </div>\n                  </li>\n                </li>\n              )}\n\n              {auth.user?.role === ROLE_EMPLOYER && (\n                <li className=\"mobile-more-menu\">\n                  <li className={activeDropdown === 4 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\n                      <img\n                        className=\"profile-image me-2\"\n                        src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\n                        alt={getUserDisplayName(auth.user)}\n                        aria-label=\"User profile photo\"\n                        role=\"button\"\n                        style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\n                      />\n                      {getUserDisplayName(auth.user)}\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\n                    </Link>\n                    <div className=\"mega-menu\">\n                      <h3>Employer Quick Access</h3>\n                      <ul>\n                        <li>\n                          <Link to=\"#\" onClick={handleLinkClick}>\n                            <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\n                          </Link>\n                        </li>\n                        <li><Link to=\"#\" onClick={handleLinkClick}>Account</Link></li>\n                        {renderLogoutItem()}\n                      </ul>\n                    </div>\n                  </li>\n                </li>\n              )}\n\n              {(auth.user?.role !== ROLE_ADMIN && auth.user?.role !== ROLE_SUPERADMIN && auth.user?.role !== ROLE_EMPLOYER) && (\n                <li className=\"mobile-more-menu\">\n                  <li className={activeDropdown === 4 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\n                      <img\n                        className=\"profile-image me-2\"\n                        src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\n                        alt={getUserDisplayName(auth.user)}\n                        aria-label=\"User profile photo\"\n                        role=\"button\"\n                        style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\n                      />\n                      {getUserDisplayName(auth.user)}\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\n                    </Link>\n                    <div className=\"mega-menu\">\n                      <h3>Job Seeker Quick Access</h3>\n                      <ul>\n                        <li>\n                          <Link to=\"/Applicant-Profile-Dashboard\" onClick={() => { window.location.href = \"/Applicant-Profile-Dashboard\"; }}>\n                            <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\n                          </Link>\n                        </li>\n                        <li>\n                          <Link to={`/Applicant/Profile/${auth?.user?.userId}`} onClick={() => { window.location.href = `/Applicant/Profile/${auth?.user?.userId}`; }}>\n                            <i className=\"mdi mdi-account-key menu-icon me-2 text-success\"></i> Account\n                          </Link>\n                        </li>\n                        {renderLogoutItem()}\n                      </ul>\n                    </div>\n                  </li>\n                </li>\n              )}\n            </>\n          )}\n        </ul>\n\n        <div className=\"cta-buttons\">\n          {!auth.user ? (\n            <>\n              <Link to=\"/Login\" className=\"cta-btn hPostJob-btn\">Post Job</Link>\n              <Link to=\"/Login\" className=\"cta-btn hLogin-btn\">Login</Link>\n            </>\n          ) : (\n            <>\n              {auth.user?.role === ROLE_ADMIN && (\n                <>\n                  <Link to=\"/Admin/Add-Job\" className=\"cta-btn hPostJob-btn\" onClick={() => { window.location.href = \"/Admin/Add-Job\"; }}>Post Job</Link>\n                  <div className=\"cta-dropdown\">\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\n                        <i className='mdi mdi-account-check me-2 text-primary' style={{ fontSize: \"30px\" }}></i>\n                        {getUserDisplayName(auth.user)}\n                      </Link>\n                      <div className=\"mega-menu\">\n                        <h3>Admin Quick Access</h3>\n                        <ul>\n                          {renderAdminMenuItems()}\n                          {renderLogoutItem()}\n                        </ul>\n                      </div>\n                    </li>\n                  </div>\n                </>\n              )}\n\n              {auth.user?.role === ROLE_SUPERADMIN && (\n                <>\n                  <Link to=\"/Super-Admin/Add-Job\" className=\"cta-btn hPostJob-btn\" onClick={() => { window.location.href = \"/Super-Admin/Add-Job\"; }}>Post Job</Link>\n                  <div className=\"cta-dropdown\">\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\n                        <i className='mdi mdi-account-check me-2 text-primary' style={{ fontSize: \"30px\" }}></i>\n                        {getUserDisplayName(auth.user)}\n                      </Link>\n                      <div className=\"mega-menu\">\n                        <h3>Super Admin Quick Access</h3>\n                        <ul>\n                          {renderSuperAdminMenuItems()}\n                          {renderLogoutItem()}\n                        </ul>\n                      </div>\n                    </li>\n                  </div>\n                </>\n              )}\n\n              {auth.user?.role === ROLE_EMPLOYER && (\n                <>\n                  <Link to=\"#\" className=\"cta-btn hPostJob-btn\">Post Job</Link>\n                  <div className=\"cta-dropdown\">\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\n                        <img\n                          className=\"profile-image me-2\"\n                          src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\n                          alt={getUserDisplayName(auth.user)}\n                          aria-label=\"User profile photo\"\n                          role=\"button\"\n                          style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\n                        />\n                        {getUserDisplayName(auth.user)}\n                      </Link>\n                      <div className=\"mega-menu\">\n                        <h3>Employer Quick Access</h3>\n                        <ul>\n                          <li>\n                            <Link to=\"#\" onClick={handleLinkClick}>\n                              <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\n                            </Link>\n                          </li>\n                          <li><Link to=\"#\" onClick={handleLinkClick}>Account</Link></li>\n                          {renderLogoutItem()}\n                        </ul>\n                      </div>\n                    </li>\n                  </div>\n                </>\n              )}\n\n              {(auth.user?.role !== ROLE_ADMIN && auth.user?.role !== ROLE_SUPERADMIN && auth.user?.role !== ROLE_EMPLOYER) && (\n                <>\n                  <Link to=\"/Search-Jobs\" className=\"cta-btn hPostJob-btn\">Find A Job</Link>\n                  <div className=\"cta-dropdown\">\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\n                        <img\n                          className=\"profile-image me-2\"\n                          src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\n                          alt={getUserDisplayName(auth.user)}\n                          aria-label=\"User profile photo\"\n                          role=\"button\"\n                          style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\n                        />\n                        {getUserDisplayName(auth.user)}\n                      </Link>\n                      <div className=\"mega-menu\">\n                        <h3>Job Seeker Quick Access</h3>\n                        <ul>\n                          <li>\n                            <Link to=\"/Applicant-Profile-Dashboard\" onClick={() => { window.location.href = \"/Applicant-Profile-Dashboard\"; }}>\n                              <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\n                            </Link>\n                          </li>\n                          <li>\n                            <Link to={`/Applicant/Profile/${auth?.user?.userId}`} onClick={() => { window.location.href = `/Applicant/Profile/${auth?.user?.userId}`; }}>\n                              <i className=\"mdi mdi-account-key menu-icon me-2 text-success\"></i> Account\n                            </Link>\n                          </li>\n                          {renderLogoutItem()}\n                        </ul>\n                      </div>\n                    </li>\n                  </div>\n                </>\n              )}\n            </>\n          )}\n        </div>\n      </nav>\n    </header>\n  );\n};\n\nexport default TestHomeHeader;\n","import React from \"react\";\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\nimport { useAuth } from \"../../Context/AuthContext\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n// Toast configuration constants\nconst TOAST_CONFIG = {\n  position: \"top-center\",\n  autoClose: 5000,\n  closeOnClick: true,\n  pauseOnHover: true,\n  theme: \"light\"\n};\n\n/**\n * Custom hook to handle logout logic\n * @returns {Object} Object containing handleLogout function\n */\nexport const useLogout = () => {\n  const [auth, setAuth] = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n \n  const notifyError = (msg) => toast.error(msg, TOAST_CONFIG);\n  const notifySuccess = (msg) => toast.success(msg, TOAST_CONFIG);\n \n  const handleLogout = () => {\n    try {\n      setAuth({ ...auth, user: null, token: \"\" });\n      localStorage.removeItem(\"userAuthDetails\");\n      notifySuccess(\"You have Logged Out Successfully!\");\n      navigate(location.state || \"/Login\");\n      \n      // Consider using navigate with a refresh parameter instead of manual reload\n      // This avoids potential memory leaks or incomplete navigation\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Logout error:\", error);\n      notifyError(\"Something went wrong during logout!\");\n    }\n  };\n \n  return { handleLogout };\n};\n\n/**\n * Logout Button Component - can be used as a standalone component\n * @param {Object} props - Component props\n * @param {string} props.className - Optional CSS class\n * @param {React.ReactNode} props.children - Optional custom content\n */\nconst LogoutButton = ({ className, children }) => {\n  const { handleLogout } = useLogout();  \n \n  return (\n    <button\n      onClick={handleLogout}\n      className={className || \"logout-button\"}\n      type=\"button\" // Explicitly define button type for better accessibility\n    >\n      {children || (\n        <>          \n         <span className=\"menu-title\">Logout</span>\n         <i className=\"mdi mdi-logout menu-icon\"></i>\n        </>\n      )}\n    </button>\n  );\n};\n\n/**\n * Logout Link Component - for use within navigation that requires <Link>\n * @param {Object} props - Component props\n * @param {string} props.className - Optional CSS class\n * @param {string} props.to - Optional target path (unused)\n * @param {React.ReactNode} props.children - Optional custom content\n */\nconst LogoutLink = ({ className, to = \"/Test-Login\", children }) => {\n  const { handleLogout } = useLogout();\n \n  return (\n    <Link\n      to=\"#\"\n      className={className || \"menu-title\"}\n      onClick={(e) => {\n        e.preventDefault();\n        handleLogout();\n      }}\n    >\n      {children || (\n        <>\n          <span className=\"menu-title\">Logout</span>\n          <i className=\"mdi mdi-logout menu-icon\"></i>\n        </>\n      )}\n    </Link>\n  );\n};\n\nexport { LogoutButton, LogoutLink };\nexport default LogoutLink;"],"names":["Modal","STORAGE_USER_KEY","process","REACT_APP_CHAT_STORAGE_USER_KEY","STORAGE_MESSAGES_PREFIX","REACT_APP_CHAT_STORAGE_MESSAGES_PREFIX","STORAGE_INPUT_KEY","REACT_APP_CHAT_INPUT_KEY","timeAgo","ts","d","Date","diff","Math","floor","now","getTime","concat","toLocaleDateString","defaultAvatar","getProfileImageSrc","userPhoto","arguments","length","undefined","startsWith","async","fetchBusinessHours","logWithIcon","info","res","API","get","params","timezone","data","success","businessData","isOpen","currentTime","warning","err","error","ChatBotIcon","socket","isConnected","useSocket","auth","useAuth","userFromAuth","user","navigate","useNavigate","input","setInput","useState","setIsOpen","session","setSession","messages","setMessages","businessInfo","setBusinessInfo","unreadCount","setUnreadCount","showGuestForm","setShowGuestForm","isSubmittingGuest","setIsSubmittingGuest","guestFormSubmitted","setGuestFormSubmitted","guestFormErrors","setGuestFormErrors","defaultMessagesLoaded","setDefaultMessagesLoaded","hasUserSentMessage","setHasUserSentMessage","showQuitConfirm","setShowQuitConfirm","pendingMessages","setPendingMessages","Set","isQuitting","setIsQuitting","guestInfo","setGuestInfo","firstName","lastName","email","phone","audioRef","useRef","messagesEndRef","quitTimeoutRef","businessHoursIntervalRef","userFormSubmitted","useMemo","active","storageKey","result","guest","_id","id","handleQuit","useCallback","console","warn","log","current","clearInterval","setTimeout","connected","emit","sessionId","ReactDOM","currentSessionKey","localStorage","removeItem","keysToRemove","i","key","push","forEach","resetGuestForm","requestAnimationFrame","resetState","cancelGuestForm","prev","lastMessage","from","slice","handleModalOverlayClick","e","target","currentTarget","useEffect","clearTimeout","biz","toISOString","message","initialFetch","setInterval","prevInfo","handleEscKey","document","addEventListener","removeEventListener","savedInput","getItem","trim","timeoutId","setItem","raw","u","JSON","parse","hasRequiredInfo","Boolean","loadedMessages","some","msg","stringify","scrollIntoView","behavior","beepUrl","Audio","normalizeMessage","_msg$metadata","_session$agent","_msg$metadata2","random","text","createdAt","timestamp","senderType","avatar","metadata","senderAvatar","agent","photo","FavIconLogo","_objectSpread","quickReplies","handleIncomingMessage","rawMsg","_rawMsg$metadata","redirectUrl","url","window","open","prevMessages","existingMsg","abs","newPending","pendingId","includes","substring","delete","onSessionCreated","payloadRaw","_payloadRaw$body","payload","body","sess","businessHours","welcomeMessage","guestSessionEvent","guestEmail","onGuestSessionCreated","onMessageNew","onMessageStatus","_ref","messageId","status","map","m","on","off","createSession","hasSocket","hasSession","sessionData","entryPoint","selectedOption","firstname","lastname","authenticatedUser","userId","guestFirstName","guestLastName","guestPhone","_result$body","validateGuestForm","errors","test","handleGuestFormChange","name","value","newErrors","submit","submitGuestForm","Object","keys","response","post","Error","lastUserMessage","find","outsideHoursMessage","outsideHoursOptions","messageType","_error$response","_error$response$data","sendMessage","isLiveAgentRequest","toLowerCase","userMessage","requestType","connectingMessage","isTemporary","handleQuickReply","option","userSelection","tempMessage","initializeChatSession","QuitConfirmationModal","_jsx","className","onClick","children","_jsxs","stopPropagation","disabled","_Fragment","inputEnabled","next","handleHeaderClick","Link","to","src","alt","title","renderMessage","index","_m$quickReplies","isUser","qr","ref","onChange","placeholder","onKeyDown","type","autoComplete","required","Footer","_auth$user","_auth$user2","_auth$user5","_auth$user6","currentYear","getFullYear","setAuth","setUser","useParams","fetchRegUserById","useLocation","role","location","href","_auth$user3","userRole","linkPath","_auth$user4","LogoutLink","FaLinkedin","FaFacebook","BsTwitterX","FaWhatsapp","TestHomeHeader","_auth$user7","_auth$user8","_auth$user9","_auth$user0","_auth$user1","_auth$user10","_auth$user11","_auth$user12","_auth$user14","_auth$user15","_auth$user16","_auth$user17","_auth$user18","_auth$user19","_auth$user20","_auth$user21","_auth$user22","mobileMenuOpen","setMobileMenuOpen","activeDropdown","setActiveDropdown","isSticky","setIsSticky","handleScroll","scrollY","toggleDropdown","innerWidth","preventDefault","handleLinkClick","handleClickOutside","closest","handleResize","getUserDisplayName","userObj","first_name","last_name","renderAdminMenuItems","renderSuperAdminMenuItems","renderLogoutItem","LogoutNavbarLink","style","color","Logo","toggleMobileMenu","marginBottom","fontSize","borderRadius","height","width","_auth$user13","_auth$user23","TOAST_CONFIG","position","autoClose","closeOnClick","pauseOnHover","theme","useLogout","handleLogout","token","toast","state","reload","notifyError","_ref2"],"sourceRoot":""}