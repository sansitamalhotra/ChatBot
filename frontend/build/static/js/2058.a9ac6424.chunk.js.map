{"version":3,"file":"static/js/2058.a9ac6424.chunk.js","mappings":"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","sources":["components/ChatBotIcon/ping.js","components/ChatBotIcon/ChatBotIcon.jsx","Pages/Footer.jsx","Pages/TestHomeHeader.jsx","Pages/Logout/Logout.jsx"],"sourcesContent":["const createPingSound = () => {\r\n  // Simple WAV file data URL with a short beep\r\n  // This is a minimal WAV file containing a 440Hz tone for about 200ms\r\n  const wavData = \"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmgfCdKR2/LVdiMFl5qQ0NJhJwAVZrXn6UoMCtmr5uW5bhoFl6mc0dVmDAOJmdR+UD0hD2K76dVrHwgXirLe2HIqBTyDyfHchzIFC0G25+mxWhAJYKHV7b1qLwU0g8rx34k1BTGByvHciEAHGGy88tyWPgUmfMs+4YlEBTqByvHci0EGH3LB9deWP\";\r\n  \r\n  return wavData;\r\n};\r\n\r\n// Export the ping sound\r\nconst beepUrl = createPingSound();\r\nexport default beepUrl;\r\n","import React, { useEffect, useRef, useState, useMemo, useCallback } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport API from \"../../helpers/API\";\r\nimport { useSocket } from \"../../Context/SocketContext\";\r\nimport { useAuth } from \"../../Context/AuthContext\";\r\nimport { logWithIcon } from \"../../utils/consoleIcons\";\r\nimport \"./ChatBotIcon.css\";\r\nimport beepUrl from \"./ping\";\r\nimport FavIconLogo from \"./FaviIcon-Logo.png\";\r\nimport Modal from 'react-modal';\r\n\r\nModal.setAppElement('#root');\r\n\r\n// Use environment variable or fallback to default\r\nconst STORAGE_USER_KEY = process.env.REACT_APP_CHAT_STORAGE_USER_KEY || \"chat_widget_userinfo_v1\";\r\nconst STORAGE_MESSAGES_PREFIX = process.env.REACT_APP_CHAT_STORAGE_MESSAGES_PREFIX || \"chat_widget_messages_v1_\";\r\nconst STORAGE_INPUT_KEY = process.env.REACT_APP_CHAT_INPUT_KEY || \"chat_widget_input_v1\"; // New storage key for input\r\nconst STORAGE_CHAT_STATE_KEY = process.env.REACT_APP_CHAT_STATE_KEY || \"chat_widget_state_v1\"; // New storage key for chat state\r\n\r\nfunction timeAgo(ts) {\r\n  if (!ts) return \"\";\r\n  const d = new Date(ts);\r\n  const diff = Math.floor((Date.now() - d.getTime()) / 1000);\r\n  if (diff < 10) return \"just now\";\r\n  if (diff < 60) return `${diff}s`;\r\n  if (diff < 3600) return `${Math.floor(diff / 60)}m`;\r\n  if (diff < 86400) return `${Math.floor(diff / 3600)}h`;\r\n  return d.toLocaleDateString();\r\n}\r\n\r\nconst defaultAvatar =\r\n  \"https://img.freepik.com/premium-vector/account-icon-user-icon-vector-graphics_292645-552.jpg?w=300\";\r\n\r\nconst getProfileImageSrc = (userPhoto, isGuest = false) => {\r\n  if (isGuest) return defaultAvatar;\r\n  if (!userPhoto) return \"\";\r\n  const isUploadPath =\r\n    typeof userPhoto === \"string\" &&\r\n    userPhoto.startsWith(\"/uploads/userAvatars/\");\r\n  return isUploadPath\r\n    ? process.env.REACT_APP_API_URL + userPhoto\r\n    : userPhoto;\r\n};\r\n\r\nasync function fetchBusinessHours() {\r\n  try {\r\n    const res = await API.get(`/api/v1/businessHours/checkBusinessHoursStatus`);\r\n    if (res.data.success) {\r\n      return res.data.data;\r\n    }\r\n  } catch (err) {\r\n    logWithIcon.error(\"Failed to fetch business hours\", err);\r\n  }\r\n  return null;\r\n}\r\n\r\nconst ChatBotIcon = () => {\r\n  const { socket, isConnected } = useSocket();\r\n  const [auth] = useAuth();\r\n  const userFromAuth = auth?.user;\r\n  const { user } = useAuth();\r\n\r\n  const [input, setInput] = useState(\"\");\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [session, setSession] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [quickReplies, setQuickReplies] = useState([]);\r\n  const [businessInfo, setBusinessInfo] = useState(null);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [showGuestForm, setShowGuestForm] = useState(false);\r\n  const [isSubmittingGuest, setIsSubmittingGuest] = useState(false);\r\n  const [guestFormErrors, setGuestFormErrors] = useState({});\r\n  \r\n  const [guestInfo, setGuestInfo] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    phone: ''\r\n  });\r\n\r\n  const audioRef = useRef(null);\r\n  const messagesEndRef = useRef(null);\r\n\r\n  // Check if user form is properly submitted\r\n  const userFormSubmitted = useMemo(() => {\r\n    if (userFromAuth) return true;\r\n    return Boolean(guestInfo.firstName && guestInfo.email && guestInfo.firstName.trim() && guestInfo.email.trim());\r\n  }, [userFromAuth, guestInfo.firstName, guestInfo.email]);\r\n\r\n  // Determine if user needs to fill guest form\r\n  const needsGuestForm = useMemo(() => {\r\n    logWithIcon.logging('Checking needsGuestForm:', {\r\n      userFromAuth: !!userFromAuth,\r\n      userFormSubmitted,\r\n      guestInfoComplete: !!(guestInfo.firstName && guestInfo.email)\r\n    });\r\n    \r\n    // If user is authenticated, they never need guest form\r\n    if (userFromAuth) {\r\n      return false;\r\n    }\r\n    \r\n    // If not authenticated and guest form not submitted, they need form\r\n    return !userFormSubmitted;\r\n  }, [userFromAuth, userFormSubmitted, guestInfo]);\r\n\r\n  const storageKey = useMemo(\r\n    () => STORAGE_MESSAGES_PREFIX + (session?._id || session?.id || \"guest\"),\r\n    [session]\r\n  );\r\n\r\n  // Enhanced: Load persisted input text on mount\r\n  useEffect(() => {\r\n    try {\r\n      const savedInput = localStorage.getItem(STORAGE_INPUT_KEY);\r\n      if (savedInput) {\r\n        setInput(savedInput);\r\n        logWithIcon.info(\"Restored input text from localStorage:\", savedInput);\r\n      }\r\n    } catch (error) {\r\n      logWithIcon.warning(\"Failed to load input from localStorage:\", error);\r\n    }\r\n  }, []);\r\n\r\n  // Enhanced: Save input text to localStorage whenever it changes\r\n  useEffect(() => {\r\n    try {\r\n      if (input.trim()) {\r\n        localStorage.setItem(STORAGE_INPUT_KEY, input);\r\n      } else {\r\n        localStorage.removeItem(STORAGE_INPUT_KEY);\r\n      }\r\n    } catch (error) {\r\n      logWithIcon.warning(\"Failed to save input to localStorage:\", error);\r\n    }\r\n  }, [input]);\r\n\r\n  // Enhanced: Load persisted chat state on mount\r\n  useEffect(() => {\r\n    try {\r\n      const savedChatState = localStorage.getItem(STORAGE_CHAT_STATE_KEY);\r\n      if (savedChatState) {\r\n        const chatState = JSON.parse(savedChatState);\r\n        if (chatState.isOpen) {\r\n          setIsOpen(chatState.isOpen);\r\n          logWithIcon.info(\"Restored chat state from localStorage:\", chatState);\r\n        }\r\n        if (chatState.unreadCount && chatState.unreadCount > 0) {\r\n          setUnreadCount(chatState.unreadCount);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      logWithIcon.warning(\"Failed to load chat state from localStorage:\", error);\r\n    }\r\n  }, []);\r\n\r\n  // Enhanced: Save chat state to localStorage whenever it changes\r\n  useEffect(() => {\r\n    try {\r\n      const chatState = {\r\n        isOpen,\r\n        unreadCount,\r\n        timestamp: Date.now()\r\n      };\r\n      localStorage.setItem(STORAGE_CHAT_STATE_KEY, JSON.stringify(chatState));\r\n    } catch (error) {\r\n      logWithIcon.warning(\"Failed to save chat state to localStorage:\", error);\r\n    }\r\n  }, [isOpen, unreadCount]);\r\n\r\n  /** --- Load persisted guest + messages on mount --- **/\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem(STORAGE_USER_KEY);\r\n      if (raw) {\r\n        const u = JSON.parse(raw);\r\n        setGuestInfo({\r\n          firstName: u.firstName || \"\",\r\n          lastName: u.lastName || \"\",\r\n          email: u.email || \"\",\r\n          phone: u.phone || \"\"\r\n        });\r\n      }\r\n    } catch (error) {\r\n      logWithIcon.warning(\"Failed to load guest info from localStorage:\", error);\r\n    }\r\n  }, []);\r\n\r\n  // Enhanced: Load persisted messages on mount with fallback initialization\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem(storageKey);\r\n      if (raw) {\r\n        const savedMessages = JSON.parse(raw);\r\n        if (savedMessages && savedMessages.length > 0) {\r\n          setMessages(savedMessages);\r\n          logWithIcon.info('ðŸ’¾ Loaded messages from localStorage:', savedMessages.length);\r\n          \r\n          // Restore quick replies from the last message if any\r\n          const lastMessage = savedMessages[savedMessages.length - 1];\r\n          if (lastMessage && lastMessage.quickReplies && lastMessage.quickReplies.length > 0) {\r\n            setQuickReplies(lastMessage.quickReplies);\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      logWithIcon.warning(\"Failed to load messages from localStorage:\", error);\r\n    }\r\n  }, [storageKey]);\r\n\r\n  // Enhanced: Save messages to localStorage and preserve quick replies\r\n  useEffect(() => {\r\n    try {\r\n      if (messages.length > 0) {\r\n        localStorage.setItem(storageKey, JSON.stringify(messages));\r\n      }\r\n    } catch (error) {\r\n      logWithIcon.warning(\"Failed to save messages to localStorage:\", error);\r\n    }\r\n  }, [messages, storageKey]);\r\n\r\n  /** --- Scroll to bottom on new messages when open --- **/\r\n  useEffect(() => {\r\n    if (isOpen && messagesEndRef.current) {\r\n      messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n  }, [messages, isOpen]);\r\n\r\n  /** --- Prepare notification sound --- **/\r\n  useEffect(() => {\r\n    if (beepUrl) audioRef.current = new Audio(beepUrl);\r\n  }, []);\r\n\r\n  /** --- Socket listeners --- **/\r\n  const normalizeMessage = useCallback(\r\n    (msg) => {\r\n      if (!msg) return null;\r\n      const id = msg._id || msg.id || `m_${Date.now()}`;\r\n      const text = msg.message || msg.text || \"\";\r\n      const ts = msg.createdAt || msg.timestamp || Date.now();\r\n      const from =\r\n        msg.senderType === \"user\"\r\n          ? \"user\"\r\n          : msg.senderType === \"agent\"\r\n          ? \"agent\"\r\n          : msg.senderType === \"bot\"\r\n          ? \"bot\"\r\n          : msg.from || \"bot\";\r\n\r\n      const avatar =\r\n        msg.metadata?.senderAvatar ||\r\n        (from === \"agent\"\r\n          ? session?.agent?.photo || FavIconLogo\r\n          : from === \"user\"\r\n          ? getProfileImageSrc(userFromAuth?.photo, !userFromAuth)\r\n          : FavIconLogo);\r\n\r\n      return {\r\n        id,\r\n        from,\r\n        text,\r\n        timestamp: ts,\r\n        avatar,\r\n        quickReplies: msg.metadata?.quickReplies || msg.quickReplies || [],\r\n      };\r\n    },\r\n    [session, userFromAuth]\r\n  );\r\n\r\n  const handleIncomingMessage = useCallback(\r\n    (rawMsg) => {\r\n      const msg = normalizeMessage(rawMsg);\r\n      if (!msg) return;\r\n\r\n      setMessages((prev) => [...prev, msg]);\r\n      setQuickReplies(msg.quickReplies.length ? msg.quickReplies : []);\r\n\r\n      if (!isOpen) {\r\n        setUnreadCount((n) => n + 1);\r\n        try {\r\n          audioRef.current && audioRef.current.play().catch(() => {});\r\n        } catch {}\r\n      }\r\n    },\r\n    [normalizeMessage, isOpen]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    const onSessionCreated = (payloadRaw) => {\r\n      const payload = payloadRaw?.body?.data || payloadRaw;\r\n      const sess = payload?.session || payload || null;\r\n      if (sess) {\r\n        setSession(sess);\r\n        if (payload.businessHours) setBusinessInfo(payload.businessHours);\r\n      }\r\n      if (payload?.welcomeMessage) {\r\n        handleIncomingMessage(payload.welcomeMessage);\r\n      }\r\n    };\r\n\r\n    const onMessageNew = (msg) => handleIncomingMessage(msg);\r\n    const onMessageStatus = ({ messageId, status }) =>\r\n      setMessages((prev) =>\r\n        prev.map((m) => (m.id === messageId ? { ...m, status } : m))\r\n      );\r\n\r\n    socket.on(\"session:created\", onSessionCreated);\r\n    socket.on(\"message:new\", onMessageNew);\r\n    socket.on(\"message:status\", onMessageStatus);\r\n\r\n    return () => {\r\n      socket.off(\"session:created\", onSessionCreated);\r\n      socket.off(\"message:new\", onMessageNew);\r\n      socket.off(\"message:status\", onMessageStatus);\r\n    };\r\n  }, [socket, handleIncomingMessage]);\r\n\r\n  /** --- Create a new session --- **/\r\nconst createSession = useCallback(async () => {\r\n  if (!socket || !socket.connected) {\r\n    logWithIcon.error('Cannot create session: socket not connected');\r\n    return;\r\n  }\r\n  \r\n  if (session) {\r\n    logWithIcon.info('â„¹ï¸ Session already exists:', session._id);\r\n    return;\r\n  }\r\n\r\n  let sessionData;\r\n  const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n\r\n  logWithIcon.waiting('Creating session - user check:', {\r\n    userFromAuth: !!userFromAuth,\r\n    userEmail: userFromAuth?.email,\r\n    userId: userFromAuth?._id || userFromAuth?.id,\r\n    guestInfo: guestInfo.email\r\n  });\r\n\r\n  // CRITICAL FIX: Proper authentication check using the actual auth context\r\n  if (userFromAuth && (userFromAuth._id || userFromAuth.id)) {\r\n    // For AUTHENTICATED users - DO NOT send guestEmail\r\n    sessionData = {\r\n      entryPoint: \"widget\",\r\n      selectedOption: \"general_inquiry\", \r\n      timezone,\r\n      firstName: userFromAuth.firstname || userFromAuth.firstName || 'User',\r\n      lastName: userFromAuth.lastname || userFromAuth.lastName || '',\r\n      email: userFromAuth.email,\r\n      phone: userFromAuth.phone || '',\r\n      // CRITICAL: NO guestEmail for authenticated users\r\n      metadata: {\r\n        authenticatedUser: true,\r\n        userId: userFromAuth._id || userFromAuth.id\r\n      }\r\n    };\r\n    \r\n    logWithIcon.success('Creating session for AUTHENTICATED user:', {\r\n      email: userFromAuth.email,\r\n      userId: userFromAuth._id || userFromAuth.id\r\n    });\r\n  } \r\n  // Only for actual GUEST users\r\n  else if (!userFromAuth && userFormSubmitted && guestInfo.firstName && guestInfo.email) {\r\n    const { firstName, lastName, email, phone } = guestInfo;\r\n    \r\n    if (!firstName.trim() || !email.trim()) {\r\n      logWithIcon.error('Cannot create guest session: missing required fields');\r\n      return;\r\n    }\r\n    \r\n    sessionData = {\r\n      entryPoint: \"widget\",\r\n      selectedOption: \"general_inquiry\",\r\n      timezone,\r\n      firstName: firstName.trim(),\r\n      lastName: lastName?.trim() || '',\r\n      email: email.toLowerCase().trim(),\r\n      phone: phone?.trim() || '',\r\n      guestEmail: email.toLowerCase().trim(), // This tells backend it's a guest user\r\n      metadata: {\r\n        guestFirstName: firstName.trim(),\r\n        guestLastName: lastName?.trim() || '',\r\n        guestPhone: phone?.trim() || '',\r\n        authenticatedUser: false,\r\n        isGuest: true\r\n      }\r\n    };\r\n    \r\n    logWithIcon.success('Creating session for GUEST user:', email);\r\n  } else {\r\n    logWithIcon.error('Cannot create session: invalid user state', {\r\n      userFromAuth: !!userFromAuth,\r\n      userFormSubmitted,\r\n      guestEmail: guestInfo.email\r\n    });\r\n    return;\r\n  }\r\n\r\n  // Create session with proper error handling\r\n  try {\r\n    logWithIcon.emit('ðŸ“¤ Emitting session:create with data:', {\r\n      ...sessionData,\r\n      email: sessionData.email,\r\n      isGuest: !userFromAuth\r\n    });\r\n\r\n    const result = await new Promise((resolve, reject) => {\r\n      const timeout = setTimeout(() => {\r\n        reject(new Error('Session creation timeout'));\r\n      }, 10000);\r\n\r\n      socket.emit(\"session:create\", sessionData, (err, result) => {\r\n        clearTimeout(timeout);\r\n        \r\n        if (err) {\r\n          logWithIcon.error(\"session:create error:\", err);\r\n          reject(err);\r\n          return;\r\n        }\r\n        \r\n        logWithIcon.emit('session:create response:', result);\r\n        \r\n        const data = result?.body?.data || result;\r\n        const sess = data?.session || data || null;\r\n        \r\n        if (sess) {\r\n          logWithIcon.success('Session created successfully:', sess._id);\r\n          setSession(sess);\r\n          if (data.welcomeMessage) handleIncomingMessage(data.welcomeMessage);\r\n          if (data.businessHours) setBusinessInfo(data.businessHours);\r\n          resolve(sess);\r\n        } else {\r\n          logWithIcon.error('No session data in response:', result);\r\n          reject(new Error('No session data received'));\r\n        }\r\n      });\r\n    });\r\n\r\n    logWithIcon.success('Session creation completed:', result._id);\r\n  } catch (error) {\r\n    logWithIcon.error('Failed to create session:', error);\r\n    setMessages([\r\n      {\r\n        id: \"session-error\",\r\n        from: \"bot\", \r\n        text: \"Sorry, I'm having trouble starting our conversation. Please try refreshing the page.\",\r\n        timestamp: Date.now(),\r\n        avatar: FavIconLogo,\r\n        quickReplies: [],\r\n      },\r\n    ]);\r\n  }\r\n}, [socket, session, userFromAuth, guestInfo, userFormSubmitted, handleIncomingMessage]);\r\n\r\n  /** --- Send message --- **/\r\n  const sendMessage = useCallback(() => {\r\n    if (!input.trim()) return;\r\n    const text = input.trim();\r\n    const draft = {\r\n      id: `local_${Date.now()}`,\r\n      from: \"user\",\r\n      text,\r\n      timestamp: Date.now(),\r\n      avatar: userFromAuth\r\n        ? getProfileImageSrc(userFromAuth?.photo)\r\n        : defaultAvatar,\r\n    };\r\n    setMessages((prev) => [...prev, draft]);\r\n    \r\n    // Enhanced: Clear input and remove from localStorage after sending\r\n    setInput(\"\");\r\n    try {\r\n      localStorage.removeItem(STORAGE_INPUT_KEY);\r\n    } catch (error) {\r\n      logWithIcon.warning(\"Failed to remove input from localStorage:\", error);\r\n    }\r\n    \r\n    if (!socket || !socket.connected) return;\r\n    socket.emit(\"message:send\", {\r\n      sessionId: session?._id || session?.id,\r\n      message: text,\r\n      messageType: \"text\",\r\n    });\r\n  }, [input, session, socket, userFromAuth]);\r\n\r\n  const handleQuickReply = useCallback(\r\n    (option) => {\r\n      const value = option.value || option.text || option;\r\n      const draft = {\r\n        id: `local_qr_${Date.now()}`,\r\n        from: \"user\",\r\n        text: option.text || value,\r\n        timestamp: Date.now(),\r\n        avatar: userFromAuth\r\n          ? getProfileImageSrc(userFromAuth?.photo)\r\n          : defaultAvatar,\r\n      };\r\n      setMessages((prev) => [...prev, draft]);\r\n      setQuickReplies([]);\r\n      if (socket && socket.connected && session) {\r\n        socket.emit(\"message:send\", {\r\n          sessionId: session._id || session.id,\r\n          message: value,\r\n          messageType: \"option_selection\",\r\n        });\r\n      }\r\n    },\r\n    [session, socket, userFromAuth]\r\n  );\r\n\r\n  const renderMessage = (m) => {\r\n    const isUser = m.from === \"user\";\r\n    return (\r\n      <div key={m.id} className={`chat-row ${isUser ? \"user\" : \"agent-or-bot\"}`}>\r\n        {!isUser && (\r\n          <img className=\"msg-avatar\" src={m.avatar} alt={m.from} />\r\n        )}\r\n        <div className=\"msg-body\">\r\n          <div className={`msg-text ${isUser ? \"user-bubble\" : \"\"}`}>\r\n            {m.text}\r\n          </div>\r\n          {m.quickReplies?.length > 0 && (\r\n            <div className=\"message-quick-replies\">\r\n              {m.quickReplies.map((qr, i) => (\r\n                <button\r\n                  key={i}\r\n                  className=\"quick-reply-btn\"\r\n                  onClick={() => handleQuickReply(qr)}\r\n                >\r\n                  {qr.text || qr}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n          <div className=\"msg-meta\">\r\n            <span className=\"msg-time\">{timeAgo(m.timestamp)}</span>\r\n          </div>\r\n        </div>\r\n        {isUser && (\r\n          <img\r\n            className=\"msg-avatar\"\r\n            src={m.avatar}\r\n            alt=\"You\"\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  /** --- Form Validation --- **/\r\n  const validateGuestForm = () => {\r\n    const errors = {};\r\n    \r\n    if (!guestInfo.firstName.trim()) {\r\n      errors.firstName = 'First name is required';\r\n    }\r\n    \r\n    if (!guestInfo.email.trim()) {\r\n      errors.email = 'Email is required';\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(guestInfo.email)) {\r\n      errors.email = 'Please enter a valid email';\r\n    }\r\n    \r\n    if (guestInfo.phone && !/^[\\d\\s\\+\\-\\(\\)]+$/.test(guestInfo.phone)) {\r\n      errors.phone = 'Please enter a valid phone number';\r\n    }\r\n    \r\n    return errors;\r\n  };\r\n\r\n  /** --- Initialize chat session and messages --- **/\r\n  const initializeChatSession = async () => {\r\n    try {\r\n      logWithIcon.info('ðŸš€ Initializing chat session...', {\r\n        hasSession: !!session,\r\n        messagesLength: messages.length,\r\n        userFormSubmitted,\r\n        userFromAuth: !!userFromAuth\r\n      });\r\n\r\n      // Always show initial messages if none exist, regardless of session status\r\n      if (messages.length === 0) {\r\n        const biz = await fetchBusinessHours();\r\n        setBusinessInfo(biz);\r\n        \r\n        const userName = userFromAuth?.firstname || userFromAuth?.firstName || guestInfo.firstName || 'there';\r\n        \r\n        if (biz && !biz.isOpen && biz.outsideHoursMessage) {\r\n          logWithIcon.info('ðŸ“… Setting outside hours message');\r\n          setMessages([\r\n            {\r\n              id: \"outside-hours\",\r\n              from: \"bot\",\r\n              text: biz.outsideHoursMessage,\r\n              timestamp: Date.now(),\r\n              avatar: FavIconLogo,\r\n              quickReplies: biz.outsideHoursOptions || [],\r\n            },\r\n          ]);\r\n          setQuickReplies(biz.outsideHoursOptions || []);\r\n        } else {\r\n          logWithIcon.info('ðŸ‘‹ Setting welcome message with default options');\r\n          const welcomeMessage = {\r\n            id: \"welcome-fallback\",\r\n            from: \"bot\",\r\n            text: `Hello ${userName}! How can I be of service to you?`,\r\n            timestamp: Date.now(),\r\n            avatar: FavIconLogo,\r\n            quickReplies: [\r\n              { text: \"What is your service?\", value: \"service_info\" },\r\n              { text: \"Why should I choose you?\", value: \"why_choose_us\" },\r\n              { text: \"Search Jobs\", value: \"search_job\" },\r\n              { text: \"Partnership Info\", value: \"partner_pspl\" },\r\n              { text: \"Application Help\", value: \"application_issue\" },\r\n              { text: \"Talk to Agent\", value: \"live_agent\" },\r\n            ],\r\n          };\r\n          \r\n          setMessages([welcomeMessage]);\r\n          setQuickReplies(welcomeMessage.quickReplies);\r\n        }\r\n      }\r\n\r\n      // Create session after showing initial messages\r\n      if (!session && socket && socket.connected) {\r\n        // Check if we have proper user info (either authenticated or guest)\r\n        if (userFromAuth || userFormSubmitted) {\r\n          logWithIcon.info('ðŸ”— Creating session...');\r\n          await createSession();\r\n        } else {\r\n          logWithIcon.warning('âš ï¸ Cannot create session: missing user information');\r\n          return;\r\n        }\r\n      }\r\n      \r\n    } catch (error) {\r\n      logWithIcon.error('âŒ Error initializing chat session:', error);\r\n      // Show error message to user\r\n      setMessages([\r\n        {\r\n          id: \"error-message\",\r\n          from: \"bot\",\r\n          text: \"Sorry, I'm having trouble connecting right now. Please try again in a moment.\",\r\n          timestamp: Date.now(),\r\n          avatar: FavIconLogo,\r\n          quickReplies: [],\r\n        },\r\n      ]);\r\n      setQuickReplies([]);\r\n    }\r\n  };\r\n\r\n  /** --- Enhanced: Close chat function --- **/\r\n  const handleCloseChat = useCallback(() => {\r\n    setIsOpen(false);\r\n    logWithIcon.info(\"Chat closed by user\");\r\n  }, []);\r\n\r\n  /** --- Toggle Chat --- **/\r\n  const handleToggle = async () => {\r\n    const next = !isOpen;\r\n    setIsOpen(next);\r\n    \r\n    if (next) {\r\n      setUnreadCount(0);\r\n      \r\n      logWithIcon.debug('ðŸ” Debug - handleToggle:', {\r\n        userFromAuth: !!userFromAuth,\r\n        userEmail: userFromAuth?.email,\r\n        needsGuestForm,\r\n        userFormSubmitted,\r\n        guestInfo: guestInfo.email,\r\n        messagesLength: messages.length\r\n      });\r\n      \r\n      // CRITICAL: Check for authenticated user FIRST\r\n      if (userFromAuth) {\r\n        logWithIcon.success('âœ… Authenticated user detected - initializing chat');\r\n        await initializeChatSession();\r\n        return;\r\n      }\r\n      \r\n      // For unauthenticated users - check if guest form is needed\r\n      if (!userFromAuth && !userFormSubmitted) {\r\n        logWithIcon.guest('ðŸ‘¤ Guest user needs form - showing modal');\r\n        setShowGuestForm(true);\r\n        return;\r\n      }\r\n      \r\n      // If guest form completed, initialize chat\r\n      if (!userFromAuth && userFormSubmitted) {\r\n        logWithIcon.success('ðŸ“ Guest form completed - initializing chat');\r\n        await initializeChatSession();\r\n        return;\r\n      }\r\n      \r\n      // Fallback - ensure chat is initialized\r\n      logWithIcon.info('ðŸ”„ Fallback - initializing chat');\r\n      await initializeChatSession();\r\n    }\r\n  };\r\n\r\n  const handleGuestFormChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setGuestInfo({\r\n      ...guestInfo,\r\n      [name]: value\r\n    });\r\n    \r\n    // Clear specific error when user starts typing\r\n    if (guestFormErrors[name]) {\r\n      setGuestFormErrors({\r\n        ...guestFormErrors,\r\n        [name]: ''\r\n      });\r\n    }\r\n  };\r\n\r\n  const submitGuestForm = async () => {\r\n  const errors = validateGuestForm();\r\n  \r\n  if (Object.keys(errors).length > 0) {\r\n    setGuestFormErrors(errors);\r\n    return;\r\n  }\r\n\r\n  setIsSubmittingGuest(true);\r\n  \r\n  try {\r\n    // Clean the data before sending\r\n    const cleanGuestInfo = {\r\n      firstName: guestInfo.firstName.trim(),\r\n      lastName: guestInfo.lastName.trim(),\r\n      email: guestInfo.email.toLowerCase().trim(),\r\n      phone: guestInfo.phone.trim()\r\n    };\r\n\r\n    logWithIcon.waiting('Submitting guest form:', cleanGuestInfo);\r\n    \r\n    const response = await API.post('/api/v1/guestUsers/create-guest-user', cleanGuestInfo);\r\n    \r\n    if (response.data.success) {\r\n      const { firstName, lastName, email, phone } = response.data.data;\r\n      \r\n      logWithIcon.guest('Guest user created/updated:', email);\r\n      \r\n      // Update local state with clean data from server\r\n      setGuestInfo({ firstName, lastName, email, phone });\r\n      setShowGuestForm(false);\r\n      setGuestFormErrors({});\r\n      \r\n      // Save to localStorage\r\n      try {\r\n        localStorage.setItem(STORAGE_USER_KEY, JSON.stringify({\r\n          firstName,\r\n          lastName,\r\n          email,\r\n          phone\r\n        }));\r\n      } catch (error) {\r\n        logWithIcon.warning(\"Failed to save guest info to localStorage:\", error);\r\n      }\r\n      \r\n      // Initialize chat session\r\n      logWithIcon.guest('Guest form submitted successfully, initializing chat...');\r\n      await initializeChatSession();\r\n      \r\n      logWithIcon.success('Guest user created and chat initialized');\r\n    }\r\n  } catch (error) {\r\n    logWithIcon.error(\"Error saving guest user:\", error);\r\n    setGuestFormErrors({\r\n      submit: error.response?.data?.message || 'Failed to save guest information. Please try again.'\r\n    });\r\n  } finally {\r\n    setIsSubmittingGuest(false);\r\n  }\r\n};\r\n\r\n  // Enhanced: Handle input change with persistence\r\n  const handleInputChange = useCallback((e) => {\r\n    const value = e.target.value;\r\n    setInput(value);\r\n  }, []);\r\n\r\n  // Enhanced: Handle key down with enter support\r\n  const handleKeyDown = useCallback((e) => {\r\n    if (e.key === 'Enter' && inputEnabled) {\r\n      e.preventDefault();\r\n      sendMessage();\r\n    }\r\n  }, [sendMessage]);\r\n\r\n  const inputEnabled = userFormSubmitted && !showGuestForm;\r\n\r\n  return (\r\n    <div className=\"chatbot-wrapper\">\r\n      <button\r\n        className={`chatbot-toggle ${isOpen ? \"open\" : \"\"}`}\r\n        onClick={handleToggle}\r\n      >\r\n        <div className=\"chat-toggle-inner\">\r\n          {!isOpen && <i className=\"fas fa-comment-dots fa-1x\"></i>}\r\n        </div>\r\n        {unreadCount > 0 && <div className=\"unread-badge\">{unreadCount}</div>}\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <div className=\"chatbot-box\">\r\n          <div \r\n            className=\"chatbot-header\"\r\n            onClick={handleCloseChat}\r\n            style={{ cursor: 'pointer' }}\r\n            title=\"Click to close chat\"\r\n          >\r\n            <div className=\"chat-header-left\">\r\n              <button\r\n                className=\"chat-close-btn\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation(); // Prevent event bubbling\r\n                  handleCloseChat();\r\n                }}\r\n              >\r\n                <i className=\"fas fa-chevron-down\"></i>\r\n              </button>\r\n              <div className=\"chat-avatar\">\r\n                <Link to=\"/\" onClick={(e) => e.stopPropagation()}>\r\n                  <img src={FavIconLogo} alt=\"ProsoftSynergies\" />\r\n                </Link>\r\n              </div>\r\n              <div>\r\n                <div className=\"chat-title\">Chat Assistant</div>\r\n                <div className=\"chat-sub\">\r\n                  {businessInfo\r\n                    ? businessInfo.isOpen\r\n                      ? \"We are online\"\r\n                      : \"Outside business hours\"\r\n                    : isConnected\r\n                    ? \"Connected\"\r\n                    : \"Connecting...\"}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"chatbot-messages\">\r\n            {messages.map(renderMessage)}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n\r\n          {quickReplies.length > 0 && (\r\n            <div className=\"chatbot-quickreplies global\">\r\n              {quickReplies.map((qr, i) => (\r\n                <button\r\n                  key={i}\r\n                  className=\"quick-reply-btn\"\r\n                  onClick={() => handleQuickReply(qr)}\r\n                >\r\n                  {qr.text || qr}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"chatbot-input\">\r\n            <input\r\n              value={input}\r\n              onChange={handleInputChange}\r\n              placeholder={inputEnabled ? \"Type a message...\" : \"Please fill the form to start chatting\"}\r\n              onKeyDown={handleKeyDown}\r\n              disabled={!inputEnabled}\r\n            />\r\n            <button\r\n              onClick={sendMessage}\r\n              className={`send-btn ${!inputEnabled ? \"disabled\" : \"\"}`}\r\n              disabled={!inputEnabled}\r\n            >\r\n              â†’\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Guest Form Modal */}\r\n      <Modal\r\n        isOpen={showGuestForm}\r\n        onRequestClose={() => {\r\n          if (!isSubmittingGuest) {\r\n            setShowGuestForm(false);\r\n            // If user closes modal without submitting, close the chat as well\r\n            setIsOpen(false);\r\n          }\r\n        }}\r\n        className=\"modal\"\r\n        overlayClassName=\"modal-overlay\"\r\n        shouldCloseOnOverlayClick={!isSubmittingGuest}\r\n        shouldCloseOnEsc={!isSubmittingGuest}\r\n      >\r\n        <div className=\"guest-form\">\r\n          <div className=\"modal-header\">\r\n            <h2>Welcome to PSPL Support!</h2>\r\n            <p>Please provide your details to start chatting with our assistant.</p>\r\n          </div>\r\n          \r\n          {guestFormErrors.submit && (\r\n            <div className=\"error-message\" style={{ \r\n              color: '#e74c3c', \r\n              backgroundColor: '#ffebee', \r\n              padding: '10px', \r\n              borderRadius: '4px',\r\n              marginBottom: '1rem',\r\n              border: '1px solid #ffcdd2'\r\n            }}>\r\n              {guestFormErrors.submit}\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"form-group\">\r\n            <label>First Name *</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              value={guestInfo.firstName}\r\n              onChange={handleGuestFormChange}\r\n              disabled={isSubmittingGuest}\r\n              placeholder=\"Enter your first name\"\r\n              autoFocus\r\n              required\r\n            />\r\n            {guestFormErrors.firstName && (\r\n              <span className=\"field-error\" style={{ color: '#e74c3c', fontSize: '0.8rem', marginTop: '4px', display: 'block' }}>\r\n                {guestFormErrors.firstName}\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Last Name</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              value={guestInfo.lastName}\r\n              onChange={handleGuestFormChange}\r\n              disabled={isSubmittingGuest}\r\n              placeholder=\"Enter your last name (optional)\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Email *</label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={guestInfo.email}\r\n              onChange={handleGuestFormChange}\r\n              disabled={isSubmittingGuest}\r\n              placeholder=\"Enter your email address\"\r\n              required\r\n            />\r\n            {guestFormErrors.email && (\r\n              <span className=\"field-error\" style={{ color: '#e74c3c', fontSize: '0.8rem', marginTop: '4px', display: 'block' }}>\r\n                {guestFormErrors.email}\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Phone</label>\r\n            <input\r\n              type=\"tel\"\r\n              name=\"phone\"\r\n              value={guestInfo.phone}\r\n              onChange={handleGuestFormChange}\r\n              disabled={isSubmittingGuest}\r\n              placeholder=\"Enter your phone number (optional)\"\r\n            />\r\n            {guestFormErrors.phone && (\r\n              <span className=\"field-error\" style={{ color: '#e74c3c', fontSize: '0.8rem', marginTop: '4px', display: 'block' }}>\r\n                {guestFormErrors.phone}\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"form-actions\" style={{ marginTop: '1.5rem', display: 'flex', gap: '10px' }}>\r\n            <button \r\n              onClick={submitGuestForm}\r\n              disabled={isSubmittingGuest}\r\n              style={{\r\n                backgroundColor: '#2196f3',\r\n                color: 'white',\r\n                border: 'none',\r\n                padding: '12px 24px',\r\n                borderRadius: '4px',\r\n                cursor: isSubmittingGuest ? 'not-allowed' : 'pointer',\r\n                opacity: isSubmittingGuest ? 0.7 : 1,\r\n                flex: 1\r\n              }}\r\n            >\r\n              {isSubmittingGuest ? 'Starting Chat...' : 'Start Chat'}\r\n            </button>\r\n            <button \r\n              onClick={() => {\r\n                setShowGuestForm(false);\r\n                setIsOpen(false);\r\n              }}\r\n              disabled={isSubmittingGuest}\r\n              style={{\r\n                backgroundColor: '#f5f5f5',\r\n                color: '#666',\r\n                border: '1px solid #ddd',\r\n                padding: '12px 24px',\r\n                borderRadius: '4px',\r\n                cursor: isSubmittingGuest ? 'not-allowed' : 'pointer',\r\n                opacity: isSubmittingGuest ? 0.7 : 1\r\n              }}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatBotIcon;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate, useLocation, useParams } from 'react-router-dom';\r\nimport API from \"../helpers/API\";\r\nimport { useAuth } from \"../Context/AuthContext\";\r\nimport { LogoutNavbarLink } from './Logout/LogoutNavbar';\r\nimport { LogoutLink } from './Logout/Logout';\r\nimport ChatBotIcon from '../components/ChatBotIcon/ChatBotIcon';\r\nimport { FaLinkedin, FaFacebook, FaWhatsapp } from 'react-icons/fa';\r\nimport { BsTwitterX } from \"react-icons/bs\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport './Footer.css';\r\n\r\nconst Footer = () => {\r\n    const currentDay = new Date();\r\n    const currentYear = currentDay.getFullYear();\r\n\r\n    // ***************************************\r\n    const [auth, setAuth] = useAuth();\r\n    const [user, setUser] = useState({});\r\n    const params = useParams();\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const notifyErr = (msg) =>\r\n      toast.error(msg, {\r\n        position: \"top-center\",\r\n        autoClose: 20000,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        theme: \"light\"\r\n      });\r\n    const notifySucc = (msg) =>\r\n      toast.success(msg, {\r\n        position: \"top-center\",\r\n        autoClose: 20000,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        theme: \"light\"\r\n      });\r\n\r\n    const fetchRegUserById = async () => {\r\n      try {\r\n        const { data } = await API.get(`/users/fetchRegUserById/${params._id}`);\r\n        setUser(data.user);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    // initial Registered User Details\r\n    useEffect(() => {\r\n      if (params?._id) fetchRegUserById();\r\n    }, [params?._id]);\r\n\r\n    const handleLogout = () => {\r\n      setAuth({ ...auth, user: null, token: \"\" });\r\n      localStorage.removeItem(\"userAuthDetails\");\r\n      notifySucc(\"You have Logged Out Successfully!!!\");\r\n      navigate(location.state || \"/Login\");\r\n    };\r\n\r\n    //assigning location variable\r\n    const location = useLocation();\r\n  return (\r\n    <>\r\n    <footer className=\"footer\">\r\n      <div className=\"footer-container\">\r\n        <div className=\"footer-columns\">\r\n          <div className=\"footer-column\">\r\n            <h3>INDUSTRIES & RECRUITMENT SOLUTIONS</h3>\r\n            <ul>\r\n              <li><Link to=\"/Information-Technology-Recruitment\">Information Technology Recruitment</Link></li>\r\n              <li><Link to=\"/Government-Ministry-Recruitment\">Government Ministry Recruitment</Link></li>\r\n              <li><Link to=\"/Healthcare-&-Medical-Recruitment\">Healthcare & Medical Recruitment</Link></li>\r\n              <li><Link to=\"/Manufacturing-Recruitment\">Manufacturing Recruitment</Link></li>\r\n              <li><Link to=\"/Admin-&-Office-Support-Recruitment\">Administration & Office Support Recruitment</Link></li>\r\n              <li><Link to=\"/Transport-&-Logistics-Recruitment\">Transport & Logistics Recruitment</Link></li>\r\n              <li><Link to=\"/Construction-&-Infrastructure-Recruitment\">Construction and Infrastructure Recruitment</Link></li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"footer-column\">\r\n            <h3>EDUCATION SOLUTIONS</h3>\r\n            <ul>\r\n              <li><Link to=\"/Education-Recruitment\">Education Recruitment</Link></li>\r\n              {/* <li><Link to=\"/#\">Register</Link></li> */}\r\n              {/* ******************************************* */}\r\n              {!auth.user ? (\r\n              <>\r\n                <li><Link to=\"/Register\">Register</Link></li>\r\n              </>\r\n              ) : (\r\n              <>\r\n                {auth.user?.role === 1 ? (\r\n                  <>\r\n                  <li>\r\n                    <Link to=\"/Admin/Dashboard\" onClick={() => {window.location.href = \"/Admin/Dashboard\";}}>\r\n                      Admin Dashboard\r\n                    </Link>\r\n                  </li>                  \r\n                  </>\r\n                  ) : (\r\n                  <>\r\n                  {auth.user?.role === 2 ? (\r\n                      <>\r\n                        <li>\r\n                          <Link to=\"/Employer/Employer-Dashboard\" onClick={() => {window.location.href = \"/Employer/Employer-Dashboard\";}}>\r\n                            Employer Dashboard\r\n                          </Link>\r\n                        </li>  \r\n                      </>\r\n                      ) : (\r\n                      <>\r\n                        <li>\r\n                          <Link to=\"/Applicant-Profile-Dashboard\" onClick={() => {window.location.href = \"/Applicant-Profile-Dashboard\";}}>\r\n                            Applicant Dashboard\r\n                          </Link>\r\n                        </li>  \r\n                      </>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </>\r\n              )}  \r\n              {/* ******************************************* */}\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"footer-column\">\r\n            <h3>FOR JOB SEEKERS</h3>\r\n            <ul>\r\n              <li><Link to=\"/Search-Jobs\">Search Jobs</Link></li>\r\n              {/* <li><Link to=\"/#\">Resume Upload</Link></li> */}\r\n              <li>\r\n                  {!auth.user ? (\r\n                    <>\r\n                      <Link to=\"/Login\">Resume Upload</Link> \r\n                    </>\r\n                    ) : (\r\n                    <>\r\n                      {(() => {\r\n                        const userRole = auth.user?.role;\r\n                        let linkPath = \"/PSPL-Access-Denied\";\r\n\r\n                        if (userRole === 0) {\r\n                          linkPath = `/Applicant-Resume-Upload/${auth?.user?.userId}`;\r\n                        } else if (userRole === 1) {\r\n                          linkPath = \"/PSPL-Access-Denied\";\r\n                        } else if (userRole === 2) {\r\n                          linkPath = \"/PSPL-Access-Denied\";\r\n                        }\r\n                        return (\r\n                          <Link to={linkPath}>Resume Upload</Link> \r\n                        );\r\n                      })()}\r\n                    </>\r\n                    )}\r\n                </li>\r\n              {/* <li><Link to=\"/#\">Login</Link></li> */}\r\n              {/* ******************************************* */}\r\n              {!auth.user ? (\r\n              <>\r\n                <li><Link to=\"/#\">Login</Link></li>\r\n              </>\r\n              ) : (\r\n              <>\r\n                {auth.user?.role === 1 ? (\r\n                  <>\r\n                  <li>\r\n                    <LogoutLink onClick={() => {window.location.href = \"/Login\";}}>\r\n                      Logout\r\n                    </LogoutLink>\r\n                  </li>                  \r\n                  </>\r\n                  ) : (\r\n                  <>\r\n                  {auth.user?.role === 2 ? (\r\n                      <>\r\n                        <li>\r\n                          <LogoutLink onClick={() => {window.location.href = \"/Login\";}}>\r\n                            Logout\r\n                          </LogoutLink>\r\n                        </li>  \r\n                      </>\r\n                      ) : (\r\n                      <>\r\n                        <li>\r\n                          <LogoutLink onClick={() => {window.location.href = \"/Login\";}}>\r\n                            Logout\r\n                          </LogoutLink>\r\n                        </li>  \r\n                      </>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </>\r\n              )}  \r\n              {/* ******************************************* */}\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"footer-column\">\r\n            <h3>HEALTH SOLUTIONS</h3>\r\n            <ul>\r\n              <li><Link to=\"/Behavioral-Health-Solutions\">Behavioral Health</Link></li>\r\n              <li><Link to=\"/Health-Billing-&-Collections-Solutions\">Heath & Billing Collections</Link></li>\r\n              <li><Link to=\"#\">HealthCare Mergers & Acquisitions</Link></li>\r\n              <li>\r\n                <Link to=\"/Behavioral-Health-Credentialing-&-Contracting\">Behavioral Health Credentialing & Contracting</Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"footer-column\">\r\n            <h3>ABOUT US</h3>\r\n            <ul>\r\n              <li><Link to=\"/About-Us\">About Us</Link></li>\r\n              <li><Link to=\"/Who-We-Are\">Who We're </Link></li>\r\n              <li><Link to=\"/Our-Locations\">Locations</Link></li>\r\n              <li><Link to=\"/ThinkBeyond-Privacy-Policy\">Privacy Policy</Link></li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"footer-bottom\">\r\n          <div className=\"social-section\">\r\n            <p>Follow Us</p>\r\n            <div className=\"social-icons\">\r\n              <Link to=\"https://www.instagram.com/the_thinkbeyond_solutions/\" aria-label=\"LinkedIn\" target='_blank'><FaLinkedin /></Link>\r\n              <Link to=\"https://www.facebook.com/thethinkbeyondsolutions\" aria-label=\"Facebook\" target='_blank'><FaFacebook /></Link>\r\n              <Link to=\"https://x.com/thethinkbeyond8\" aria-label=\"X-Twitter\" target='_blank'><BsTwitterX /></Link>\r\n              <Link to=\"https://wa.me/4169008153\" aria-label=\"X-WhatsApp\" target='_blank'><FaWhatsapp /></Link>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bottom-links\">\r\n            <Link to=\"/ProsoftSynergies-Privacy-Policy\">Privacy Policy</Link>\r\n            <span className=\"divider\">|</span>\r\n            <a href=\"#\">Accessibility</a>\r\n          </div>\r\n          <div>\r\n            <p className=\"bottom-links pt-5\"> Copyright Â© {currentYear} <Link to=\"/\" className='ms-2 me-3'>ProsoftSynergies.</Link> All Right Reserved{\" \"}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n       <ChatBotIcon />\r\n    </footer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate, useLocation, useParams } from 'react-router-dom';\r\nimport API from \"../helpers/API\";\r\nimport { useAuth } from \"../Context/AuthContext\";\r\nimport { LogoutNavbarLink } from './Logout/LogoutNavbar';\r\n\r\nimport './assets/vendors/mdi/css/materialdesignicons.min.css';\r\nimport './assets/vendors/font-awesome/css/font-awesome.min.css';\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport './Header.css';\r\nimport Logo from './PSPL-Logo.png';\r\n\r\n// Role constants\r\nconst ROLE_JOBSEEKER = 0;\r\nconst ROLE_ADMIN = 1;\r\nconst ROLE_EMPLOYER = 2;\r\nconst ROLE_SUPERADMIN = 3;\r\n\r\nconst TestHomeHeader = () => {\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const [activeDropdown, setActiveDropdown] = useState(null);\r\n  const [isSticky, setIsSticky] = useState(false);\r\n\r\n  const [auth] = useAuth();\r\n  const [user, setUser] = useState({});\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setIsSticky(window.scrollY > 40);\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  const toggleMobileMenu = () => {\r\n    setMobileMenuOpen(!mobileMenuOpen);\r\n    setActiveDropdown(null);\r\n  };\r\n\r\n  const toggleDropdown = (index, e) => {\r\n    if (window.innerWidth <= 768) {\r\n      e.preventDefault();\r\n      setActiveDropdown(activeDropdown === index ? null : index);\r\n    }\r\n  };\r\n\r\n  const handleLinkClick = () => {\r\n    if (window.innerWidth <= 768 && mobileMenuOpen) {\r\n      setMobileMenuOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e) => {\r\n      if (\r\n        !e.target.closest('.nav-links') &&\r\n        !e.target.closest('.menu-toggle') &&\r\n        !e.target.closest('.cta-buttons') &&\r\n        window.innerWidth > 768\r\n      ) {\r\n        setActiveDropdown(null);\r\n      }\r\n    };\r\n\r\n    const handleResize = () => {\r\n      if (window.innerWidth > 768) {\r\n        setMobileMenuOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('click', handleClickOutside);\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    return () => {\r\n      document.removeEventListener('click', handleClickOutside);\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, []);\r\n\r\n  const notifyErr = (msg) =>\r\n    toast.error(msg, {\r\n      position: \"top-center\",\r\n      autoClose: 20000,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      theme: \"light\",\r\n    });\r\n\r\n  const notifySucc = (msg) =>\r\n    toast.success(msg, {\r\n      position: \"top-center\",\r\n      autoClose: 20000,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      theme: \"light\",\r\n    });\r\n\r\n  const fetchRegUserById = async () => {\r\n    try {\r\n      const { data } = await API.get(`/users/fetchRegUserById/${params._id}`);\r\n      setUser(data.user || {}); // Fixed: Ensure user is always an object\r\n    } catch (error) {\r\n      console.log(error);\r\n      setUser({}); // Fixed: Set empty object on error\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (params?._id) fetchRegUserById();\r\n  }, [params?._id]);\r\n\r\n  // Helper function to safely check photo path\r\n  const getProfileImageSrc = (userPhoto) => {\r\n    if (!userPhoto) return ''; // Return empty string if no photo\r\n    \r\n    // Safely check if photo starts with specific path\r\n    const isUploadPath = typeof userPhoto === 'string' && userPhoto.startsWith('/uploads/userAvatars/');\r\n    return isUploadPath ? process.env.REACT_APP_API_URL + userPhoto : userPhoto;\r\n  };\r\n\r\n  // Helper function to safely get user name\r\n  const getUserDisplayName = (userObj) => {\r\n    const firstName = userObj?.firstname || userObj?.first_name || '';\r\n    const lastName = userObj?.lastname || userObj?.last_name || '';\r\n    return `${firstName} ${lastName}`.trim();\r\n  };\r\n\r\n  // Admin menu items\r\n  const renderAdminMenuItems = () => (\r\n    <>\r\n      <li>\r\n        <Link to=\"/Admin/Dashboard\" onClick={() => { window.location.href = \"/Admin/Dashboard\"; }}>\r\n          <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Jobs\" onClick={() => { window.location.href = \"/Admin/Manage-Jobs\"; }}>\r\n          <i className=\"mdi mdi-briefcase me-2 text-success menu-icon\"></i>Manage Jobs\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Sectors\" onClick={() => { window.location.href = \"/Admin/Manage-Sectors\"; }}>\r\n          <i className=\"mdi mdi-format-list-bulleted-type me-2 text-success menu-icon\"></i>Job Sectors\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Qualifications\" onClick={() => { window.location.href = \"/Admin/Manage-Qualifications\"; }}>\r\n          <i className=\"mdi mdi-school menu-icon me-2 text-success\"></i> Job Qualifications\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Work-Experiences\" onClick={() => { window.location.href = \"/Admin/Manage-Work-Experiences\"; }}>\r\n          <i className=\"mdi mdi-checkbox-multiple-marked menu-icon me-2 text-success\"></i> Job Experiences\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Admin/Manage-Work-Modes\" onClick={() => { window.location.href = \"/Admin/Manage-Work-Modes\"; }}>\r\n          <i className=\"mdi mdi-account-convert me-2 text-success\"></i> Work Modes\r\n        </Link>\r\n      </li>\r\n    </>\r\n  );\r\n\r\n  // Super Admin Menu Items\r\n  const renderSuperAdminMenuItems = () => (\r\n    <>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Dashboard\" onClick={() => { window.location.href = \"/Super-Admin/Dashboard\"; }}>\r\n          <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Jobs\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Jobs\"; }}>\r\n          <i className=\"mdi mdi-briefcase me-2 text-success menu-icon\"></i>Manage Jobs\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Sectors\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Sectors\"; }}>\r\n          <i className=\"mdi mdi-format-list-bulleted-type me-2 text-success menu-icon\"></i>Job Sectors\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Qualifications\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Qualifications\"; }}>\r\n          <i className=\"mdi mdi-school menu-icon me-2 text-success\"></i> Job Qualifications\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Work-Experiences\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Work-Experiences\"; }}>\r\n          <i className=\"mdi mdi-checkbox-multiple-marked menu-icon me-2 text-success\"></i> Job Experiences\r\n        </Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/Super-Admin/Manage-Work-Modes\" onClick={() => { window.location.href = \"/Super-Admin/Manage-Work-Modes\"; }}>\r\n          <i className=\"mdi mdi-account-convert me-2 text-success\"></i> Work Modes\r\n        </Link>\r\n      </li>\r\n    </>\r\n  );\r\n\r\n  const renderLogoutItem = () => (\r\n    <li>\r\n      <LogoutNavbarLink onClick={() => { window.location.href = \"/Login\"; }}>\r\n        <i className=\"mdi mdi-logout me-2 text-success\"></i>\r\n        Logout\r\n      </LogoutNavbarLink>\r\n    </li>\r\n  );\r\n\r\n  return (\r\n    <header className={isSticky ? 'sticky' : ''}>\r\n      <div className=\"top-bar\">\r\n        <Link to=\"mailto:hrpspl@prosoftsynergies.com\" target=\"_blank\" className=\"login-btn info-link\">\r\n          <span className=\"contact-text\" style={{ color: \"#03294f\" }}>Email Us</span>\r\n          <i className='fas fa-envelope ms-1 fa-2x' style={{ color: \"#03294f\" }}></i>\r\n        </Link>\r\n        <Link to=\"https://wa.me/+15129617007\" className=\"login-btn phone-link\" target=\"_blank\">\r\n          <span className=\"contact-text\" style={{ color: \"#03294f\" }}>Let's Connect On WhatsApp</span>\r\n          <i className='fab fa-whatsapp ms-1 fa-2x' style={{ color: \"#03294f\" }}></i>\r\n        </Link>\r\n      </div>\r\n      <nav className={`main-nav ${isSticky ? 'sticky' : ''}`}>\r\n        <div className=\"PSPL-Logo logo\">\r\n          <Link to=\"/\"><img src={Logo} alt='ProsoftSynergies' /></Link>\r\n        </div>\r\n\r\n        <div\r\n          className={`menu-toggle ${mobileMenuOpen ? 'active' : ''}`}\r\n          onClick={toggleMobileMenu}\r\n          aria-label=\"Toggle navigation menu\"\r\n        >\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n\r\n        <ul className={`nav-links ${mobileMenuOpen ? 'active' : ''}`}>\r\n          <li className={activeDropdown === 0 ? 'active' : ''}>\r\n            <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(0, e)}>\r\n              FOR BUSINESSES\r\n            </Link>\r\n            <div className=\"mega-menu wide\">\r\n              <div className=\"mega-menu-column\">\r\n                <h3>Industries & Recruitment Solutions</h3>\r\n                <ul>\r\n                  <li><Link to=\"/Information-Technology-Recruitment\" onClick={handleLinkClick}>Information Technology Recruitment</Link></li>\r\n                  <li><Link to=\"/Government-Ministry-Recruitment\" onClick={handleLinkClick}>Government Ministry Recruitment</Link></li>\r\n                  <li><Link to=\"/Healthcare-&-Medical-Recruitment\" onClick={handleLinkClick}>Healthcare & Medical Recruitment</Link></li>\r\n                  <li><Link to=\"/Manufacturing-Recruitment\" onClick={handleLinkClick}>Manufacturing Recruitment</Link></li>\r\n                  <li><Link to=\"/Admin-&-Office-Support-Recruitment\" onClick={handleLinkClick}>Administration & Office Support Recruitment</Link></li>\r\n                  <li><Link to=\"/Transport-&-Logistics-Recruitment\" onClick={handleLinkClick}>Transport & Logistics Recruitment</Link></li>\r\n                  <li><Link to=\"/Construction-&-Infrastructure-Recruitment\" onClick={handleLinkClick}>Construction and Infrastructure Recruitment</Link></li>\r\n                </ul>\r\n              </div>\r\n              <div className=\"mega-menu-column\">\r\n                <h3>Education Recruitment & Solutions</h3>\r\n                <ul>\r\n                  <li><Link to=\"/Education-Recruitment\" onClick={handleLinkClick}>Education Recruitment</Link></li>\r\n                </ul>\r\n              </div>\r\n              <div className=\"mega-menu-column\">\r\n                <h3>Health Solutions</h3>\r\n                <ul>\r\n                  <li><Link to=\"/Behavioral-Health-Solutions\" onClick={handleLinkClick}>Behavioral Health</Link></li>\r\n                  <li><Link to=\"/Health-Billing-&-Collections-Solutions\" onClick={handleLinkClick}>Health & Billing Collections</Link></li>\r\n                  <li><Link to=\"#\" onClick={handleLinkClick}>HealthCare Mergers & Acquisitions</Link></li>\r\n                  <li><Link to=\"#\" onClick={handleLinkClick}>Behavioral Health Credentialing & Contracting</Link></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </li>\r\n          <li className={activeDropdown === 1 ? 'active' : ''}>\r\n            <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(1, e)}>\r\n              JOB SEEKERS\r\n            </Link>\r\n            <div className=\"mega-menu\">\r\n              <h3>Career Opportunities</h3>\r\n              <ul>\r\n                <li><Link to=\"/Search-Jobs\" onClick={handleLinkClick}>Search Jobs</Link></li>\r\n                <li>\r\n                  {!auth.user ? (\r\n                    <Link to=\"/Login\" onClick={handleLinkClick}>Resume Upload</Link>\r\n                  ) : (() => {\r\n                    let linkPath = \"/PSPL-Access-Denied\";\r\n                    if (auth.user?.role === ROLE_JOBSEEKER) {\r\n                      linkPath = `/Applicant-Resume-Upload/${auth?.user?.userId}`;\r\n                    } else if (\r\n                      auth.user?.role === ROLE_ADMIN ||\r\n                      auth.user?.role === ROLE_EMPLOYER ||\r\n                      auth.user?.role === ROLE_SUPERADMIN\r\n                    ) {\r\n                      linkPath = \"/PSPL-Access-Denied\";\r\n                    }\r\n                    return <Link to={linkPath} onClick={handleLinkClick}>Resume Upload</Link>;\r\n                  })()}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </li>\r\n          <li className={activeDropdown === 2 ? 'active' : ''}>\r\n            <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(2, e)}>\r\n              EMPLOYERS\r\n            </Link>\r\n            <div className=\"mega-menu\">\r\n              <h3>ProsoftSynergies Solutions</h3>\r\n              <ul>\r\n                <li><Link to=\"/Permanent-Hiring-Solutions\" onClick={handleLinkClick}>Permanent Hiring Solutions</Link></li>\r\n                <li><Link to=\"/Tailored-Solutions-For-Employers\" onClick={handleLinkClick}>Tailored Solutions For Employers</Link></li>\r\n                <li><Link to=\"/Fluid-Workforce-Solutions\" onClick={handleLinkClick}>Fluid Workforce Solutions</Link></li>\r\n              </ul>\r\n            </div>\r\n          </li>\r\n          <li className={activeDropdown === 3 ? 'active' : ''}>\r\n            <Link to=\"/About-Us\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(3, e)}>\r\n              ABOUT US\r\n            </Link>\r\n            <div className=\"mega-menu\">\r\n              <h3>Our Company</h3>\r\n              <ul>\r\n                <li><Link to=\"/About-Us\" onClick={handleLinkClick}>About Us</Link></li>\r\n                <li><Link to=\"/Who-We-Are\" onClick={handleLinkClick}>Who We're</Link></li>\r\n                <li><Link to=\"/Our-Locations\" onClick={handleLinkClick}>Locations</Link></li>\r\n              </ul>\r\n            </div>\r\n          </li>\r\n          <li><Link to=\"/Contact-Us\" onClick={handleLinkClick}>CONTACT US</Link></li>\r\n\r\n          {/* Role-Based Mobile Menus */}\r\n          {auth.user && (\r\n            <>\r\n              {auth.user?.role === ROLE_ADMIN && (\r\n                <li className=\"mobile-more-menu\">\r\n                  <li className={activeDropdown === 4 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\r\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                      {getUserDisplayName(auth.user)}\r\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\r\n                    </Link>\r\n                    <div className=\"mega-menu\">\r\n                      <h3>Admin Quick Access</h3>\r\n                      <ul>\r\n                        {renderAdminMenuItems()}\r\n                        {renderLogoutItem()}\r\n                      </ul>\r\n                    </div>\r\n                  </li>\r\n                </li>\r\n              )}\r\n\r\n              {auth.user?.role === ROLE_SUPERADMIN && (\r\n                <li className=\"mobile-more-menu\">\r\n                  <li className={activeDropdown === 5 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\r\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(5, e)}>\r\n                      {getUserDisplayName(auth.user)}\r\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\r\n                    </Link>\r\n                    <div className=\"mega-menu\">\r\n                      <h3>Super Admin Quick Access</h3>\r\n                      <ul>\r\n                        {renderSuperAdminMenuItems()}\r\n                        {renderLogoutItem()}\r\n                      </ul>\r\n                    </div>\r\n                  </li>\r\n                </li>\r\n              )}\r\n\r\n              {auth.user?.role === ROLE_EMPLOYER && (\r\n                <li className=\"mobile-more-menu\">\r\n                  <li className={activeDropdown === 4 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\r\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                      <img\r\n                        className=\"profile-image me-2\"\r\n                        src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\r\n                        alt={getUserDisplayName(auth.user)}\r\n                        aria-label=\"User profile photo\"\r\n                        role=\"button\"\r\n                        style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\r\n                      />\r\n                      {getUserDisplayName(auth.user)}\r\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\r\n                    </Link>\r\n                    <div className=\"mega-menu\">\r\n                      <h3>Employer Quick Access</h3>\r\n                      <ul>\r\n                        <li>\r\n                          <Link to=\"#\" onClick={handleLinkClick}>\r\n                            <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n                          </Link>\r\n                        </li>\r\n                        <li><Link to=\"#\" onClick={handleLinkClick}>Account</Link></li>\r\n                        {renderLogoutItem()}\r\n                      </ul>\r\n                    </div>\r\n                  </li>\r\n                </li>\r\n              )}\r\n\r\n              {(auth.user?.role !== ROLE_ADMIN && auth.user?.role !== ROLE_SUPERADMIN && auth.user?.role !== ROLE_EMPLOYER) && (\r\n                <li className=\"mobile-more-menu\">\r\n                  <li className={activeDropdown === 4 ? 'active' : ''} style={{ marginBottom: \"100px\" }}>\r\n                    <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                      <img\r\n                        className=\"profile-image me-2\"\r\n                        src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\r\n                        alt={getUserDisplayName(auth.user)}\r\n                        aria-label=\"User profile photo\"\r\n                        role=\"button\"\r\n                        style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\r\n                      />\r\n                      {getUserDisplayName(auth.user)}\r\n                      <i className='mdi mdi-account-check ms-3 text-primary' style={{ fontSize: \"25px\" }}></i>\r\n                    </Link>\r\n                    <div className=\"mega-menu\">\r\n                      <h3>Job Seeker Quick Access</h3>\r\n                      <ul>\r\n                        <li>\r\n                          <Link to=\"/Applicant-Profile-Dashboard\" onClick={() => { window.location.href = \"/Applicant-Profile-Dashboard\"; }}>\r\n                            <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n                          </Link>\r\n                        </li>\r\n                        <li>\r\n                          <Link to={`/Applicant/Profile/${auth?.user?.userId}`} onClick={() => { window.location.href = `/Applicant/Profile/${auth?.user?.userId}`; }}>\r\n                            <i className=\"mdi mdi-account-key menu-icon me-2 text-success\"></i> Account\r\n                          </Link>\r\n                        </li>\r\n                        {renderLogoutItem()}\r\n                      </ul>\r\n                    </div>\r\n                  </li>\r\n                </li>\r\n              )}\r\n            </>\r\n          )}\r\n        </ul>\r\n\r\n        <div className=\"cta-buttons\">\r\n          {!auth.user ? (\r\n            <>\r\n              <Link to=\"/Login\" className=\"cta-btn hPostJob-btn\">Post Job</Link>\r\n              <Link to=\"/Login\" className=\"cta-btn hLogin-btn\">Login</Link>\r\n            </>\r\n          ) : (\r\n            <>\r\n              {auth.user?.role === ROLE_ADMIN && (\r\n                <>\r\n                  <Link to=\"/Admin/Add-Job\" className=\"cta-btn hPostJob-btn\" onClick={() => { window.location.href = \"/Admin/Add-Job\"; }}>Post Job</Link>\r\n                  <div className=\"cta-dropdown\">\r\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\r\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                        <i className='mdi mdi-account-check me-2 text-primary' style={{ fontSize: \"30px\" }}></i>\r\n                        {getUserDisplayName(auth.user)}\r\n                      </Link>\r\n                      <div className=\"mega-menu\">\r\n                        <h3>Admin Quick Access</h3>\r\n                        <ul>\r\n                          {renderAdminMenuItems()}\r\n                          {renderLogoutItem()}\r\n                        </ul>\r\n                      </div>\r\n                    </li>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {auth.user?.role === ROLE_SUPERADMIN && (\r\n                <>\r\n                  <Link to=\"/Super-Admin/Add-Job\" className=\"cta-btn hPostJob-btn\" onClick={() => { window.location.href = \"/Super-Admin/Add-Job\"; }}>Post Job</Link>\r\n                  <div className=\"cta-dropdown\">\r\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\r\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                        <i className='mdi mdi-account-check me-2 text-primary' style={{ fontSize: \"30px\" }}></i>\r\n                        {getUserDisplayName(auth.user)}\r\n                      </Link>\r\n                      <div className=\"mega-menu\">\r\n                        <h3>Super Admin Quick Access</h3>\r\n                        <ul>\r\n                          {renderSuperAdminMenuItems()}\r\n                          {renderLogoutItem()}\r\n                        </ul>\r\n                      </div>\r\n                    </li>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {auth.user?.role === ROLE_EMPLOYER && (\r\n                <>\r\n                  <Link to=\"#\" className=\"cta-btn hPostJob-btn\">Post Job</Link>\r\n                  <div className=\"cta-dropdown\">\r\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\r\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                        <img\r\n                          className=\"profile-image me-2\"\r\n                          src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\r\n                          alt={getUserDisplayName(auth.user)}\r\n                          aria-label=\"User profile photo\"\r\n                          role=\"button\"\r\n                          style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\r\n                        />\r\n                        {getUserDisplayName(auth.user)}\r\n                      </Link>\r\n                      <div className=\"mega-menu\">\r\n                        <h3>Employer Quick Access</h3>\r\n                        <ul>\r\n                          <li>\r\n                            <Link to=\"#\" onClick={handleLinkClick}>\r\n                              <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n                            </Link>\r\n                          </li>\r\n                          <li><Link to=\"#\" onClick={handleLinkClick}>Account</Link></li>\r\n                          {renderLogoutItem()}\r\n                        </ul>\r\n                      </div>\r\n                    </li>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {(auth.user?.role !== ROLE_ADMIN && auth.user?.role !== ROLE_SUPERADMIN && auth.user?.role !== ROLE_EMPLOYER) && (\r\n                <>\r\n                  <Link to=\"/Search-Jobs\" className=\"cta-btn hPostJob-btn\">Find A Job</Link>\r\n                  <div className=\"cta-dropdown\">\r\n                    <li className={activeDropdown === 4 ? 'active' : ''}>\r\n                      <Link to=\"#\" className=\"dropdown-toggle\" onClick={(e) => toggleDropdown(4, e)}>\r\n                        <img\r\n                          className=\"profile-image me-2\"\r\n                          src={getProfileImageSrc(auth?.user?.photo || user?.photo)}\r\n                          alt={getUserDisplayName(auth.user)}\r\n                          aria-label=\"User profile photo\"\r\n                          role=\"button\"\r\n                          style={{ borderRadius: \"50%\", height: \"35px\", width: \"35px\" }}\r\n                        />\r\n                        {getUserDisplayName(auth.user)}\r\n                      </Link>\r\n                      <div className=\"mega-menu\">\r\n                        <h3>Job Seeker Quick Access</h3>\r\n                        <ul>\r\n                          <li>\r\n                            <Link to=\"/Applicant-Profile-Dashboard\" onClick={() => { window.location.href = \"/Applicant-Profile-Dashboard\"; }}>\r\n                              <i className=\"mdi mdi-home menu-icon me-2 text-success\"></i> Dashboard\r\n                            </Link>\r\n                          </li>\r\n                          <li>\r\n                            <Link to={`/Applicant/Profile/${auth?.user?.userId}`} onClick={() => { window.location.href = `/Applicant/Profile/${auth?.user?.userId}`; }}>\r\n                              <i className=\"mdi mdi-account-key menu-icon me-2 text-success\"></i> Account\r\n                            </Link>\r\n                          </li>\r\n                          {renderLogoutItem()}\r\n                        </ul>\r\n                      </div>\r\n                    </li>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default TestHomeHeader;\r\n","import React from \"react\";\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useAuth } from \"../../Context/AuthContext\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n// Toast configuration constants\r\nconst TOAST_CONFIG = {\r\n  position: \"top-center\",\r\n  autoClose: 5000,\r\n  closeOnClick: true,\r\n  pauseOnHover: true,\r\n  theme: \"light\"\r\n};\r\n\r\n/**\r\n * Custom hook to handle logout logic\r\n * @returns {Object} Object containing handleLogout function\r\n */\r\nexport const useLogout = () => {\r\n  const [auth, setAuth] = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n \r\n  const notifyError = (msg) => toast.error(msg, TOAST_CONFIG);\r\n  const notifySuccess = (msg) => toast.success(msg, TOAST_CONFIG);\r\n \r\n  const handleLogout = () => {\r\n    try {\r\n      setAuth({ ...auth, user: null, token: \"\" });\r\n      localStorage.removeItem(\"userAuthDetails\");\r\n      notifySuccess(\"You have Logged Out Successfully!\");\r\n      navigate(location.state || \"/Login\");\r\n      \r\n      // Consider using navigate with a refresh parameter instead of manual reload\r\n      // This avoids potential memory leaks or incomplete navigation\r\n      window.location.reload();\r\n    } catch (error) {\r\n      console.error(\"Logout error:\", error);\r\n      notifyError(\"Something went wrong during logout!\");\r\n    }\r\n  };\r\n \r\n  return { handleLogout };\r\n};\r\n\r\n/**\r\n * Logout Button Component - can be used as a standalone component\r\n * @param {Object} props - Component props\r\n * @param {string} props.className - Optional CSS class\r\n * @param {React.ReactNode} props.children - Optional custom content\r\n */\r\nconst LogoutButton = ({ className, children }) => {\r\n  const { handleLogout } = useLogout();  \r\n \r\n  return (\r\n    <button\r\n      onClick={handleLogout}\r\n      className={className || \"logout-button\"}\r\n      type=\"button\" // Explicitly define button type for better accessibility\r\n    >\r\n      {children || (\r\n        <>          \r\n         <span className=\"menu-title\">Logout</span>\r\n         <i className=\"mdi mdi-logout menu-icon\"></i>\r\n        </>\r\n      )}\r\n    </button>\r\n  );\r\n};\r\n\r\n/**\r\n * Logout Link Component - for use within navigation that requires <Link>\r\n * @param {Object} props - Component props\r\n * @param {string} props.className - Optional CSS class\r\n * @param {string} props.to - Optional target path (unused)\r\n * @param {React.ReactNode} props.children - Optional custom content\r\n */\r\nconst LogoutLink = ({ className, to = \"/Test-Login\", children }) => {\r\n  const { handleLogout } = useLogout();\r\n \r\n  return (\r\n    <Link\r\n      to=\"#\"\r\n      className={className || \"menu-title\"}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        handleLogout();\r\n      }}\r\n    >\r\n      {children || (\r\n        <>\r\n          <span className=\"menu-title\">Logout</span>\r\n          <i className=\"mdi mdi-logout menu-icon\"></i>\r\n        </>\r\n      )}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport { LogoutButton, LogoutLink };\r\nexport default LogoutLink;"],"names":["Modal","STORAGE_USER_KEY","process","STORAGE_INPUT_KEY","REACT_APP_CHAT_INPUT_KEY","STORAGE_CHAT_STATE_KEY","REACT_APP_CHAT_STATE_KEY","timeAgo","ts","d","Date","diff","Math","floor","now","getTime","toLocaleDateString","defaultAvatar","getProfileImageSrc","userPhoto","arguments","length","undefined","startsWith","ChatBotIcon","socket","isConnected","useSocket","auth","useAuth","userFromAuth","user","input","setInput","useState","isOpen","setIsOpen","session","setSession","messages","setMessages","quickReplies","setQuickReplies","businessInfo","setBusinessInfo","unreadCount","setUnreadCount","showGuestForm","setShowGuestForm","isSubmittingGuest","setIsSubmittingGuest","guestFormErrors","setGuestFormErrors","guestInfo","setGuestInfo","firstName","lastName","email","phone","audioRef","useRef","messagesEndRef","userFormSubmitted","useMemo","Boolean","trim","needsGuestForm","logWithIcon","logging","guestInfoComplete","storageKey","_id","id","useEffect","savedInput","localStorage","getItem","info","error","warning","setItem","removeItem","savedChatState","chatState","JSON","parse","timestamp","stringify","raw","u","savedMessages","lastMessage","current","scrollIntoView","behavior","beepUrl","Audio","normalizeMessage","useCallback","msg","_msg$metadata","_session$agent","_msg$metadata2","text","message","createdAt","from","senderType","avatar","metadata","senderAvatar","agent","photo","FavIconLogo","handleIncomingMessage","rawMsg","prev","n","play","catch","onSessionCreated","payloadRaw","_payloadRaw$body","payload","body","data","sess","businessHours","welcomeMessage","onMessageNew","onMessageStatus","_ref","messageId","status","map","m","on","off","createSession","async","connected","sessionData","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","waiting","userEmail","userId","entryPoint","selectedOption","firstname","lastname","authenticatedUser","success","guestEmail","toLowerCase","guestFirstName","guestLastName","guestPhone","isGuest","emit","result","Promise","resolve","reject","timeout","setTimeout","Error","err","_result$body","clearTimeout","sendMessage","draft","sessionId","messageType","handleQuickReply","option","value","initializeChatSession","hasSession","messagesLength","biz","res","API","get","fetchBusinessHours","userName","outsideHoursMessage","outsideHoursOptions","handleCloseChat","handleGuestFormChange","e","name","target","handleInputChange","handleKeyDown","key","inputEnabled","preventDefault","_jsxs","className","children","onClick","next","debug","guest","_jsx","style","cursor","title","stopPropagation","Link","to","src","alt","_m$quickReplies","isUser","qr","i","ref","onChange","placeholder","onKeyDown","disabled","onRequestClose","overlayClassName","shouldCloseOnOverlayClick","shouldCloseOnEsc","submit","color","backgroundColor","padding","borderRadius","marginBottom","border","type","autoFocus","required","fontSize","marginTop","display","gap","errors","validateGuestForm","test","Object","keys","cleanGuestInfo","response","post","_error$response","_error$response$data","opacity","flex","Footer","_auth$user","_auth$user2","_auth$user5","_auth$user6","currentYear","getFullYear","setAuth","setUser","params","useParams","useNavigate","console","log","fetchRegUserById","useLocation","_Fragment","role","window","location","href","_auth$user3","userRole","linkPath","_auth$user4","LogoutLink","FaLinkedin","FaFacebook","BsTwitterX","FaWhatsapp","TestHomeHeader","_auth$user7","_auth$user8","_auth$user9","_auth$user0","_auth$user1","_auth$user10","_auth$user11","_auth$user12","_auth$user14","_auth$user15","_auth$user16","_auth$user17","_auth$user18","_auth$user19","_auth$user20","_auth$user21","_auth$user22","mobileMenuOpen","setMobileMenuOpen","activeDropdown","setActiveDropdown","isSticky","setIsSticky","handleScroll","scrollY","addEventListener","removeEventListener","toggleDropdown","index","innerWidth","handleLinkClick","handleClickOutside","closest","handleResize","document","getUserDisplayName","userObj","first_name","last_name","renderAdminMenuItems","renderSuperAdminMenuItems","renderLogoutItem","LogoutNavbarLink","Logo","toggleMobileMenu","height","width","_auth$user13","_auth$user23","TOAST_CONFIG","position","autoClose","closeOnClick","pauseOnHover","theme","useLogout","navigate","handleLogout","token","toast","state","reload","notifyError","_ref2"],"sourceRoot":""}